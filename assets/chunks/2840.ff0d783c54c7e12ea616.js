(self.webpackChunk=self.webpackChunk||[]).push([[2840],{"../node_modules/date-fns/esm/formatDistance/index.js":function(Z,M,r){"use strict";r.d(M,{Z:function(){return B}});var n=r("../node_modules/date-fns/esm/_lib/defaultOptions/index.js"),e=r("../node_modules/date-fns/esm/toDate/index.js"),d=r("../node_modules/date-fns/esm/_lib/requiredArgs/index.js");function c(i,a){(0,d.Z)(2,arguments);var o=(0,e.Z)(i),g=(0,e.Z)(a),O=o.getTime()-g.getTime();return O<0?-1:O>0?1:O}function v(i,a){(0,d.Z)(2,arguments);var o=(0,e.Z)(i),g=(0,e.Z)(a),O=o.getFullYear()-g.getFullYear(),A=o.getMonth()-g.getMonth();return O*12+A}function h(i){(0,d.Z)(1,arguments);var a=(0,e.Z)(i);return a.setHours(23,59,59,999),a}function I(i){(0,d.Z)(1,arguments);var a=(0,e.Z)(i),o=a.getMonth();return a.setFullYear(a.getFullYear(),o+1,0),a.setHours(23,59,59,999),a}function E(i){(0,d.Z)(1,arguments);var a=(0,e.Z)(i);return h(a).getTime()===I(a).getTime()}function R(i,a){(0,d.Z)(2,arguments);var o=(0,e.Z)(i),g=(0,e.Z)(a),O=c(o,g),A=Math.abs(v(o,g)),m;if(A<1)m=0;else{o.getMonth()===1&&o.getDate()>27&&o.setDate(30),o.setMonth(o.getMonth()-O*A);var C=c(o,g)===-O;E((0,e.Z)(i))&&A===1&&c(i,g)===1&&(C=!1),m=O*(A-Number(C))}return m===0?0:m}function N(i,a){return(0,d.Z)(2,arguments),(0,e.Z)(i).getTime()-(0,e.Z)(a).getTime()}var P={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(a){return a<0?Math.ceil(a):Math.floor(a)}},j="trunc";function t(i){return i?P[i]:P[j]}function l(i,a,o){(0,d.Z)(2,arguments);var g=N(i,a)/1e3;return t(o==null?void 0:o.roundingMethod)(g)}var s=r("../node_modules/date-fns/esm/_lib/defaultLocale/index.js");function f(i,a){if(i==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(i[o]=a[o]);return i}function D(i){return f({},i)}var u=r("../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js"),p=1440,S=2520,x=43200,y=86400;function B(i,a,o){var g,O;(0,d.Z)(2,arguments);var A=(0,n.j)(),m=(g=(O=o==null?void 0:o.locale)!==null&&O!==void 0?O:A.locale)!==null&&g!==void 0?g:s.Z;if(!m.formatDistance)throw new RangeError("locale must contain formatDistance property");var C=c(i,a);if(isNaN(C))throw new RangeError("Invalid time value");var _=f(D(o),{addSuffix:Boolean(o==null?void 0:o.addSuffix),comparison:C}),b,F;C>0?(b=(0,e.Z)(a),F=(0,e.Z)(i)):(b=(0,e.Z)(i),F=(0,e.Z)(a));var L=l(F,b),$=((0,u.Z)(F)-(0,u.Z)(b))/1e3,T=Math.round((L-$)/60),U;if(T<2)return o!=null&&o.includeSeconds?L<5?m.formatDistance("lessThanXSeconds",5,_):L<10?m.formatDistance("lessThanXSeconds",10,_):L<20?m.formatDistance("lessThanXSeconds",20,_):L<40?m.formatDistance("halfAMinute",0,_):L<60?m.formatDistance("lessThanXMinutes",1,_):m.formatDistance("xMinutes",1,_):T===0?m.formatDistance("lessThanXMinutes",1,_):m.formatDistance("xMinutes",T,_);if(T<45)return m.formatDistance("xMinutes",T,_);if(T<90)return m.formatDistance("aboutXHours",1,_);if(T<p){var k=Math.round(T/60);return m.formatDistance("aboutXHours",k,_)}else{if(T<S)return m.formatDistance("xDays",1,_);if(T<x){var H=Math.round(T/p);return m.formatDistance("xDays",H,_)}else if(T<y)return U=Math.round(T/x),m.formatDistance("aboutXMonths",U,_)}if(U=R(F,b),U<12){var W=Math.round(T/x);return m.formatDistance("xMonths",W,_)}else{var w=U%12,G=Math.floor(U/12);return w<3?m.formatDistance("aboutXYears",G,_):w<9?m.formatDistance("overXYears",G,_):m.formatDistance("almostXYears",G+1,_)}}},"./js/api/commands/admin/httpd.js":function(Z,M,r){"use strict";r.d(M,{J_:function(){return R},Nk:function(){return h},Pw:function(){return N},Yy:function(){return E},ad:function(){return l},ay:function(){return t},du:function(){return I},hF:function(){return j},tl:function(){return P}});var n=r("./js/api/command/index.js"),e=r("./js/modules/utils/index.js");const d=e.fp.flow(e.fp.convert.toAppString,e.fp.convert.toLines),c=e.fp.flow(s=>s||"",e.fp.convert.toAppString,e.fp.convert.toAppText),v="/CMD_CUSTOM_HTTPD",h=n.Z.get({id:"CUSTOM_HTTPD_DOMAINS",url:v,pagination:!0,after:()=>e.fp.flow(e.fp.mapProp("domains",e.fp.toTable()),e.fp.mapProp("file",e.fp.feedWith(1,s=>["nginx","nginx_proxy","openlitespeed","httpd"].find(f=>s[`have_${f}`]==="1")||"httpd")))}),I=n.Z.post({url:v,params:{action:"all",rewrite_confs:!0}}),E=n.Z.get({url:v,id:"CH_DOMAIN_CONFIG",schema:{domain:n.Z.REQUIRED_STRING,proxy:n.Z.OPTIONAL_BOOL},after:()=>e.fp.flow(s=>({tokens:s.AVAILABLE_TOKENS,error:s.CONFIG_ERROR,test:s.CONFIG_TEST,data:s.HTTPD,templates:s}),e.fp.mapProps({error:e.fp.isEqual("1"),nginx:e.fp.isEqual("1"),data:d,test:c,templates:e.fp.flow(e.fp.filter((s,f)=>f.includes("VH")),e.fp.filter(e.fp.getProp("data")),e.fp.toArray,e.fp.mapArrayProps({data:d,custom:e.fp.isEqual("1")})),tokens:e.fp.flow(e.fp.mapValues((s,f)=>({token:f,value:s})),e.fp.toArray)}))}),R=n.Z.get({url:v,id:"CH_DOMAIN_CUSTOMIZATION_VALUES",schema:{domain:n.Z.REQUIRED_STRING,proxy:n.Z.OPTIONAL_BOOL},after:()=>e.fp.flow(e.fp.project({config:"CONFIG",custom1:"CUSTOM1",custom2:"CUSTOM2",custom3:"CUSTOM3",custom4:"CUSTOM4",custom5:"CUSTOM5",custom6:"CUSTOM6",custom7:"CUSTOM7",custom8:"CUSTOM8",tokens:"AVAILABLE_TOKENS",appendix:"VH1.custom_global_pre_post",tokensCount:"NUM_CUSTOM_TOKENS"}),e.fp.mapProps({config:c,custom1:c,custom2:c,custom3:c,custom4:c,custom5:c,custom6:c,custom7:c,custom8:c,nginx:e.fp.convert.toAppBoolean,tokensCount:e.fp.convert.toAppNumber,tokens:e.fp.flow(e.fp.mapValues((s,f)=>({token:f,value:s})),e.fp.toArray),appendix:e.fp.flow(e.fp.setDefault({}),e.fp.filter((s,f)=>f.includes("CUSTOM")),e.fp.mapValues(c),e.fp.transformObject((s,f)=>{const[,D]=f.match(/^.*(CUSTOM.*)$/);return{[D]:{data:s,name:f}}}))}))}),N=n.Z.post({url:v,schema:{proxy:n.Z.OPTIONAL_STRING,domain:n.Z.REQUIRED_STRING,config:n.Z.OPTIONAL_STRING,custom1:n.Z.OPTIONAL_STRING,custom2:n.Z.OPTIONAL_STRING,custom3:n.Z.OPTIONAL_STRING,custom4:n.Z.OPTIONAL_STRING,custom5:n.Z.OPTIONAL_STRING,custom6:n.Z.OPTIONAL_STRING,custom7:n.Z.OPTIONAL_STRING,custom8:n.Z.OPTIONAL_STRING}}),P=n.Z.get({url:v,id:"CH_PHP_FPM_CONFIGURATION",schema:{user:n.Z.REQUIRED_STRING,"php-fpm":n.Z.REQUIRED_STRING},after:()=>e.fp.flow(e.fp.project({error:"CONFIG_ERROR",test:"CONFIG_TEST",custom1:"CUSTOM1",custom2:"CUSTOM2",global_custom1:"GLOBAL_CUSTOM1",global_custom2:"GLOBAL_CUSTOM2","config.data":"FPM_CONFIG","config.file":"FPM_CONFIG_FILE","config.version":"FPM_VER","template.custom":"PHP_FPM_IS_CUSTOM_TEMPLATE","template.data":"PHP_FPM_TEMPLATE","template.name":"PHP_FPM_TEMPLATE_NAME","template.short":"PHP_FPM_TEMPLATE_NAME_SHORT"}),e.fp.mapProps({error:e.fp.isEqual("1"),test:c,custom1:c,custom2:c,config:e.fp.mapProp("data",d),template:e.fp.mapProps({custom:e.fp.isEqual("1"),data:d})}))}),j=n.Z.get({id:"CH_PHP_FPM_TOKENS",url:v,schema:{user:n.Z.REQUIRED_STRING,"php-fpm":n.Z.REQUIRED_STRING},after:()=>e.fp.flow(e.fp.getProp("AVAILABLE_TOKENS"),e.fp.mapValues((s,f)=>({token:f,value:s})),e.fp.toArray)}),t=n.Z.post({url:v,schema:{user:n.Z.REQUIRED_STRING,"php-fpm":n.Z.REQUIRED_STRING,custom1:n.Z.OPTIONAL_STRING,custom2:n.Z.OPTIONAL_STRING,all_php_versions:n.Z.OPTIONAL_BOOL}}),l=n.Z.get({id:"CH_DIFF",url:"/CMD_TEMPLATE_DIFF",schema:{name:n.Z.REQUIRED_STRING},after:()=>e.fp.flow(e.fp.deleteProp("lines"),e.fp.mapValues((s,f)=>({...s,number:f})),e.fp.toArray,e.fp.mapArray(e.fp.moveProp("line","content")),e.fp.mapArrayProps({number:e.fp.convert.toAppNumber,content:s=>s?s.replace(/\t/g,"    "):""}),e.fp.sortBy("number"))})},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/custom-httpd/index.vue?vue&type=style&index=0&id=240155a5&prod&lang=scss&scoped=true&":function(){},"./js/composables/dateFilter.ts":function(Z,M,r){"use strict";r.d(M,{W:function(){return v},f:function(){return d.f}});var n=r("../node_modules/ramda/es/index.js"),e=r("../node_modules/date-fns/esm/format/index.js"),d=r("./js/modules/date-formats.ts"),c=r("./js/modules/customizations/date-formats/default.ts");const v=n.WAo((h,I)=>{if(I)try{return(0,e.Z)(I,d.f.value[h])}catch(E){return console.warn(`Given ${h} format is incorrect:
${E.message}`),(0,e.Z)(I,c.d[h])}return""})},"./js/composables/filters.ts":function(Z,M,r){"use strict";r.d(M,{Q0:function(){return l},aS:function(){return f},d5:function(){return s},eB:function(){return P},hT:function(){return R},kC:function(){return E},n9:function(){return t},zM:function(){return N}});var n=r("../node_modules/date-fns/esm/formatDistance/index.js"),e=r("../node_modules/punycode/punycode.es6.js"),d=r("./js/composables/dateFilter.ts"),c=r("./js/composables/gettext.ts");const{$gettext:v,$ngettext:h,$gettextInterpolate:I}=(0,c.Z)(),E=u=>{var p;return u?((p=u.at(0))===null||p===void 0?void 0:p.toUpperCase())+u.slice(1):""},R=(u,p="datetime")=>(0,d.W)(p,u),N=u=>(0,n.Z)(u,new Date),P=(u,p=1024)=>{const S=Number(u);if(!S)return"0 B";const x=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],y=Math.floor(Math.log(S)/Math.log(p));return`${parseFloat((S/p**y).toFixed(2))} ${x[y]}`},j=u=>{try{return(0,e.xX)(u)}catch(p){return u}},t=u=>(0,e.xX)(u),l=u=>{if(!u||!u.includes("@"))return u;const[p,S]=u.split("@");return[p,j(S)].join("@")},s=u=>{if(u<60)return v("less than a minute");const p=Math.floor(u/60)%60,S=Math.floor(u/3600)%24,x=Math.floor(u/(3600*24)),y=[x?h("%{days} day","%{days} days",x):null,S?h("%{hours} hour","%{hours} hours",S):null,p?h("%{minutes} minute","%{minutes} minutes",p):null].filter(Boolean).join(", ");return I(y,{days:x,hours:S,minutes:p})},f=(u,p)=>u.length<=p?u:`${u.substring(0,p)}...`,D=()=>({capitalize:E,date:R,distanceFromNow:N,humanReadableSize:P,p6eUnicode:t,p6eUnicodeEmail:l,formatUptime:s,truncateString:f})},"./js/pages/admin/custom-httpd/index.vue":function(Z,M,r){"use strict";r.r(M),r.d(M,{default:function(){return P}});var n=function(){var t=this,l=t._self._c;return l("app-page",{attrs:{actions:[{handler:t.buildRewriteConfs,label:"./build rewrite_confs",icon:"#settings"}]},scopedSlots:t._u([{key:"default",fn:function(){return[l("app-page-section",[l("ui-form-element",{attrs:{underline:!1},scopedSlots:t._u([{key:"title",fn:function(){return[l("span",{domProps:{textContent:t._s(t.$gettext("Show Domains that"))}})]},proxy:!0},{key:"content",fn:function(){return[l("ui-input-group",{scopedSlots:t._u([{key:"additions:left",fn:function(){return[l("input-select",{staticClass:"search-type-select",attrs:{options:{startswith:t.$gettext("Starts With"),contains:t.$gettext("Contains"),equals:t.$gettext("Equals")}},model:{value:t.filter.type,callback:function(s){t.$set(t.filter,"type",s)},expression:"filter.type"}})]},proxy:!0},{key:"input",fn:function(){return[l("input-text",{model:{value:t.filter.value,callback:function(s){t.$set(t.filter,"value",s)},expression:"filter.value"}})]},proxy:!0},{key:"additions:right",fn:function(){return[l("ui-button",{attrs:{theme:"light",size:"normal",icon:"close",title:t.$gettext("Clear Search")},on:{click:function(s){t.filter.value=""}}})]},proxy:!0}])})]},proxy:!0}])})],1),t._v(" "),l("app-page-section",[l("ui-api-table",t._b({attrs:{"disable-select":""},scopedSlots:t._u([{key:"col:domain",fn:function({domain:s}){return[t._v(`
                    `+t._s(t.p6eUnicode(s))+`
                `)]}},{key:"col:info",fn:function({info:s}){return[t._v(`
                    `+t._s(s.user)+`
                `)]}},{key:"col:configuration",fn:function({domain:s,info:f}){return[l("div",{directives:[{name:"gutter",rawName:"v-gutter",value:[0,1],expression:"[0, 1]"}]},[t.file==="nginx_proxy"?[l("ui-link",{attrs:{name:"admin/custom-httpd/view",params:{dom:s,file:"httpd"}}},[t._v(`
                                httpd.conf
                            `)]),t._v(" "),l("ui-link",{attrs:{name:"admin/custom-httpd/view",params:{dom:s,file:"nginx_proxy"}}},[t._v(`
                                nginx.conf proxy
                            `)])]:l("ui-link",{attrs:{name:"admin/custom-httpd/view",params:{dom:s,file:t.file}}},[t._v(`
                            `+t._s(t.file)+`.conf
                        `)]),t._v(" "),t._l(t.getPhpFpmFiles(f),function(D){return l("ui-link",{key:D,attrs:{name:"admin/custom-httpd/php-fpm",params:{user:f.user,version:D}}},[t._v(`
                            php-fpm.conf (`+t._s(D)+`)
                        `)])})],2)]}}])},"ui-api-table",{command:t.$commands.getDomains,property:"domains",columns:{domain:{label:t.$gettext("Domain"),grow:!0,editable:!1},info:t.$gettext("User"),configuration:{label:t.$gettext("Conf. Files")}},filters:[t.filter]},!1))],1)]},proxy:!0},{key:"footer:buttons",fn:function(){return[l("ui-button",{attrs:{size:"big",theme:"safe"},on:{click:t.buildRewriteConfs}},[l("span",{domProps:{textContent:t._s(t.$gettext("./build rewrite_confs"))}})])]},proxy:!0}])})},e=[],d=r("./js/api/commands/admin/httpd.js"),c=r("../node_modules/ramda/es/index.js"),v=r("./js/composables/filters.ts"),h={preload:d.Nk,api:[{command:d.Nk,bind:"domains"}],commands:{getDomains:d.Nk},data(){return{filter:{column:"domain",type:"startswith",value:""}}},computed:{file(){return this.$api.domains.file}},methods:{p6eUnicode:v.n9,buildRewriteConfs(){(0,d.du)()},getPhpFpmFiles(j){return c.D95((t,l)=>l.startsWith("php-fpm"),j)}}},I=h,E=r("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/custom-httpd/index.vue?vue&type=style&index=0&id=240155a5&prod&lang=scss&scoped=true&"),R=r("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),N=(0,R.Z)(I,n,e,!1,null,"240155a5",null),P=N.exports},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/custom-httpd/index.vue?vue&type=style&index=0&id=240155a5&prod&lang=scss&scoped=true&":function(Z,M,r){var n=r("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/custom-httpd/index.vue?vue&type=style&index=0&id=240155a5&prod&lang=scss&scoped=true&");n.__esModule&&(n=n.default),typeof n=="string"&&(n=[[Z.id,n,""]]),n.locals&&(Z.exports=n.locals);var e=r("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,d=e("1d822c6c",n,!0,{})}}]);
