"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[3367],{"../node_modules/date-fns/esm/formatDistance/index.js":function(C,D,o){o.d(D,{Z:function(){return G}});var l=o("../node_modules/date-fns/esm/_lib/defaultOptions/index.js"),s=o("../node_modules/date-fns/esm/toDate/index.js"),u=o("../node_modules/date-fns/esm/_lib/requiredArgs/index.js");function p(a,n){(0,u.Z)(2,arguments);var t=(0,s.Z)(a),f=(0,s.Z)(n),h=t.getTime()-f.getTime();return h<0?-1:h>0?1:h}function E(a,n){(0,u.Z)(2,arguments);var t=(0,s.Z)(a),f=(0,s.Z)(n),h=t.getFullYear()-f.getFullYear(),Z=t.getMonth()-f.getMonth();return h*12+Z}function _(a){(0,u.Z)(1,arguments);var n=(0,s.Z)(a);return n.setHours(23,59,59,999),n}function v(a){(0,u.Z)(1,arguments);var n=(0,s.Z)(a),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}function e(a){(0,u.Z)(1,arguments);var n=(0,s.Z)(a);return _(n).getTime()===v(n).getTime()}function b(a,n){(0,u.Z)(2,arguments);var t=(0,s.Z)(a),f=(0,s.Z)(n),h=p(t,f),Z=Math.abs(E(t,f)),i;if(Z<1)i=0;else{t.getMonth()===1&&t.getDate()>27&&t.setDate(30),t.setMonth(t.getMonth()-h*Z);var S=p(t,f)===-h;e((0,s.Z)(a))&&Z===1&&p(a,f)===1&&(S=!1),i=h*(Z-Number(S))}return i===0?0:i}function k(a,n){return(0,u.Z)(2,arguments),(0,s.Z)(a).getTime()-(0,s.Z)(n).getTime()}var P={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(n){return n<0?Math.ceil(n):Math.floor(n)}},m="trunc";function T(a){return a?P[a]:P[m]}function A(a,n,t){(0,u.Z)(2,arguments);var f=k(a,n)/1e3;return T(t==null?void 0:t.roundingMethod)(f)}var L=o("../node_modules/date-fns/esm/_lib/defaultLocale/index.js");function B(a,n){if(a==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(a[t]=n[t]);return a}function w(a){return B({},a)}var r=o("../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js"),c=1440,M=2520,I=43200,O=86400;function G(a,n,t){var f,h;(0,u.Z)(2,arguments);var Z=(0,l.j)(),i=(f=(h=t==null?void 0:t.locale)!==null&&h!==void 0?h:Z.locale)!==null&&f!==void 0?f:L.Z;if(!i.formatDistance)throw new RangeError("locale must contain formatDistance property");var S=p(a,n);if(isNaN(S))throw new RangeError("Invalid time value");var d=B(w(t),{addSuffix:Boolean(t==null?void 0:t.addSuffix),comparison:S}),R,U;S>0?(R=(0,s.Z)(n),U=(0,s.Z)(a)):(R=(0,s.Z)(a),U=(0,s.Z)(n));var x=A(U,R),y=((0,r.Z)(U)-(0,r.Z)(R))/1e3,g=Math.round((x-y)/60),j;if(g<2)return t!=null&&t.includeSeconds?x<5?i.formatDistance("lessThanXSeconds",5,d):x<10?i.formatDistance("lessThanXSeconds",10,d):x<20?i.formatDistance("lessThanXSeconds",20,d):x<40?i.formatDistance("halfAMinute",0,d):x<60?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",1,d):g===0?i.formatDistance("lessThanXMinutes",1,d):i.formatDistance("xMinutes",g,d);if(g<45)return i.formatDistance("xMinutes",g,d);if(g<90)return i.formatDistance("aboutXHours",1,d);if(g<c){var W=Math.round(g/60);return i.formatDistance("aboutXHours",W,d)}else{if(g<M)return i.formatDistance("xDays",1,d);if(g<I){var z=Math.round(g/c);return i.formatDistance("xDays",z,d)}else if(g<O)return j=Math.round(g/I),i.formatDistance("aboutXMonths",j,d)}if(j=b(U,R),j<12){var F=Math.round(g/I);return i.formatDistance("xMonths",F,d)}else{var $=j%12,N=Math.floor(j/12);return $<3?i.formatDistance("aboutXYears",N,d):$<9?i.formatDistance("overXYears",N,d):i.formatDistance("almostXYears",N+1,d)}}},"./js/api/commands/user/email/usage.js":function(C,D,o){o.d(D,{Ic:function(){return p},LP:function(){return _},Lb:function(){return E},TM:function(){return s},gN:function(){return v},zS:function(){return u}});var l=o("./js/api/command/index.js");const s=l.Z.get({id:"BLOCK_CRACKING",url:"/CMD_EMAIL_USAGE",params:{main_info:!1,sending_php_scripts:!1,block_cracking_paths:!0},domain:!0,pagination:!0,after:e=>e.flow(b=>b.block_cracking_paths?b:{block_cracking_paths:"no",block_cracking_paths_table:{info:{ipp:"10",total_pages:"1",current_page:"1",rows:"0"}}},e.moveProp({block_cracking_paths:"options.enabled",block_cracking_paths_table:"rows"}),e.processTableInfo("rows"),e.mapProps({options:e.mapProps({enabled:e.convert.toAppBoolean}),rows:e.flow(e.toArray,e.mapArray(e.flow(e.moveProp({date_blocked:"date",blocked_path:"path"}),e.mapProps({date:e.convert.toAppDate}))))}))}),u=l.Z.get({id:"SENDING_SCRIPTS",url:"/CMD_EMAIL_USAGE",params:{main_info:!1,sending_php_scripts:!0,block_cracking_paths:!1,which:"both"},domain:!0,pagination:!0,after:e=>e.flow(e.moveProp({sending_php_scripts:"rows"}),e.processTableInfo("rows"),e.mapProp("rows",e.flow(e.toArray,e.mapArray(e.flow(e.moveProp({script_name:"script",mail_line_number:"line",send_count:"send"}),e.mapProps({send:e.convert.toAppNumber,line:e.flow(e.convert.toAppString,e.convert.toAppNumber)}))))))}),p=l.Z.get({id:"EMAIL_USAGE",url:"/CMD_EMAIL_USAGE",params:{main_info:!0,sending_php_scripts:!1,block_cracking_paths:!1,which:"both"},schema:{direction:l.Z.OPTIONAL_STRING},domain:!0,pagination:!0,after:e=>e.flow(e.project({rows:"deliveries",highest:"highest"}),e.processTableInfo("rows"),e.mapProp("rows",e.mapArrayProps({time:e.convert.toAppDate,size:e.convert.toAppNumber})))}),E=l.Z.select({url:"/CMD_EMAIL_USAGE",params:{unblock:!0,action:"unblock"},domain:!0}),_=l.Z.get({id:"SMTP_LOG",url:"/CMD_EMAIL_USAGE",params:{action:"smtp_log"},schema:{user:l.Z.REQUIRED_STRING,method:l.Z.REQUIRED_STRING},domain:!0,accept:"text/plain",response:[],after:()=>e=>e.split(`
`)}),v=l.Z.get({id:"EMAIL_USAGE_ID_INFO",url:"/CMD_EMAIL_USAGE",params:{action:"id_info"},schema:{id:l.Z.REQUIRED_STRING},domain:!0,accept:"text/plain",response:[],after:()=>e=>e.split(`
`)})},"./js/composables/dateFilter.ts":function(C,D,o){o.d(D,{W:function(){return E},f:function(){return u.f}});var l=o("../node_modules/ramda/es/index.js"),s=o("../node_modules/date-fns/esm/format/index.js"),u=o("./js/modules/date-formats.ts"),p=o("./js/modules/customizations/date-formats/default.ts");const E=l.WAo((_,v)=>{if(v)try{return(0,s.Z)(v,u.f.value[_])}catch(e){return console.warn(`Given ${_} format is incorrect:
${e.message}`),(0,s.Z)(v,p.d[_])}return""})},"./js/composables/filters.ts":function(C,D,o){o.d(D,{Q0:function(){return A},aS:function(){return B},d5:function(){return L},eB:function(){return P},hT:function(){return b},kC:function(){return e},n9:function(){return T},zM:function(){return k}});var l=o("../node_modules/date-fns/esm/formatDistance/index.js"),s=o("../node_modules/punycode/punycode.es6.js"),u=o("./js/composables/dateFilter.ts"),p=o("./js/composables/gettext.ts");const{$gettext:E,$ngettext:_,$gettextInterpolate:v}=(0,p.Z)(),e=r=>{var c;return r?((c=r.at(0))===null||c===void 0?void 0:c.toUpperCase())+r.slice(1):""},b=(r,c="datetime")=>(0,u.W)(c,r),k=r=>(0,l.Z)(r,new Date),P=(r,c=1024)=>{const M=Number(r);if(!M)return"0 B";const I=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],O=Math.floor(Math.log(M)/Math.log(c));return`${parseFloat((M/c**O).toFixed(2))} ${I[O]}`},m=r=>{try{return(0,s.xX)(r)}catch(c){return r}},T=r=>(0,s.xX)(r),A=r=>{if(!r||!r.includes("@"))return r;const[c,M]=r.split("@");return[c,m(M)].join("@")},L=r=>{if(r<60)return E("less than a minute");const c=Math.floor(r/60)%60,M=Math.floor(r/3600)%24,I=Math.floor(r/(3600*24)),O=[I?_("%{days} day","%{days} days",I):null,M?_("%{hours} hour","%{hours} hours",M):null,c?_("%{minutes} minute","%{minutes} minutes",c):null].filter(Boolean).join(", ");return v(O,{days:I,hours:M,minutes:c})},B=(r,c)=>r.length<=c?r:`${r.substring(0,c)}...`,w=()=>({capitalize:e,date:b,distanceFromNow:k,humanReadableSize:P,p6eUnicode:T,p6eUnicodeEmail:A,formatUptime:L,truncateString:B})},"./js/pages/user/email/usage/blockcracking.vue":function(C,D,o){o.r(D),o.d(D,{default:function(){return k}});var l=function(){var m=this,T=m._self._c;return T("app-page",[T("app-page-section",[T("ui-api-table",m._b({on:{"action:ublock":m.unblockPaths},scopedSlots:m._u([{key:"col:date",fn:function({date:A}){return[m._v(`
                `+m._s(m.date(A,"datetime"))+`
            `)]}}]),model:{value:m.select,callback:function(A){m.select=A},expression:"select"}},"ui-api-table",{endpoint:m.getBlockCracking,columns:{path:m.$gettext("BlockCracker Blocked Paths"),date:m.$gettext("Date")},actions:{unblock:m.$gettext("Unblock")}},!1))],1)],1)},s=[],u=o("./js/api/commands/user/email/usage.js"),p=o("./js/composables/index.ts"),E=o("./js/composables/filters.ts"),_={preload:u.TM,commands:{getBlockCracking:u.TM},api:[{command:u.TM,bind:{"response.options":"options"}}],data(){return{select:[]}},created(){this.$api.options.enabled||(this.$router.back(),(0,p.d$)().error({title:this.$gettext("BlockCracker Blocked Paths"),content:this.$gettext("BlockCracking Disabled")}))},methods:{date:E.hT,unblockPaths(){(0,u.Lb)({select:this.select})}}},v=_,e=o("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),b=(0,e.Z)(v,l,s,!1,null,null,null),k=b.exports}}]);
