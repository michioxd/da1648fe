(self.webpackChunk=self.webpackChunk||[]).push([[1800],{"../node_modules/date-fns/esm/formatDistance/index.js":function(M,S,o){"use strict";o.d(S,{Z:function(){return t}});var d=o("../node_modules/date-fns/esm/_lib/defaultOptions/index.js"),l=o("../node_modules/date-fns/esm/toDate/index.js"),f=o("../node_modules/date-fns/esm/_lib/requiredArgs/index.js");function c(n,r){(0,f.Z)(2,arguments);var p=(0,l.Z)(n),R=(0,l.Z)(r),w=p.getTime()-R.getTime();return w<0?-1:w>0?1:w}function x(n,r){(0,f.Z)(2,arguments);var p=(0,l.Z)(n),R=(0,l.Z)(r),w=p.getFullYear()-R.getFullYear(),P=p.getMonth()-R.getMonth();return w*12+P}function y(n){(0,f.Z)(1,arguments);var r=(0,l.Z)(n);return r.setHours(23,59,59,999),r}function s(n){(0,f.Z)(1,arguments);var r=(0,l.Z)(n),p=r.getMonth();return r.setFullYear(r.getFullYear(),p+1,0),r.setHours(23,59,59,999),r}function a(n){(0,f.Z)(1,arguments);var r=(0,l.Z)(n);return y(r).getTime()===s(r).getTime()}function i(n,r){(0,f.Z)(2,arguments);var p=(0,l.Z)(n),R=(0,l.Z)(r),w=c(p,R),P=Math.abs(x(p,R)),_;if(P<1)_=0;else{p.getMonth()===1&&p.getDate()>27&&p.setDate(30),p.setMonth(p.getMonth()-w*P);var N=c(p,R)===-w;a((0,l.Z)(n))&&P===1&&c(n,R)===1&&(N=!1),_=w*(P-Number(N))}return _===0?0:_}function g(n,r){return(0,f.Z)(2,arguments),(0,l.Z)(n).getTime()-(0,l.Z)(r).getTime()}var D={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(r){return r<0?Math.ceil(r):Math.floor(r)}},E="trunc";function O(n){return n?D[n]:D[E]}function v(n,r,p){(0,f.Z)(2,arguments);var R=g(n,r)/1e3;return O(p==null?void 0:p.roundingMethod)(R)}var h=o("../node_modules/date-fns/esm/_lib/defaultLocale/index.js");function $(n,r){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var p in r)Object.prototype.hasOwnProperty.call(r,p)&&(n[p]=r[p]);return n}function A(n){return $({},n)}var m=o("../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js"),j=1440,I=2520,u=43200,e=86400;function t(n,r,p){var R,w;(0,f.Z)(2,arguments);var P=(0,d.j)(),_=(R=(w=p==null?void 0:p.locale)!==null&&w!==void 0?w:P.locale)!==null&&R!==void 0?R:h.Z;if(!_.formatDistance)throw new RangeError("locale must contain formatDistance property");var N=c(n,r);if(isNaN(N))throw new RangeError("Invalid time value");var k=$(A(p),{addSuffix:Boolean(p==null?void 0:p.addSuffix),comparison:N}),Z,L;N>0?(Z=(0,l.Z)(r),L=(0,l.Z)(n)):(Z=(0,l.Z)(n),L=(0,l.Z)(r));var C=v(L,Z),B=((0,m.Z)(L)-(0,m.Z)(Z))/1e3,b=Math.round((C-B)/60),T;if(b<2)return p!=null&&p.includeSeconds?C<5?_.formatDistance("lessThanXSeconds",5,k):C<10?_.formatDistance("lessThanXSeconds",10,k):C<20?_.formatDistance("lessThanXSeconds",20,k):C<40?_.formatDistance("halfAMinute",0,k):C<60?_.formatDistance("lessThanXMinutes",1,k):_.formatDistance("xMinutes",1,k):b===0?_.formatDistance("lessThanXMinutes",1,k):_.formatDistance("xMinutes",b,k);if(b<45)return _.formatDistance("xMinutes",b,k);if(b<90)return _.formatDistance("aboutXHours",1,k);if(b<j){var F=Math.round(b/60);return _.formatDistance("aboutXHours",F,k)}else{if(b<I)return _.formatDistance("xDays",1,k);if(b<u){var W=Math.round(b/j);return _.formatDistance("xDays",W,k)}else if(b<e)return T=Math.round(b/u),_.formatDistance("aboutXMonths",T,k)}if(T=i(L,Z),T<12){var X=Math.round(b/u);return _.formatDistance("xMonths",X,k)}else{var V=T%12,U=Math.floor(T/12);return V<3?_.formatDistance("aboutXYears",U,k):V<9?_.formatDistance("overXYears",U,k):_.formatDistance("almostXYears",U+1,k)}}},"./js/vue-globals/mixins/local/inputValidation.js":function(M,S,o){"use strict";o.r(S),o.d(S,{$inputValidation:function(){return f}});var d=o("./js/vue-globals/helpers.js"),l=o("./js/stores/index.ts");const f={inject:{groupID:{default:null},inputID:{default:null},validators:{default:()=>({})}},props:{id:{type:String,required:!1,default(){return this.inputID}},group:{type:String,required:!1,default(){return this.groupID}},novalidate:{type:Boolean,required:!1,default(){return!Object.keys(this.validators).length}}},computed:{validationStore(){return(0,l.oR)(PiniaStores.VALIDATION)},valid(){return this.validationStore.isValid(this.group,this.id)},errorState(){return!this.novalidate&&this.isUpdated&&!this.valid},isUpdated(){var c;const x=(c=this.validationStore.groups[this.group])==null?void 0:c[this.id];return typeof x=="undefined"?!1:x.updated}},methods:{$validate(c){this.id&&!this.novalidate&&this.validationStore.validate(this.groupID,this.id,c,this.validators)}},created(){if(!this.novalidate){const{validate:c}=this.$options;c&&this.$watch(c,(0,d.Ds)(this.$validate,{trailing:!0,leading:!1,delay:200}),{immediate:!0})}},destroyed(){this.novalidate||this.validationStore.deleteInput(this.group,this.id)}}},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/input-ip.vue?vue&type=style&index=0&id=7be90e6c&prod&lang=scss&":function(){},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/multi-server.vue?vue&type=style&index=0&id=3c1c5ee5&prod&lang=scss&scoped=true&":function(){},"./js/components/local/utils/cidr.ts":function(M,S,o){"use strict";o.d(S,{T:function(){return d},x:function(){return l}});const d=f=>{if(!f)return"";const c=[];let x=Number(f);for(let y=0;y<4;y++){const s=Math.min(x,8);c.push(256-2**(8-s)),x-=s}return c.join(".")},l=f=>{if(!f)return"";const c=(s,a)=>s.split(a).length-1,x=s=>(s>>>0).toString(2);return c((s=>s.split(".").map(Number))(f).map(s=>x(s)).join(""),"1")}},"./js/components/local/utils/mask-definition.ts":function(M,S,o){"use strict";o.d(S,{Xm:function(){return y}});const d={addressDefinition:(s,{buffer:a},i)=>{const g=/^([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/;return i-1>-1&&a[i-1]!=="."&&(a[i-2]&&a[i-2]!=="."?s=a[i-2]+a[i-1]+s:s=a[i-1]+s),g.test(s)},netmaskDefinition:(s,{buffer:a},i)=>{const g=/^3[0-2]$|^[0-2][0-9]$|^[0-9]$/;return a[i-1]!=="/"&&(s=a[i-1]+s),g.test(s)},netmaskDelimiterDefinition:s=>s==="/"},l={addressDefinition:(s,{buffer:a},i)=>{const g=/[A-Fa-f0-9]/;return i===1&&a[0]===":"?!1:g.test(s)},addressDelimiterDefinition:(s,{buffer:a},i)=>s===":"?a[i-1]===":"?!a.join("").includes("::"):!0:/[A-Fa-f0-9]/.test(s)?{insert:[{pos:i,c:":"},{pos:i+1,c:s}],caret:i+2}:!1,netmaskDefinition:(s,{buffer:a},i)=>{const g=a;g.length===i?g.push(s):g[i]=s;const D=Number(g.join("").split("/").at(-1));return D>=0&&D<=128},netmaskDelimiterDefinition:(s,{buffer:a},i)=>{if(!i)return!1;if(a[i-1]===":"&&s==="/")return i>=3&&a[i-2]===":";const[g]=a.join("").split("/"),D=g.split(":").map(E=>E.replace(/_/g,"")).join(":");return s==="/"&&D.includes(":")}},f={ipv4Definition:(s,{buffer:a},i)=>{const g=/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/;return a[i-1]!=="-"?(s=a[i-1]+s,a[i-2]!=="-"?s=a[i-2]+s:s=`0${s}`):s=`00${s}`,g.test(s)},ipv6Definition:s=>/[A-Fa-f0-9]/.test(s),delimiterDefinition:s=>s==="-"},c={ipv4:{i:{validator:d.addressDefinition,cardinality:1},n:{validator:d.netmaskDefinition,cardinality:1},"=":{validator:d.netmaskDelimiterDefinition,cardinality:1,placeholder:"/"}},ipv6:{I:{validator:l.addressDefinition,cardinality:1,casing:"lower"},N:{validator:l.netmaskDefinition},":":{validator:l.addressDelimiterDefinition,cardinality:1,placeholder:":"},"-":{validator:l.netmaskDelimiterDefinition,cardinality:1,placeholder:"/"}}},x={"!":{validator:f.delimiterDefinition,cardinality:1,placeholder:""},r:{validator:f.ipv4Definition,cardinality:1,placeholder:""},R:{validator:f.ipv6Definition,cardinality:1,placeholder:""}},y=(s,a=!1)=>{let i={};return s.forEach(g=>{i={...i,...c[g]}}),a&&(i={...i,...x}),i}},"./js/composables/dateFilter.ts":function(M,S,o){"use strict";o.d(S,{W:function(){return x},f:function(){return f.f}});var d=o("../node_modules/ramda/es/index.js"),l=o("../node_modules/date-fns/esm/format/index.js"),f=o("./js/modules/date-formats.ts"),c=o("./js/modules/customizations/date-formats/default.ts");const x=d.WAo((y,s)=>{if(s)try{return(0,l.Z)(s,f.f.value[y])}catch(a){return console.warn(`Given ${y} format is incorrect:
${a.message}`),(0,l.Z)(s,c.d[y])}return""})},"./js/composables/filters.ts":function(M,S,o){"use strict";o.d(S,{Q0:function(){return v},aS:function(){return $},d5:function(){return h},eB:function(){return D},hT:function(){return i},kC:function(){return a},n9:function(){return O},zM:function(){return g}});var d=o("../node_modules/date-fns/esm/formatDistance/index.js"),l=o("../node_modules/punycode/punycode.es6.js"),f=o("./js/composables/dateFilter.ts"),c=o("./js/composables/gettext.ts");const{$gettext:x,$ngettext:y,$gettextInterpolate:s}=(0,c.Z)(),a=m=>{var j;return m?((j=m.at(0))===null||j===void 0?void 0:j.toUpperCase())+m.slice(1):""},i=(m,j="datetime")=>(0,f.W)(j,m),g=m=>(0,d.Z)(m,new Date),D=(m,j=1024)=>{const I=Number(m);if(!I)return"0 B";const u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],e=Math.floor(Math.log(I)/Math.log(j));return`${parseFloat((I/j**e).toFixed(2))} ${u[e]}`},E=m=>{try{return(0,l.xX)(m)}catch(j){return m}},O=m=>(0,l.xX)(m),v=m=>{if(!m||!m.includes("@"))return m;const[j,I]=m.split("@");return[j,E(I)].join("@")},h=m=>{if(m<60)return x("less than a minute");const j=Math.floor(m/60)%60,I=Math.floor(m/3600)%24,u=Math.floor(m/(3600*24)),e=[u?y("%{days} day","%{days} days",u):null,I?y("%{hours} hour","%{hours} hours",I):null,j?y("%{minutes} minute","%{minutes} minutes",j):null].filter(Boolean).join(", ");return s(e,{days:u,hours:I,minutes:j})},$=(m,j)=>m.length<=j?m:`${m.substring(0,j)}...`,A=()=>({capitalize:a,date:i,distanceFromNow:g,humanReadableSize:D,p6eUnicode:O,p6eUnicodeEmail:v,formatUptime:h,truncateString:$})},"./js/components/local/input-ip.vue":function(M,S,o){"use strict";o.d(S,{Z:function(){return O}});var d=function(){var h=this,$=h._self._c;return $("ui-input-group",{staticClass:"width:100%",scopedSlots:h._u([{key:"additions:left",fn:function(){return[h.showVersionsSelect?$("input-select",{staticClass:"input-ip-version-select",attrs:{novalidate:"",options:{v4:"IPv4",v6:"IPv6"}},on:{change:function(A){return h.$emit("update:version",A)}},model:{value:h.dataVersion,callback:function(A){h.dataVersion=A},expression:"dataVersion"}}):h._e()]},proxy:!0},{key:"input",fn:function(){return[$("input",{ref:"input",staticClass:"input-ip-mask",attrs:{type:"text"},domProps:{value:h.innerValue},on:{input:h.emit,focus:h.moveCursor}})]},proxy:!0},{key:"additions:right",fn:function(){return[h._t("additions:right",null,null,{})]},proxy:!0}],null,!0)})},l=[],f=o("../node_modules/inputmask/dist/inputmask.js"),c=o.n(f),x=o("./js/vue-globals/mixins/local/inputValidation.js"),y=o("./js/components/local/utils/cidr.ts"),s=o("./js/components/local/utils/mask-definition.ts"),a={mixins:[x.$inputValidation],validate:"value",props:{value:{type:String,required:!0},netmask:{type:String,required:!1,default:""},version:{type:String,required:!1,default:"v4"},disableVersionSelect:{type:Boolean,required:!1,default:!1},allowRange:{type:Boolean,required:!1,default:!1}},data:()=>({focused:!1,dataVersion:"v4",innerCidr:null}),computed:{showVersionsSelect(){return!this.disableVersionSelect&&this.$_flags.server.ipv6},cidr(){return this.netmask?this.dataVersion==="v4"?(0,y.x)(this.netmask):this.netmask:this.netmask},innerValue(){return this.value&&this.innerCidr!==null?`${this.value}/${this.cidr}`:this.value},mask(){let v={v4:Array(4).fill("i[i[i]]").join("."),v6:`[I[I[I[I]]]]${Array(7).fill("[:[I[I[I[I]]]]]").join("")}`}[this.dataVersion];const h={v4:"[!r[r[r]]]",v6:"[!R[R[R[R]]]]"}[this.dataVersion],$={v4:"[=[n[n]]]",v6:"[-[N[N[N]]]]"}[this.dataVersion];return this.allowRange&&(v=`${v}${h}`),typeof this.netmask!="undefined"&&(v=`${v}${$}`),v}},watch:{version(v){this.dataVersion!==v&&(this.dataVersion=v)},dataVersion(v){v!==this.version&&(this.$emit("input",""),this.$emit("update:netmask","")),this.applyMask()},innerCidr(v,h){v!==null&&(h===null&&v===""&&(this.innerCidr=this.cidr),this.emitNetmask(v))}},mounted(){this.dataVersion=this.version,this.applyMask()},methods:{emit({target:{value:v}}){const[h,$]=v.split("/");this.innerCidr=v.includes("/")?$:null,this.$emit("input",h),v||this.emitNetmask("")},emitNetmask(v){return this.$emit("update:netmask",this.dataVersion==="v4"?(0,y.T)(v):v)},moveCursor(){this.value||this.$refs.input.setSelectionRange(0,0)},applyMask(){new(c())({mask:this.mask,keepStatic:!0,definitions:(0,s.Xm)(["ipv4","ipv6"],!0),onUnMask:h=>h,skipOptionalPartCharacter:"",placeholder:"_"}).mask(this.$refs.input)}}},i=a,g=o("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/input-ip.vue?vue&type=style&index=0&id=7be90e6c&prod&lang=scss&"),D=o("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),E=(0,D.Z)(i,d,l,!1,null,null,null),O=E.exports},"./js/pages/admin/multi-server.vue":function(M,S,o){"use strict";o.r(S),o.d(S,{default:function(){return I}});var d=function(){var e=this,t=e._self._c;return t("app-page",{attrs:{id:"multi-server",actions:[{visible:!e.info.enabled,label:e.$gettext("Turn On"),handler:e.turnOn,icon:"#check-mark",theme:"safe"},{visible:e.info.enabled,label:e.$gettext("Turn Off"),handler:e.$dialog("OFF_CONFIRMATION_DIALOG").open,icon:"#cancel",theme:"safe"},{label:e.$gettext("Add New Server"),handler:e.$dialog("ADD_NEW_SERVER").open,icon:"#settings"}]},scopedSlots:e._u([{key:"default",fn:function(){return[t("app-page-section",[t("ui-r-table",{attrs:{columns:[{id:"id",label:e.$gettext("IP"),grow:!0},{id:"port",label:e.$gettext("Port")},{id:"user",label:e.$gettext("Login")},{id:"ssl",label:e.$gettext("SSL Connection")}],rows:e.servers,"checked-rows":e.checkedRows,"hide-table-actions":"",editable:!1,"vertical-layout":e.clientStore.isPhone},on:{"update:checkedRows":function(n){e.checkedRows=n}},scopedSlots:e._u([{key:"col:id",fn:function({id:n,ip:r}){return[r?[e._v(`
                        `+e._s(r)+" ("+e._s(e.p6eUnicode(n))+`)
                    `)]:[e._v(`
                        `+e._s(e.p6eUnicode(n))+`
                    `)]]}},{key:"col:port",fn:function({item:n}){return[t("input-text",{attrs:{number:""},model:{value:n.port,callback:function(r){e.$set(n,"port",r)},expression:"item.port"}})]}},{key:"col:user",fn:function({item:n}){return[t("input-text",{model:{value:n.user,callback:function(r){e.$set(n,"user",r)},expression:"item.user"}})]}},{key:"col:ssl",fn:function({item:n}){return[t("input-checkbox",{model:{value:n.ssl,callback:function(r){e.$set(n,"ssl",r)},expression:"item.ssl"}},[t("span",{domProps:{textContent:e._s(e.$gettext("SSL"))}})])]}},{key:"row:actions",fn:function({item:n}){return[t("input-checkable-select",{attrs:{values:e.getActions(n),options:{dns:e.$gettext("Zone Transfer"),domain_check:e.$gettext("Domain Check"),user_check:e.$gettext("User Check"),email:e.$gettext("Email Accounts"),show_all_users:e.$gettext("Show All Users")},"show-toggle-all":!1},on:{check:function(r){n[r.value]=r.state}},scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Actions"))}})]},proxy:!0}],null,!0)})]}},{key:"table:after",fn:function(){return[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{main:"end",cross:"center"},expression:"{ main: 'end', cross: 'center' }"}],staticClass:"table-actions",class:{"--disabled":e.checkedRows.length===0}},[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}]},[t("ui-form-element",{scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("With Selected"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-password",{attrs:{placeholder:e.$gettext("Set Password (optional)")},model:{value:e.passwd,callback:function(n){e.passwd=n},expression:"passwd"}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{scopedSlots:e._u([{key:"content",fn:function(){return[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{main:"end"},expression:"{ main: 'end' }"},{name:"gutter",rawName:"v-gutter",value:[null,.5],expression:"[null, 0.5]"}]},[t("ui-button",{attrs:{theme:"safe"},on:{click:function(n){return e.doAction("save")}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Save"))}})]),e._v(" "),t("ui-button",{attrs:{theme:"primary"},on:{click:function(n){return e.doAction("test")}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Test Connection"))}})]),e._v(" "),t("ui-button",{attrs:{theme:"danger"},on:{click:function(n){e.$dialog("DELETE_SERVERS_DIALOG").open()}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Delete"))}})])],1)]},proxy:!0}])})],1)])]},proxy:!0}])})],1),e._v(" "),e.info.enabled?e._e():t("app-page-section",[t("span",{domProps:{textContent:e._s(e.$gettext("Multi Server is currently turned OFF"))}})]),e._v(" "),t("ui-dialog-confirm",{attrs:{id:"OFF_CONFIRMATION_DIALOG"},on:{"click:confirm":e.turnOff}},[t("span",{domProps:{textContent:e._s(e.$gettext("Are you sure you want to disable this feature?"))}})]),e._v(" "),t("ui-dialog-delete-items",{attrs:{id:"DELETE_SERVERS_DIALOG",subject:e.$ngettext("server","server",e.checkedRows.length)},on:{"click:confirm":function(n){return e.doAction("delete")}}}),e._v(" "),t("ui-dialog",{attrs:{id:"ADD_NEW_SERVER",title:e.$gettext("Add New Server")},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",[t("ui-tabs",{attrs:{tabs:[{id:"ip",desc:"IP Address"},{id:"domain",desc:"Domain"}]},on:{"update:selected":function(n){e.newServer.ip=""}},scopedSlots:e._u([{key:"tab:ip",fn:function(){return[t("ui-form-element",{key:"tab:ip",attrs:{vertical:"",group:"server",validators:{required:!0,regex:e.regexps.ip}},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-ip",{model:{value:e.newServer.ip,callback:function(n){e.$set(e.newServer,"ip",n)},expression:"newServer.ip"}})]},proxy:!0},{key:"error:regex",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Should be a valid IP Address"))}})]},proxy:!0}])})]},proxy:!0},{key:"tab:domain",fn:function(){return[t("ui-form-element",{key:"tab:domain",attrs:{vertical:"",group:"server",validators:{required:!0,domain:!0}},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-text",{model:{value:e.newServer.ip,callback:function(n){e.$set(e.newServer,"ip",n)},expression:"newServer.ip"}})]},proxy:!0}])})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:"",group:"server",validators:{required:!0,regex:e.regexps.port}},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Port"))}})]},proxy:!0},{key:"content",fn:function(){return[t("ui-input-group",{scopedSlots:e._u([{key:"input",fn:function(){return[t("input-text",{model:{value:e.newServer.port,callback:function(n){e.$set(e.newServer,"port",n)},expression:"newServer.port"}})]},proxy:!0},{key:"additions:right",fn:function(){return[t("ui-button",{on:{click:function(n){e.newServer.ssl=!e.newServer.ssl}}},[t("input-checkbox",{model:{value:e.newServer.ssl,callback:function(n){e.$set(e.newServer,"ssl",n)},expression:"newServer.ssl"}},[t("span",{domProps:{textContent:e._s(e.$gettext("SSL"))}})])],1)]},proxy:!0}])})]},proxy:!0},{key:"error:regex",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Should be a valid port number"))}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:"",group:"server",validators:{required:!0,regex:/^[a-zA-Z]+\w*$/}},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Username"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{model:{value:e.newServer.user,callback:function(n){e.$set(e.newServer,"user",n)},expression:"newServer.user"}})]},proxy:!0},{key:"error:regex",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Invalid username"))}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:"",group:"server",validators:{required:!0}},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Password"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-password",{attrs:{type:"text"},model:{value:e.newServer.passwd,callback:function(n){e.$set(e.newServer,"passwd",n)},expression:"newServer.passwd"}})]},proxy:!0}])})],1)]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"safe",disabled:!e.$valid("server")},on:{click:e.addServer}},[t("span",{domProps:{textContent:e._s(e.$gettext("Add"))}})])]},proxy:!0}])})]},proxy:!0}])})},l=[],f=o("./js/stores/index.ts"),c=o("./js/api/command/index.js");const x="/CMD_MULTI_SERVER",y=c.Z.get({id:"MULTI_SERVER",url:x,after:u=>u.flow(u.moveProp("CLUSTER_ON","enabled"),u.mapProp("servers",u.flow(u.mapValues(u.flow((e,t)=>({...e,id:t}),u.mapProps({email:u.convert.toAppBoolean,ssl:u.convert.toAppBoolean,dns:u.convert.toAppBoolean,domain_check:u.convert.toAppBoolean,user_check:u.convert.toAppBoolean,show_all_users:u.flow(u.setDefault("no"),u.convert.toAppBoolean)}))),u.toArray)),u.mapProp("enabled",u.convert.toAppBoolean))}),s=c.Z.post({url:x,params:{action:"onoff",on:!0}}),a=c.Z.post({url:x,params:{action:"onoff",off:!0}}),i=c.Z.post({url:x,params:{action:"multiple"},schema:{passwd:c.Z.OPTIONAL_STRING}}),g=c.Z.post({url:x,params:{action:"add"},schema:{ip:c.Z.REQUIRED_STRING,port:c.Z.REQUIRED_STRING,ssl:c.Z.REQUIRED_BOOL,user:c.Z.REQUIRED_STRING,passwd:c.Z.REQUIRED_STRING}});var D=o("./js/modules/utils/index.js"),E=o("./js/components/local/input-ip.vue"),O=o("./js/composables/filters.ts"),v=o("./js/modules/constants.js"),h={preload:y,api:[{command:y,bind:"info"}],components:{InputIp:E.Z},relatedPages:["admin/ip-manager"],data(){return{checkedRows:[],servers:[],passwd:"",newServer:{ip:"",port:"2222",ssl:!1,user:"",passwd:""}}},computed:{info(){return this.$api.info},requestData(){const u=this.checkedRows.reduce((e,t)=>({...e,[`port-${t.id}`]:t.port,[`user-${t.id}`]:t.user,[`ssl-${t.id}`]:t.ssl,[`dns-${t.id}`]:t.dns,[`domain_check-${t.id}`]:t.domain_check,[`user_check-${t.id}`]:t.user_check,[`email-${t.id}`]:t.email,[`show_all_users-${t.id}`]:t.show_all_users}),{});return{passwd:this.passwd,select:this.checkedRows.map(e=>e.id),...u}},actions(){return{dns:this.$gettext("Zone Transfer"),domain_check:this.$gettext("Domain Check"),user_check:this.$gettext("User Check"),email:this.$gettext("Email Accounts"),show_all_users:this.$gettext("Show All Users")}},...(0,f.Kc)(["client"])},created(){this.servers=D._.cloneDeep(this.info.servers),this.regexps=v.gk},methods:{p6eUnicode:O.n9,toggleAll(){this.checkedRows=this.checkedAll?[]:this.servers.map(u=>u.id)},async reloadInfo(){await y(),this.servers=D._.cloneDeep(this.info.servers),this.checkedRows=[]},turnOn(){s().then(this.reloadInfo)},turnOff(){a().then(this.reloadInfo)},async doAction(u){i({[u]:!0,...this.requestData}).then(this.reloadInfo)},async addServer(){await g(this.newServer)&&(Object.assign(this.$data,this.$options.data.apply(this)),this.reloadInfo())},getActions(u){const e=Object.keys(this.actions);return Object.entries(u).filter(([t,n])=>e.includes(t)&&n).map(([t])=>t)}}},$=h,A=o("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/multi-server.vue?vue&type=style&index=0&id=3c1c5ee5&prod&lang=scss&scoped=true&"),m=o("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),j=(0,m.Z)($,d,l,!1,null,"3c1c5ee5",null),I=j.exports},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/input-ip.vue?vue&type=style&index=0&id=7be90e6c&prod&lang=scss&":function(M,S,o){var d=o("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/input-ip.vue?vue&type=style&index=0&id=7be90e6c&prod&lang=scss&");d.__esModule&&(d=d.default),typeof d=="string"&&(d=[[M.id,d,""]]),d.locals&&(M.exports=d.locals);var l=o("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,f=l("61c82612",d,!0,{})},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/multi-server.vue?vue&type=style&index=0&id=3c1c5ee5&prod&lang=scss&scoped=true&":function(M,S,o){var d=o("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/multi-server.vue?vue&type=style&index=0&id=3c1c5ee5&prod&lang=scss&scoped=true&");d.__esModule&&(d=d.default),typeof d=="string"&&(d=[[M.id,d,""]]),d.locals&&(M.exports=d.locals);var l=o("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,f=l("5aaad6e1",d,!0,{})}}]);
