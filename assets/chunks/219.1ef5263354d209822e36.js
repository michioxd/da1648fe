"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[219],{"../node_modules/date-fns/esm/formatDistance/index.js":function(k,b,r){r.d(b,{Z:function(){return F}});var l=r("../node_modules/date-fns/esm/_lib/defaultOptions/index.js"),o=r("../node_modules/date-fns/esm/toDate/index.js"),n=r("../node_modules/date-fns/esm/_lib/requiredArgs/index.js");function p(f,c){(0,n.Z)(2,arguments);var u=(0,o.Z)(f),E=(0,o.Z)(c),I=u.getTime()-E.getTime();return I<0?-1:I>0?1:I}function $(f,c){(0,n.Z)(2,arguments);var u=(0,o.Z)(f),E=(0,o.Z)(c),I=u.getFullYear()-E.getFullYear(),R=u.getMonth()-E.getMonth();return I*12+R}function D(f){(0,n.Z)(1,arguments);var c=(0,o.Z)(f);return c.setHours(23,59,59,999),c}function x(f){(0,n.Z)(1,arguments);var c=(0,o.Z)(f),u=c.getMonth();return c.setFullYear(c.getFullYear(),u+1,0),c.setHours(23,59,59,999),c}function a(f){(0,n.Z)(1,arguments);var c=(0,o.Z)(f);return D(c).getTime()===x(c).getTime()}function m(f,c){(0,n.Z)(2,arguments);var u=(0,o.Z)(f),E=(0,o.Z)(c),I=p(u,E),R=Math.abs($(u,E)),v;if(R<1)v=0;else{u.getMonth()===1&&u.getDate()>27&&u.setDate(30),u.setMonth(u.getMonth()-I*R);var j=p(u,E)===-I;a((0,o.Z)(f))&&R===1&&p(f,E)===1&&(j=!1),v=I*(R-Number(j))}return v===0?0:v}function g(f,c){return(0,n.Z)(2,arguments),(0,o.Z)(f).getTime()-(0,o.Z)(c).getTime()}var i={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(c){return c<0?Math.ceil(c):Math.floor(c)}},y="trunc";function d(f){return f?i[f]:i[y]}function M(f,c,u){(0,n.Z)(2,arguments);var E=g(f,c)/1e3;return d(u==null?void 0:u.roundingMethod)(E)}var P=r("../node_modules/date-fns/esm/_lib/defaultLocale/index.js");function C(f,c){if(f==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(f[u]=c[u]);return f}function A(f){return C({},f)}var _=r("../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js"),h=1440,w=2520,T=43200,L=86400;function F(f,c,u){var E,I;(0,n.Z)(2,arguments);var R=(0,l.j)(),v=(E=(I=u==null?void 0:u.locale)!==null&&I!==void 0?I:R.locale)!==null&&E!==void 0?E:P.Z;if(!v.formatDistance)throw new RangeError("locale must contain formatDistance property");var j=p(f,c);if(isNaN(j))throw new RangeError("Invalid time value");var O=C(A(u),{addSuffix:Boolean(u==null?void 0:u.addSuffix),comparison:j}),Z,U;j>0?(Z=(0,o.Z)(c),U=(0,o.Z)(f)):(Z=(0,o.Z)(f),U=(0,o.Z)(c));var N=M(U,Z),S=((0,_.Z)(U)-(0,_.Z)(Z))/1e3,e=Math.round((N-S)/60),t;if(e<2)return u!=null&&u.includeSeconds?N<5?v.formatDistance("lessThanXSeconds",5,O):N<10?v.formatDistance("lessThanXSeconds",10,O):N<20?v.formatDistance("lessThanXSeconds",20,O):N<40?v.formatDistance("halfAMinute",0,O):N<60?v.formatDistance("lessThanXMinutes",1,O):v.formatDistance("xMinutes",1,O):e===0?v.formatDistance("lessThanXMinutes",1,O):v.formatDistance("xMinutes",e,O);if(e<45)return v.formatDistance("xMinutes",e,O);if(e<90)return v.formatDistance("aboutXHours",1,O);if(e<h){var s=Math.round(e/60);return v.formatDistance("aboutXHours",s,O)}else{if(e<w)return v.formatDistance("xDays",1,O);if(e<T){var B=Math.round(e/h);return v.formatDistance("xDays",B,O)}else if(e<L)return t=Math.round(e/T),v.formatDistance("aboutXMonths",t,O)}if(t=m(U,Z),t<12){var W=Math.round(e/T);return v.formatDistance("xMonths",W,O)}else{var z=t%12,K=Math.floor(t/12);return z<3?v.formatDistance("aboutXYears",K,O):z<9?v.formatDistance("overXYears",K,O):v.formatDistance("almostXYears",K+1,O)}}},"./js/api/commands/converters/customItems.ts":function(k,b,r){r.d(b,{CR:function(){return $}});var l=r("../node_modules/ramda/es/index.js"),o=r("./js/api/commands/converters/index.ts"),n=r("./js/api/commands/utils/transduce.ts"),p=r("./js/api/commands/converters/toSelectData.ts");const $=a=>{const m={name:a.name,type:a.type==="listbox"?"select":a.type,label:a.string,description:a.desc||"",value:a.type==="checkbox"?(0,o.sw)(a.checked||"no"):a.value||""};return m.type==="select"?l.BPw(m,(0,p.M1)(a.select||{})):m},D=a=>(0,n.vr)([(0,n.uD)(m=>/^item\d+val$/.test(m)),(0,n.r5)(m=>{const g=m,i=m.replace("val","txt"),y=a[g],d=a[i];return{[y]:d}})],Object.keys(a)),x=(a,m)=>l.qCK(i=>{const y={name:i.name,type:i.type==="listbox"?"select":i.type,description:i.desc||"",value:i.value||"",label:i.string};return i.type==="listbox"?(y.value=i.default,y.options=D(i)):i.type==="checkbox"&&(y.value=i.checked==="yes"),y},l.BPw({name:a}),(0,n.vr)([(0,n.r5)(i=>{const[y,d]=l.Vl2("=",i);return{[y]:d}})]),l.Vl2("&"))(m);b.ZP={fromObject:$,fromString:x}},"./js/api/commands/converters/index.ts":function(k,b,r){r.d(b,{l$:function(){return g.ZP},t0:function(){return l.t0},S8:function(){return l.S8},ql:function(){return l.ql},sw:function(){return l.sw},Qu:function(){return l.Qu},He:function(){return l.He},M1:function(){return m.M1},sf:function(){return y},cc:function(){return a}});var l=r("./js/api/commands/converters/primitive.ts"),o=r("../node_modules/monet/dist/monet.js"),n=r("./js/api/commands/types.ts");const p=d=>typeof d=="object"?o.Either.Right(d):o.Either.Left(new Error("Passed param is not an object")),$=d=>typeof d.usage=="string"?o.Either.Right(d):o.Either.Left(new Error("usage property is required")),D=d=>({usage:(0,l.He)(d.usage),limit:(0,l.Qu)(d.limit)}),x=({usage:d,limit:M})=>{let P=n.H.Normal;const C=Math.floor(d/M*100);return C>=100?P=n.H.OverUsed:C>80&&(P=n.H.AlmostUsed),{usage:d,limit:M,status:P}},a=d=>{const M=o.Either.Right(d).flatMap(p).flatMap($).map(D).map(x);if(M.isLeft())throw M.left();return M.right()};var m=r("./js/api/commands/converters/toSelectData.ts"),g=r("./js/api/commands/converters/customItems.ts"),i=r("../node_modules/ramda/es/index.js");const y=d=>M=>{const{info:P}=M,C=i.CEd(["info"],M);return{columns:P.columns,rowsCount:Number(P.rows),rows:i.UID(d,i.VO0(C))}}},"./js/api/commands/converters/toSelectData.ts":function(k,b,r){r.d(b,{M1:function(){return x}});var l=r("../node_modules/monet/dist/monet.js"),o=r.n(l),n=r("./js/api/commands/utils/transduce.ts"),p=r("../node_modules/ramda/es/index.js");const $=a=>l.Maybe.Some(a).flatMap(m=>{const g=m.find(i=>i.selected==="yes");return g?l.Maybe.Some(g):l.Maybe.None()}).flatMap(m=>l.Maybe.fromNull(m.value)).orSome(""),D=(0,n.vr)([(0,n.r5)(a=>({[a.value]:a.text}))]),x=a=>{const m=(0,p.VO0)(a);return{value:$(m),options:D(m)}}},"./js/api/commands/types.ts":function(k,b,r){r.d(b,{H:function(){return l}});var l;(function(o){o.Normal="normal",o.AlmostUsed="almost_used",o.OverUsed="overused"})(l||(l={}))},"./js/api/commands/utils/transduce.ts":function(k,b,r){r.d(b,{Re:function(){return p},r5:function(){return o},uD:function(){return n},vr:function(){return m},zh:function(){return x}});var l=r("../node_modules/ramda/es/index.js");const o=g=>i=>(y,d)=>{const M=g(d);return i(y,M)},n=g=>i=>(y,d)=>g(d)?i(y,d):y,p=(g,i)=>(g.push(i),g),$=(g,i)=>l.BPw(g,i),D=(g,i,y,d)=>{const M=l.qCK(...y);return d.reduce(M(i),g)},x=l.WAo(D),a=x([],p),m=x({},$)},"./js/composables/dateFilter.ts":function(k,b,r){r.d(b,{W:function(){return $},f:function(){return n.f}});var l=r("../node_modules/ramda/es/index.js"),o=r("../node_modules/date-fns/esm/format/index.js"),n=r("./js/modules/date-formats.ts"),p=r("./js/modules/customizations/date-formats/default.ts");const $=l.WAo((D,x)=>{if(x)try{return(0,o.Z)(x,n.f.value[D])}catch(a){return console.warn(`Given ${D} format is incorrect:
${a.message}`),(0,o.Z)(x,p.d[D])}return""})},"./js/composables/filters.ts":function(k,b,r){r.d(b,{Q0:function(){return M},aS:function(){return C},d5:function(){return P},eB:function(){return i},hT:function(){return m},kC:function(){return a},n9:function(){return d},zM:function(){return g}});var l=r("../node_modules/date-fns/esm/formatDistance/index.js"),o=r("../node_modules/punycode/punycode.es6.js"),n=r("./js/composables/dateFilter.ts"),p=r("./js/composables/gettext.ts");const{$gettext:$,$ngettext:D,$gettextInterpolate:x}=(0,p.Z)(),a=_=>{var h;return _?((h=_.at(0))===null||h===void 0?void 0:h.toUpperCase())+_.slice(1):""},m=(_,h="datetime")=>(0,n.W)(h,_),g=_=>(0,l.Z)(_,new Date),i=(_,h=1024)=>{const w=Number(_);if(!w)return"0 B";const T=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],L=Math.floor(Math.log(w)/Math.log(h));return`${parseFloat((w/h**L).toFixed(2))} ${T[L]}`},y=_=>{try{return(0,o.xX)(_)}catch(h){return _}},d=_=>(0,o.xX)(_),M=_=>{if(!_||!_.includes("@"))return _;const[h,w]=_.split("@");return[h,y(w)].join("@")},P=_=>{if(_<60)return $("less than a minute");const h=Math.floor(_/60)%60,w=Math.floor(_/3600)%24,T=Math.floor(_/(3600*24)),L=[T?D("%{days} day","%{days} days",T):null,w?D("%{hours} hour","%{hours} hours",w):null,h?D("%{minutes} minute","%{minutes} minutes",h):null].filter(Boolean).join(", ");return x(L,{days:T,hours:w,minutes:h})},C=(_,h)=>_.length<=h?_:`${_.substring(0,h)}...`,A=()=>({capitalize:a,date:m,distanceFromNow:g,humanReadableSize:i,p6eUnicode:d,p6eUnicodeEmail:M,formatUptime:P,truncateString:C})},"./js/pages/admin/ssl/index.vue":function(k,b,r){r.r(b),r.d(b,{default:function(){return N}});var l=function(){var e=this,t=e._self._c;return t("app-page",{attrs:{actions:[{label:e.$gettext("Settings"),icon:"#settings",handler:e.$dialog("ADMIN_SSL_SETTINGS_DIALOG").open}]},scopedSlots:e._u([{key:"default",fn:function(){return[t("app-page-section",[t("ui-api-table",e._b({on:{"action:request":function(s){e.$dialog("MAKE_REQUEST_DIALOG").open()}},scopedSlots:e._u([{key:"buttons:before",fn:function(){return[e.domainParam?t("ui-button",{directives:[{name:"margin",rawName:"v-margin:right",value:1,expression:"1",arg:"right"}],attrs:{size:"small",theme:"light",title:e.$gettext("Clear Filter")},on:{click:function(s){return e.$router.push("/admin/ssl")}}},[t("span",{domProps:{textContent:e._s(e.$gettextInterpolate(e.$gettext("Domain: %{ domain }"),{domain:e.$p6e.toU(e.domainParam)}))}}),e._v(" "),t("ui-icon",{directives:[{name:"margin",rawName:"v-margin:left",value:1,expression:"1",arg:"left"}],attrs:{id:"close",size:12}})],1):e._e()]},proxy:!0},{key:"col:domain",fn:function({item:s,domain:B}){return[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}]},[t(B===e.domainParam?"span":"ui-link",{tag:"component",attrs:{name:"admin/ssl",query:{domain:B}}},[e._v(`
                            `+e._s(e.$p6e.toU(B))+`
                        `)]),e._v(" "),t("ui-link",{directives:[{name:"margin",rawName:"v-margin:left",value:1,expression:"1",arg:"left"}],on:{click:function(W){return e.showInfo(s)}}},[t("ui-icon",{attrs:{id:"information",theme:"safe",size:18}})],1)],1)]}},{key:"col:user",fn:function({user:s}){return[t("ui-link",{attrs:{name:"reseller/users/view",params:{user:s}}},[e._v(`
                        `+e._s(s)+`
                    `)])]}},{key:"col:active",fn:function({active:s}){return[s?t("ui-badge",{key:"activeYes",attrs:{theme:"safe"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Yes"))}})]):t("ui-badge",{key:"activeNo",attrs:{theme:"danger"}},[t("span",{domProps:{textContent:e._s(e.$gettext("No"))}})])]}},{key:"col:valid",fn:function({valid:s}){return[t("ui-badge",{attrs:{theme:s?"safe":"danger"}},[t("span",{domProps:{textContent:e._s(s?e.$gettext("Yes"):e.$gettext("No"))}})])]}},{key:"col:issuer",fn:function(s){return[e._v(`
                    `+e._s(s.certificate_info.issuer_simple||"")+`
                `)]}},{key:"col:next_retry",fn:function({next_retry:s}){return[s?[e._v(`
                        `+e._s(e.date(s,"datetime"))+`
                    `)]:t("span")]}},{key:"col:server",fn:function({server:s}){return[s?t("ui-badge",{key:"serverOn",attrs:{theme:"safe"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Yes"))}})]):t("ui-badge",{key:"serverOff",attrs:{theme:"danger"}},[t("span",{domProps:{textContent:e._s(e.$gettext("No"))}})])]}},{key:"col:ssl",fn:function({ssl:s}){return[s?t("ui-badge",{key:"sslOn",attrs:{theme:"safe"}},[t("span",{domProps:{textContent:e._s(e.$gettext("On"))}})]):t("ui-badge",{key:"sslOff",attrs:{theme:"danger"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Off"))}})])]}}]),model:{value:e.select,callback:function(s){e.select=s},expression:"select"}},"ui-api-table",{command:e.$commands.ssl,rowID:"domain",columns:{domain:{label:e.$gettext("Domain"),searchable:!0},user:{label:e.$gettext("Username"),searchable:!0},creator:e.$gettext("Creator"),issuer:{label:e.$gettext("Issuer"),searchable:!0},next_retry:{label:e.$gettext("Next Retry")},server:{label:e.$gettext("Auto SSL"),searchable:{type:"select",options:{yes:e.$gettext("Yes"),no:e.$gettext("No")}}},active:{label:e.$gettext("Active"),visible:!1},valid:e.$gettext("Valid"),ssl:e.$gettext("SSL")},property:"domains",requestData:{domain:e.domainParam||null},actions:{request:e.$gettext("Make Request")}},!1))],1),e._v(" "),e.currentItem?t("info-dialog",e._b({on:{close:e.hideInfo}},"info-dialog",e.currentItem,!1)):e._e(),e._v(" "),t("settings-dialog"),e._v(" "),t("make-request-dialog",{on:{request:e.makeRequest}})]},proxy:!0}])})},o=[],n=r("../node_modules/ramda/es/index.js"),p=r("./js/api/command/index.js"),$=r("./js/api/commands/converters/index.ts");const D="/CMD_ADMIN_SSL",x=n.fS0("1"),a=S=>S?"1":"0",m=p.Z.get({id:"ADMIN_SSL_DATA",url:D,pagination:!0,mapResponse:{settings:n.zGw(n.vgT("settings"),n.rO9({letsencrypt_disable_renew_after_renew_failure:x,letsencrypt_renewal_error_to_users:x,letsencrypt_renewal_notice_to_admins:x,letsencrypt_renewal_success_notice:x,renew_letsencrypt_on_suspended_domain:x,admin_ssl_replace_all_expired_invalid:x})),domains:n.zGw(n.vgT("domains"),(0,$.sf)(n.rO9({ssl:n.fS0("ON"),defaultdomain:n.fS0("yes"),active:n.fS0("yes"),server:n.fS0("yes"),valid:n.fS0("yes"),next_retry:S=>{if(S){const e=Number(S);if(e>0)return new Date(e*1e3)}return!1}})))}}),g=p.Z.post({url:D,params:{action:"settings"},schema:{letsencrypt_renewal_notice_to_admins:p.Z.REQUIRED_BOOL,letsencrypt_renewal_error_to_users:p.Z.REQUIRED_BOOL,renew_letsencrypt_on_suspended_domain:p.Z.REQUIRED_BOOL,letsencrypt_renewal_success_notice:p.Z.REQUIRED_BOOL,letsencrypt_disable_renew_after_renew_failure:p.Z.REQUIRED_BOOL,letsencrypt_renewal_failure_notice_after_attempt:p.Z.REQUIRED_STRING,admin_ssl_replace_all_expired_invalid:p.Z.REQUIRED_BOOL},before:n.rO9({letsencrypt_renewal_notice_to_admins:a,letsencrypt_renewal_error_to_users:a,renew_letsencrypt_on_suspended_domain:a,letsencrypt_renewal_success_notice:a,letsencrypt_disable_renew_after_renew_failure:a,admin_ssl_replace_all_expired_invalid:a})}),i=p.Z.select({url:D,params:{action:"multiple",request:!0},schema:{wildcard:p.Z.OPTIONAL_BOOL,subdomains:p.Z.OPTIONAL_BOOL,pointers:p.Z.OPTIONAL_BOOL}});var y=r("./js/composables/filters.ts"),d=function(){var e=this,t=e._self._c;return t("ui-dialog",{attrs:{id:"SSL_INFO_DIALOG",size:"normal","no-close-btn":"",title:e.domain},on:{"dialog:close":function(s){return e.$emit("close")}},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",[t("ui-table",{attrs:{transposed:"",items:[{ca:e.SSLCACertificateFile,cert:e.SSLCertificateFile,key:e.SSLCertificateKeyFile,domains:e.certificate_domains,issuer:e.certificate_info.Issuer,subject:e.certificate_info.Subject,start:e.certificate_info["Not Before"],end:e.certificate_info["Not After"]}]}},[e.SSLCACertificateFile?t("ui-column",{attrs:{id:"ca",label:e.$gettext("CA Root Certificate")}}):e._e(),e._v(" "),t("ui-column",{attrs:{id:"cert",label:e.$gettext("Certificate")}}),e._v(" "),t("ui-column",{attrs:{id:"key",label:e.$gettext("Certificate Key")}}),e._v(" "),e.hasDomains?t("ui-column",{attrs:{id:"domains",label:e.$gettext("Domains")}},[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:`{
                            dir: 'column',
                        }`}]},e._l(e.certificate_domains,function(s){return t("span",{key:s,domProps:{textContent:e._s(e.$p6e.toU(s))}})}),0)]):e._e(),e._v(" "),e.hasInfo?t("ui-column",{attrs:{id:"issuer",label:e.$gettext("Issuer")}}):e._e(),e._v(" "),e.hasInfo?t("ui-column",{attrs:{id:"subject",label:e.$gettext("Subject")}}):e._e(),e._v(" "),e.hasInfo?t("ui-column",{attrs:{id:"start",label:e.$gettext("Not Before")}}):e._e(),e._v(" "),e.hasInfo?t("ui-column",{attrs:{id:"end",label:e.$gettext("Not After")}}):e._e()],1)],1)]},proxy:!0}])})},M=[],P={props:{domain:{type:String,required:!0},SSLCACertificateFile:{type:String,required:!1,default:""},SSLCertificateFile:{type:String,required:!1,default:""},SSLCertificateKeyFile:{type:String,required:!1,default:""},certificate_domains:{type:Array,required:!1,default:()=>[]},certificate_info:{type:Object,required:!1,default:()=>({})}},computed:{hasDomains(){return Boolean(this.certificate_domains.length)},hasInfo(){return Boolean(Object.keys(this.certificate_info).length)}}},C=P,A=r("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),_=(0,A.Z)(C,d,M,!1,null,null,null),h=_.exports,w=function(){var e=this,t=e._self._c;return t("ui-dialog",{attrs:{id:"ADMIN_SSL_SETTINGS_DIALOG",title:e.$gettext("Options")},scopedSlots:e._u([{key:"content",fn:function(){return[t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.letsencrypt_renewal_notice_to_admins,callback:function(s){e.letsencrypt_renewal_notice_to_admins=s},expression:"letsencrypt_renewal_notice_to_admins"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Notify administrator account on certificate request failures"))}})])]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.letsencrypt_renewal_error_to_users,callback:function(s){e.letsencrypt_renewal_error_to_users=s},expression:"letsencrypt_renewal_error_to_users"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Notify users on certificate request failures"))}})])]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.renew_letsencrypt_on_suspended_domain,callback:function(s){e.renew_letsencrypt_on_suspended_domain=s},expression:"renew_letsencrypt_on_suspended_domain"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Renew certificates on suspended domains"))}})])]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.letsencrypt_renewal_success_notice,callback:function(s){e.letsencrypt_renewal_success_notice=s},expression:"letsencrypt_renewal_success_notice"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Notify user on certificate request success"))}})])]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.letsencrypt_disable_renew_after_renew_failure,callback:function(s){e.letsencrypt_disable_renew_after_renew_failure=s},expression:"letsencrypt_disable_renew_after_renew_failure"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Disable auto-renew after certificate request failure"))}})])]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Number of auto-renew certificate request failures before disabling it"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{number:"",disabled:!e.letsencrypt_disable_renew_after_renew_failure},model:{value:e.letsencrypt_renewal_failure_notice_after_attempt,callback:function(s){e.letsencrypt_renewal_failure_notice_after_attempt=s},expression:`
                        letsencrypt_renewal_failure_notice_after_attempt
                    `}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.admin_ssl_replace_all_expired_invalid,callback:function(s){e.admin_ssl_replace_all_expired_invalid=s},expression:"admin_ssl_replace_all_expired_invalid"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Replace expired/invalid certificates with the ones provided by ACME"))}}),e._v(" "),t("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},[t("span",{domProps:{textContent:e._s(e.$gettext("This could replace paid EV certificates"))}})])],1)]},proxy:!0}])})]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"safe"},on:{click:e.updateSettings}},[t("span",{domProps:{textContent:e._s(e.$gettext("Update"))}})])]},proxy:!0}])})},T=[],L={api:[{command:m,bind:{"response.settings":"settings"}}],data:()=>({admin_ssl_replace_all_expired_invalid:!1,letsencrypt_disable_renew_after_renew_failure:!1,letsencrypt_renewal_error_to_users:!1,letsencrypt_renewal_failure_notice_after_attempt:"5",letsencrypt_renewal_notice_to_admins:!1,letsencrypt_renewal_success_notice:!1,renew_letsencrypt_on_suspended_domain:!1}),mounted(){Object.assign(this,this.$api.settings)},methods:{updateSettings(){g(this.$data)}}},F=L,f=(0,A.Z)(F,w,T,!1,null,null,null),c=f.exports,u=function(){var e=this,t=e._self._c;return t("ui-dialog",{attrs:{id:"MAKE_REQUEST_DIALOG",title:e.$gettext("Make Request")},scopedSlots:e._u([{key:"content",fn:function(){return[t("div",[t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.wildcard,callback:function(s){e.wildcard=s},expression:"wildcard"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Wildcard"))}}),e._v(" "),t("ui-tooltip",[t("span",{domProps:{textContent:e._s(e.$gettext("Only use wildcard on domains who currently have functional local DNS"))}})])],1)]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.subdomains,callback:function(s){e.subdomains=s},expression:"subdomains"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Sub-Domains"))}})])]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.pointers,callback:function(s){e.pointers=s},expression:"pointers"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Domain Pointers"))}})])]},proxy:!0}])})],1)]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"safe"},on:{click:function(s){return e.$emit("request",{wildcard:e.wildcard,subdomains:e.subdomains,pointers:e.pointers})}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Make Request"))}})])]},proxy:!0}])})},E=[],I={data:()=>({wildcard:!0,subdomains:!0,pointers:!1})},R=I,v=(0,A.Z)(R,u,E,!1,null,null,null),j=v.exports,O={name:"SslIndex",components:{InfoDialog:h,SettingsDialog:c,MakeRequestDialog:j},preload:m,api:[{command:m,bind:{"response.domains":"domains","response.settings":"settings"}}],commands:{ssl:m},data:()=>({select:[],currentItem:null,filters:{domain:"",username:"",issuer:""}}),computed:{domainParam(){return this.$route.query.domain},sortBy(){return S=>S==="issuer"?e=>e.certificate_info.issuer_simple||"":n.vgT(S)},usernames(){return n.jj$(n.UID(n.vgT("username"),this.$api.domains))},domains(){const S=n.gxm(()=>n.q9t(n.t$q(this.filters.username),this.usernames),n.hXT(s=>n.fS0(n.t$q(this.filters.username),n.t$q(s.username)))),e=n.gxm(()=>this.filters.domain,n.hXT(s=>n.q9t(n.t$q(this.filters.domain),n.t$q(s.domain)))),t=n.gxm(()=>this.filters.issuer,n.hXT(s=>n.q9t(n.t$q(this.filters.issuer),n.t$q(s.certificate_info.issuer_simple||""))));return n.zGw(S,e,t)(this.$api.domains)}},methods:{date:y.hT,getData(){return this.select.length=0,m()},showInfo(S){this.currentItem=S,this.$nextTick(()=>this.$dialog("SSL_INFO_DIALOG").open())},hideInfo(){this.currentItem=null},makeRequest(S={}){i({...S,select:this.select}).then(()=>{this.getData(),this.select=[]})}}},Z=O,U=(0,A.Z)(Z,l,o,!1,null,null,null),N=U.exports}}]);
