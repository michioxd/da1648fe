(self.webpackChunk=self.webpackChunk||[]).push([[1410,8952],{"./js/vue-globals/mixins.js":function(g,a,e){"use strict";e.r(a),e.d(a,{$bindTab:function(){return l},$clickOutside:function(){return L},$resizeListener:function(){return m},$scrollListener:function(){return M}});var s=e("../node_modules/vue/dist/vue.common.prod.js"),o=e.n(s),c=e("../node_modules/ramda/es/index.js"),n=e("./js/modules/file.js"),r=e("./js/modules/utils/index.js"),u=e("./js/modules/constants.js"),v=e("./js/modules/utils/css.js"),h=e("../node_modules/punycode/punycode.es6.js"),y=e("./js/vue-globals/helpers.js"),f=e("./js/stores/index.ts");const E=e("./js/vue-globals/mixins sync recursive \\.js$");(0,n.s)(E,t=>o().mixin(t.module)),o().mixin({data:()=>({isMounted:!1}),mounted(){this.isMounted=!0}}),o().mixin({methods:{$dialog(t){return{open:()=>y.uY.emit("dialog:open",t),close:()=>y.uY.emit("dialog:close",t)}}}}),o().mixin({computed:{$domain(){return this.$_ctx.session.domain},$domainUnicode(){return h.ZP.toUnicode(this.$domain)}}}),o().mixin({beforeCreate(){const t=(0,f.oR)(PiniaStores.VALIDATION);this.$valid=t.isValid.bind(t)}}),o().mixin({created(){this.regexps=u.gk}}),o().mixin({computed:{$p6e(){const t=d=>p=>{try{return d(p)}catch(b){return p}};return{toA:t(h.ZP.toASCII),toU:t(h.ZP.toUnicode),email2ascii:d=>{if(!d||!d.includes("@"))return d;const[p,b]=d.split("@");return[p,h.ZP.toASCII(b)].join("@")},email2unicode:d=>{if(!d||!d.includes("@"))return d;const[p,b]=d.split("@");return[p,h.ZP.toUnicode(b)].join("@")}}}}}),o().mixin({computed:{$_layout:(0,y.YM)("skin/layout")}}),o().mixin({methods:{$_useStore(t){return(0,f.oR)(t)}}});const $=[];document.body.addEventListener("click",t=>{$.forEach(d=>d(t.target))}),window.addEventListener("touchmove",t=>{$.forEach(d=>d(t.target))});const L={methods:{$clickOutsideListener(t,d){const p=T=>c.zGw(c.Bxt(d),c.qhW(Array.isArray,D=>[D]),c.hXT(c.CyQ(c.kKJ)),c.YPD(D=>D===T||D.contains(T)))(),b=T=>{p(T)&&this.$emit(`clickOutside:${t}`)};$.push(b)}}},M={methods:{__getScroller(){return this.$_layout==="sidebar"?window.document.querySelector("main"):window},__emitScroll(){this.$emit("window:scroll",window.pageYOffset)}},mounted(){const t=this.__getScroller();t&&t.addEventListener("scroll",this.__emitScroll)},destroyed(){const t=this.__getScroller();t&&t.removeEventListener("scroll",this.__emitScroll)}},x=[];window.addEventListener("resize",()=>{x.forEach(t=>t())});const m={created(){this.$resizeListener=()=>{this.$emit("window:resize",window.innerWidth)},x.push(this.$resizeListener)},destroyed(){x.splice(x.indexOf(this.$resizeListener),1)}},l=({param:t="tab",defaultTab:d}={param:"tab"})=>({computed:{[t]:{get(){return this.$route.params[t]||d},set(p){this.$route.params[t]!==p&&this.$router.replace(r._.merge({},this.$route,{params:{[t]:p}}))}}}})},"./js/vue-globals/mixins/bindApi.js":function(g,a,e){"use strict";e.r(a);var s=e("../node_modules/ramda/es/index.js");const o=(c,n)=>s.ETc(c.split("."),n);a.default={beforeCreate(){this.$options.commands&&(this.$commands=this.$options.commands)},computed:{$api(){if(!this.$options.api)return[];const c=this.$options.api;return typeof c=="function"?c.data.response:s.u4g((r,{command:u,bind:v})=>{if(typeof v=="string")return{...r,[v]:u.data.response};const h=s.u4g((y,[f,E])=>{const $=f.includes(".")?o(f,u.data):u.data[f]||u.data.response[f];return{...y,[E]:$}},{},s.Zpf(v));return{...r,...h}},{},c)}}}},"./js/vue-globals/mixins/local/clickOutside.js":function(g,a,e){"use strict";e.r(a),e.d(a,{$clickOutside:function(){return n}});var s=e("../node_modules/ramda/es/index.js");const o=[];document.body.addEventListener("click",r=>{o.forEach(s.gH4(r))}),window.addEventListener("touchstart",r=>{o.forEach(s.gH4(r))});const c=(r,u)=>s.zGw(s.qhW(Array.isArray,v=>[v]),s.hXT(s.CyQ(s.kKJ)),s.YPD(v=>v===r||v.contains(r)))(u),n={methods:{$clickOutsideListener(r,u){const v=h=>{c(h.target,u)&&this.$emit(`clickOutside:${r}`)};o.push(v)}}}},"./js/vue-globals/mixins/local/inputValidation.js":function(g,a,e){"use strict";e.r(a),e.d(a,{$inputValidation:function(){return c}});var s=e("./js/vue-globals/helpers.js"),o=e("./js/stores/index.ts");const c={inject:{groupID:{default:null},inputID:{default:null},validators:{default:()=>({})}},props:{id:{type:String,required:!1,default(){return this.inputID}},group:{type:String,required:!1,default(){return this.groupID}},novalidate:{type:Boolean,required:!1,default(){return!Object.keys(this.validators).length}}},computed:{validationStore(){return(0,o.oR)(PiniaStores.VALIDATION)},valid(){return this.validationStore.isValid(this.group,this.id)},errorState(){return!this.novalidate&&this.isUpdated&&!this.valid},isUpdated(){var n;const r=(n=this.validationStore.groups[this.group])==null?void 0:n[this.id];return typeof r=="undefined"?!1:r.updated}},methods:{$validate(n){this.id&&!this.novalidate&&this.validationStore.validate(this.groupID,this.id,n,this.validators)}},created(){if(!this.novalidate){const{validate:n}=this.$options;n&&this.$watch(n,(0,s.Ds)(this.$validate,{trailing:!0,leading:!1,delay:200}),{immediate:!0})}},destroyed(){this.novalidate||this.validationStore.deleteInput(this.group,this.id)}}},"./js/vue-globals/mixins/notification.js":function(g,a,e){"use strict";e.r(a);var s=e("./js/composables/index.ts");a.default={created(){const o=new s.d$;this.$notifications=o}}},"./js/vue-globals/mixins/reloadApiTable.js":function(g,a,e){"use strict";e.r(a);var s=e("./js/modules/constants.js");const o=n=>n.$options&&n.$options.name==="UiApiTable",c=n=>{const r=[n];let u=n;for(;u=r.shift();){if(o(u))return u;u.$children.length&&r.push(...u.$children)}return!1};a.default={methods:{$reloadApiTable({reset:n=!0}={}){const r=c(this);if(!r){s.Vi.DEV&&console.warn("$reloadApiTable called without any ui-api-table child");return}r.reloadTable(),n&&Object.assign(this.$data,this.$options.data.apply(this))}}}},"./js/vue-globals/mixins/session.js":function(g,a,e){"use strict";e.r(a);var s=e("./js/context/index.ts");a.default={computed:{$_ctx(){return s.T},$_flags(){return s.T.session.features},$_session(){return s.T.session.allValues}},methods:{$_cmd(o){return s.T.session.allowedCommands.includes(o)}}}},"./js/vue-globals/mixins/staticData.js":function(g,a,e){"use strict";e.r(a),a.default={created(){this.$options.staticData&&Object.entries(this.$options.staticData).forEach(([s,o])=>{this[s]=typeof o=="function"?o.bind(this)():o})}}},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&id=5dc63abc&prod&lang=scss&":function(){},"./js/components/local/inputs/input-text-editor.vue":function(g,a,e){"use strict";e.d(a,{Z:function(){return S}});var s=function(){var i=this,j=i._self._c;return j("div",{staticClass:"input-text-editor"},[i.$slots.header||i.$scopedSlots.header?j("div",{staticClass:"input-text-editor-header"},[i._t("header")],2):i._e(),i._v(" "),j("codemirror",{ref:"editor",attrs:{value:i.value,options:{lineNumbers:!0,readOnly:i.readOnly,mode:i.cmMode,theme:i.theme}},on:{input:function(_){return i.$emit("input",_)}}}),i._v(" "),!i.disableModes||!i.disableThemes?j("div",{staticClass:"input-text-editor-bottom-bar"},[i._t("bottom"),i._v(" "),j("span",{directives:[{name:"flex-item",rawName:"v-flex-item",value:{grow:!0},expression:"{ grow: true }"}]}),i._v(" "),i.disableModes?i._e():j("input-select",{staticClass:"input-text-editor-bottom-bar-select",attrs:{options:i.modes},scopedSlots:i._u([{key:"additions:left",fn:function(){return[j("ui-button",{attrs:{disabled:""}},[j("span",{domProps:{textContent:i._s(i.$gettext("Mode:"))}})])]},proxy:!0}],null,!1,42350692),model:{value:i.editorMode,callback:function(_){i.editorMode=_},expression:"editorMode"}}),i._v(" "),i.disableThemes?i._e():j("input-select",{staticClass:"input-text-editor-bottom-bar-select --wide",attrs:{options:i.themes},scopedSlots:i._u([{key:"additions:left",fn:function(){return[j("ui-button",{attrs:{disabled:""}},[j("span",{domProps:{textContent:i._s(i.$gettext("Theme:"))}})])]},proxy:!0}],null,!1,3964340662),model:{value:i.theme,callback:function(_){i.theme=_},expression:"theme"}})],2):i._e()],1)},o=[],c=e("../node_modules/vue-codemirror/dist/vue-codemirror.js"),n=e("../node_modules/codemirror/mode/javascript/javascript.js"),r=e("../node_modules/codemirror/mode/htmlmixed/htmlmixed.js"),u=e("../node_modules/codemirror/mode/css/css.js"),v=e("../node_modules/codemirror/mode/php/php.js"),h=e("../node_modules/codemirror/mode/perl/perl.js"),y=e("../node_modules/codemirror/mode/properties/properties.js"),f=e("../node_modules/codemirror/mode/xml/xml.js"),E=e("../node_modules/codemirror/mode/sql/sql.js"),$=e("./js/modules/utils/index.js"),L=e("../node_modules/vue/dist/vue.common.prod.js"),M=e("./js/vue-globals/mixins/local/inputValidation.js"),x=e("./js/context/index.ts"),m=e("./js/modules/dark-mode.ts");const l=["default","base16-light","base16-dark","monokai","solarized"],t=["text","html","javascript","css","php","perl","ini","xml","sql","mysql","json"],d=O=>i=>O.includes(i);c.codemirror.beforeDestroy=void 0;var p={components:{codemirror:c.codemirror},mixins:[M.$inputValidation],validate:"value",props:{value:{type:String,required:!0,default:""},readOnly:{type:Boolean,required:!1,default:!1},mode:{type:String,required:!1,default:"text",validator:d(t)},disableModes:{type:Boolean,required:!1,default:!1},disableThemes:{type:Boolean,required:!1,default:!1}},data(){return{editorMode:this.mode,theme:"default"}},staticData:{modes:t,themes:l},computed:{cmMode(){switch(this.editorMode){case"json":return{name:"javascript",json:!0};case"mysql":return"sql";case"ini":return"properties";default:return this.editorMode}}},mounted(){(0,L.watch)(()=>x.T.options["code-editor/theme"],O=>{this.theme=O},{immediate:!0}),(0,m.Uu)(O=>{this.theme=O==="dark"?"base16-dark":x.T.options["code-editor/theme"]})}},b=p,T=e("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&id=5dc63abc&prod&lang=scss&"),D=e("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),P=(0,D.Z)(b,s,o,!1,null,null,null),S=P.exports},"./js/pages/reseller/customize-skin/login-page.vue":function(g,a,e){"use strict";e.r(a),e.d(a,{default:function(){return x}});var s=function(){var l=this,t=l._self._c;return t("app-page",{attrs:{actions:l.actions},scopedSlots:l._u([{key:"default",fn:function(){return[t("app-page-section",[t("ui-tabs",{attrs:{tabs:[{id:"images",label:l.$gettext("Images")},{id:"styles",label:l.$gettext("Styles")}],selected:l.tab},on:{"update:selected":function(d){l.tab=d}},scopedSlots:l._u([{key:"tab:images",fn:function(){return l._l(l.uploads,function(d){return t("logo-uploader",l._b({key:d.id,on:{upload:function(p){return l.uploadLogo(d.id,p)},reset:function(p){return l.resetLogo(d.id)}}},"logo-uploader",d,!1))})},proxy:!0},{key:"tab:styles",fn:function(){return[t("ui-form-element",{attrs:{vertical:""},scopedSlots:l._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:l._s(l.$gettext("Embedded Styles"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text-editor",{attrs:{"disable-modes":"",mode:"css"},model:{value:l.css.styles,callback:function(d){l.$set(l.css,"styles",d)},expression:"css.styles"}})]},proxy:!0}])}),l._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:l._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:l._s(l.$gettext("External Styles URL"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{model:{value:l.css.url,callback:function(d){l.$set(l.css,"url",d)},expression:"css.url"}})]},proxy:!0}])})]},proxy:!0}])})],1)]},proxy:!0}])})},o=[],c=e("./js/components/local/inputs/input-text-editor.vue"),n=e("./js/pages/reseller/customize-skin/_components/logo-uploader.vue"),r=e("./js/vue-globals/mixins.js"),u=e("./js/modules/customizations/global-options/index.ts"),v=e("./js/modules/customizations/global-options/modules/login-css.ts"),h=e("./js/modules/customizations/global-options/modules/login-images.ts"),y=e("./js/modules/utils/other.js"),f=e("../node_modules/ramda/es/index.js"),E={name:"ResellerCustomizeLoginPage",components:{InputTextEditor:c.Z,LogoUploader:n.Z},mixins:[(0,r.$bindTab)({defaultTab:"images",param:"tab"})],data:()=>({changed:!1,css:{...u.l.get("login-css")},images:{...u.l.get("login-images")}}),computed:{cssModule(){return u.l.get("login-css")},imagesModule(){return u.l.get("login-images")},custom(){return f.ffD(f.fS0(this.cssModule,v.Z.data))},actions(){return this.tab==="images"?[]:[{visible:this.custom,label:this.$gettext("Reset to defaults"),handler:this.useDefaults,icon:"#delete",theme:"danger"},{visible:this.changed,label:this.$gettext("Undo changes"),handler:this.undoChanges,icon:"#reload",theme:"danger"},{visible:this.changed,label:this.$gettext("Save changes"),handler:this.saveChanges,icon:"#upload",theme:"safe"}]},uploads(){return[{id:"logoLight",title:this.$gettext("Logo Light"),isDark:!1},{id:"logoDark",title:this.$gettext("Logo Dark"),isDark:!0},{id:"favicon",title:this.$gettext("Favicon"),isDark:!1},{id:"background",title:this.$gettext("Background"),isDark:!1}].map(m=>({...m,path:this.images[m.id],custom:this.images[m.id].startsWith("data:image")}))}},watch:{css:{handler(){this.changed=!0},deep:!0}},async created(){await u.l.load(),this.css={...u.l.get("login-css")},this.images={...u.l.get("login-images")}},methods:{resetChanged(){this.$nextTick(()=>{this.changed=!1})},saveChanges(){u.l.set("login-css",f.d9v(this.css)),this.resetChanged()},async useDefaults(){await u.l.reset("login-css"),this.$nextTick(()=>{this.undoChanges()})},undoChanges(){this.css={...v.Z.data},this.resetChanged()},async uploadLogo(m,l){this.images[m]=await(0,y.sT)(l),await u.l.set("login-images",{[m]:this.images[m]}),this.resetChanged()},async resetLogo(m){this.images[m]=h.Z.data[m],await u.l.set("login-images",{[m]:null}),this.resetChanged()}}},$=E,L=e("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),M=(0,L.Z)($,s,o,!1,null,null,null),x=M.exports},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&id=5dc63abc&prod&lang=scss&":function(g,a,e){var s=e("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/inputs/input-text-editor.vue?vue&type=style&index=0&id=5dc63abc&prod&lang=scss&");s.__esModule&&(s=s.default),typeof s=="string"&&(s=[[g.id,s,""]]),s.locals&&(g.exports=s.locals);var o=e("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,c=o("bb557a88",s,!0,{})},"./js/vue-globals/mixins sync recursive \\.js$":function(g,a,e){var s={"./bindApi.js":"./js/vue-globals/mixins/bindApi.js","./local/clickOutside.js":"./js/vue-globals/mixins/local/clickOutside.js","./local/inputValidation.js":"./js/vue-globals/mixins/local/inputValidation.js","./notification.js":"./js/vue-globals/mixins/notification.js","./reloadApiTable.js":"./js/vue-globals/mixins/reloadApiTable.js","./session.js":"./js/vue-globals/mixins/session.js","./staticData.js":"./js/vue-globals/mixins/staticData.js","vue-globals/mixins/bindApi.js":"./js/vue-globals/mixins/bindApi.js","vue-globals/mixins/local/clickOutside.js":"./js/vue-globals/mixins/local/clickOutside.js","vue-globals/mixins/local/inputValidation.js":"./js/vue-globals/mixins/local/inputValidation.js","vue-globals/mixins/notification.js":"./js/vue-globals/mixins/notification.js","vue-globals/mixins/reloadApiTable.js":"./js/vue-globals/mixins/reloadApiTable.js","vue-globals/mixins/session.js":"./js/vue-globals/mixins/session.js","vue-globals/mixins/staticData.js":"./js/vue-globals/mixins/staticData.js"};function o(n){var r=c(n);return e(r)}function c(n){if(!e.o(s,n)){var r=new Error("Cannot find module '"+n+"'");throw r.code="MODULE_NOT_FOUND",r}return s[n]}o.keys=function(){return Object.keys(s)},o.resolve=c,g.exports=o,o.id="./js/vue-globals/mixins sync recursive \\.js$"}}]);
