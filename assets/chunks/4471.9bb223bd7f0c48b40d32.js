"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4471],{"./js/api/commands/reseller/password.js":function(h,p,t){var e=t("./js/api/command/index.js");p.Z=e.Z.post({url:"/CMD_USER_PASSWD",params:{action:"create",referer:"CMD_API_USER_PASSWD"},schema:{username:e.Z.REQUIRED_STRING,passwd:e.Z.REQUIRED_STRING},before:({passwd:d})=>({passwd2:d})})},"./js/api/commands/search.js":function(h,p,t){t.d(p,{p:function(){return l},y:function(){return D}});var e=t("./js/api/command/index.js");const d="/CMD_AJAX_SEARCH",l=e.Z.get({id:"USERS_LIST",url:d,response:[],params:{search_default:"0",search_users:"1",search_admins:"1",search_resellers:"1"},schema:{search:e.Z.REQUIRED_STRING},after:()=>({users:o,resellers:E,admins:f})=>Object.values({...o,...E,...f})}),D=e.Z.get({id:"SEARCH",url:d,schema:{search:e.Z.REQUIRED_STRING},before:o=>Object.keys(o).reduce((E,f,n)=>n==="search"?Object.assign(E,{search:f}):Object.assign(E,{[`search_${n}`]:f?"1":"0"}),{})})},"./js/api/commands/validation/index.js":function(h,p,t){t.d(p,{i9:function(){return c},ty:function(){return m},l7:function(){return i},OE:function(){return a},ub:function(){return y},oH:function(){return f},U5:function(){return n},k_:function(){return E},PR:function(){return s},uo:function(){return _},Jj:function(){return v},rV:function(){return r}});var e=t("./js/api/command/index.js"),d=t("../node_modules/punycode/punycode.es6.js"),l=t("./js/api/commands/converters/index.ts"),D={isValid(A){return typeof A.error=="undefined"},getMessage(A){return(0,l.S8)(A.error||"")}};const o=e.Z.get({url:"/CMD_JSON_VALIDATE",schema:{value:e.Z.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:D.isValid,message:D.getMessage}}),E=o.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}}),f=o.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}}),n=o.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0}),u=o.extend({params:{type:"dns"},domain:!0,schema:{record:e.Z.REQUIRED_STRING}}),i=u.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:e.Z.REQUIRED_STRING}}),s=i.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:({value:A})=>({value:"10",mx_value:A})}),m=u.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:e.Z.REQUIRED_STRING,value:null}}),a=o.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}}),c=o.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}}),r=o.extend({id:"VALIDATE_USERNAME",params:{type:"username"}}),v=o.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}}),_=o.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}}),y=o.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:({value:A})=>({value:d.ZP.toASCII(A)})}),x=o.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}})},"./js/api/commands/converters/customItems.ts":function(h,p,t){t.d(p,{CR:function(){return o}});var e=t("../node_modules/ramda/es/index.js"),d=t("./js/api/commands/converters/index.ts"),l=t("./js/api/commands/utils/transduce.ts"),D=t("./js/api/commands/converters/toSelectData.ts");const o=n=>{const u={name:n.name,type:n.type==="listbox"?"select":n.type,label:n.string,description:n.desc||"",value:n.type==="checkbox"?(0,d.sw)(n.checked||"no"):n.value||""};return u.type==="select"?e.BPw(u,(0,D.M1)(n.select||{})):u},E=n=>(0,l.vr)([(0,l.uD)(u=>/^item\d+val$/.test(u)),(0,l.r5)(u=>{const i=u,s=u.replace("val","txt"),m=n[i],a=n[s];return{[m]:a}})],Object.keys(n)),f=(n,u)=>e.qCK(s=>{const m={name:s.name,type:s.type==="listbox"?"select":s.type,description:s.desc||"",value:s.value||"",label:s.string};return s.type==="listbox"?(m.value=s.default,m.options=E(s)):s.type==="checkbox"&&(m.value=s.checked==="yes"),m},e.BPw({name:n}),(0,l.vr)([(0,l.r5)(s=>{const[m,a]=e.Vl2("=",s);return{[m]:a}})]),e.Vl2("&"))(u);p.ZP={fromObject:o,fromString:f}},"./js/api/commands/converters/index.ts":function(h,p,t){t.d(p,{l$:function(){return i.ZP},t0:function(){return e.t0},S8:function(){return e.S8},ql:function(){return e.ql},sw:function(){return e.sw},Qu:function(){return e.Qu},He:function(){return e.He},M1:function(){return u.M1},sf:function(){return m},cc:function(){return n}});var e=t("./js/api/commands/converters/primitive.ts"),d=t("../node_modules/monet/dist/monet.js"),l=t("./js/api/commands/types.ts");const D=a=>typeof a=="object"?d.Either.Right(a):d.Either.Left(new Error("Passed param is not an object")),o=a=>typeof a.usage=="string"?d.Either.Right(a):d.Either.Left(new Error("usage property is required")),E=a=>({usage:(0,e.He)(a.usage),limit:(0,e.Qu)(a.limit)}),f=({usage:a,limit:c})=>{let r=l.H.Normal;const v=Math.floor(a/c*100);return v>=100?r=l.H.OverUsed:v>80&&(r=l.H.AlmostUsed),{usage:a,limit:c,status:r}},n=a=>{const c=d.Either.Right(a).flatMap(D).flatMap(o).map(E).map(f);if(c.isLeft())throw c.left();return c.right()};var u=t("./js/api/commands/converters/toSelectData.ts"),i=t("./js/api/commands/converters/customItems.ts"),s=t("../node_modules/ramda/es/index.js");const m=a=>c=>{const{info:r}=c,v=s.CEd(["info"],c);return{columns:r.columns,rowsCount:Number(r.rows),rows:s.UID(a,s.VO0(v))}}},"./js/api/commands/converters/toSelectData.ts":function(h,p,t){t.d(p,{M1:function(){return f}});var e=t("../node_modules/monet/dist/monet.js"),d=t.n(e),l=t("./js/api/commands/utils/transduce.ts"),D=t("../node_modules/ramda/es/index.js");const o=n=>e.Maybe.Some(n).flatMap(u=>{const i=u.find(s=>s.selected==="yes");return i?e.Maybe.Some(i):e.Maybe.None()}).flatMap(u=>e.Maybe.fromNull(u.value)).orSome(""),E=(0,l.vr)([(0,l.r5)(n=>({[n.value]:n.text}))]),f=n=>{const u=(0,D.VO0)(n);return{value:o(u),options:E(u)}}},"./js/api/commands/types.ts":function(h,p,t){t.d(p,{H:function(){return e}});var e;(function(d){d.Normal="normal",d.AlmostUsed="almost_used",d.OverUsed="overused"})(e||(e={}))},"./js/api/commands/utils/transduce.ts":function(h,p,t){t.d(p,{Re:function(){return D},r5:function(){return d},uD:function(){return l},vr:function(){return u},zh:function(){return f}});var e=t("../node_modules/ramda/es/index.js");const d=i=>s=>(m,a)=>{const c=i(a);return s(m,c)},l=i=>s=>(m,a)=>i(a)?s(m,a):m,D=(i,s)=>(i.push(s),i),o=(i,s)=>e.BPw(i,s),E=(i,s,m,a)=>{const c=e.qCK(...m);return a.reduce(c(s),i)},f=e.WAo(E),n=f([],D),u=f({},o)},"./js/pages/reseller/passwords.vue":function(h,p,t){t.r(p),t.d(p,{default:function(){return a}});var e=function(){var r=this,v=r._self._c;return v("app-page",{scopedSlots:r._u([{key:"default",fn:function(){return[v("app-page-section",[v("ui-form-element",{attrs:{group:"user",validators:{required:!0,exists:r.isUserExist}},scopedSlots:r._u([{key:"title",fn:function(){return[v("span",{domProps:{textContent:r._s(r.$gettext("Username:"))}})]},proxy:!0},{key:"content",fn:function(){return[v("input-autocomplete",{attrs:{values:r.$api.users},on:{input:r.getUsers},model:{value:r.username,callback:function(_){r.username=_},expression:"username"}})]},proxy:!0},{key:"error:exists",fn:function(){return[v("span",{domProps:{textContent:r._s(r.$gettext("User does not exist"))}})]},proxy:!0}])}),r._v(" "),v("ui-form-element",{attrs:{group:"user",validators:{required:!0,api:r.$commands.validatePassword},underline:!1},scopedSlots:r._u([{key:"title",fn:function(){return[v("span",{domProps:{textContent:r._s(r.$gettext("Enter Password:"))}})]},proxy:!0},{key:"content",fn:function(){return[v("input-password",{attrs:{"show-generator":""},model:{value:r.passwd,callback:function(_){r.passwd=_},expression:"passwd"}})]},proxy:!0}])})],1)]},proxy:!0},{key:"footer:buttons",fn:function(){return[v("ui-button",{attrs:{theme:"safe","validate-group":"user",disabled:r.requestInProgress},on:{click:r.submit}},[v("span",{domProps:{textContent:r._s(r.$gettext("Submit"))}})])]},proxy:!0}])})},d=[],l=t("./js/api/commands/reseller/password.js"),D=t("./js/api/commands/validation/index.js"),o=t("./js/api/commands/search.js"),E=t("./js/stores/index.ts"),f=t("./js/modules/utils/index.js"),n=t("./js/modules/constants.js"),u={commands:{validatePassword:D.uo},api:[{command:o.p,bind:"users"}],props:{user:{type:String,required:!1,default:""}},data(){return{username:"",passwd:"",requestInProgress:!1}},computed:{requestData(){return{username:this.username,passwd:this.passwd,passwd2:this.passwd}}},mounted(){this.user&&(this.username=this.user)},methods:{getUsers:f._.debounce(async function(){this.username&&(0,o.p)({search:this.username})},n.xE),async submit(){const c=(0,E.oR)(PiniaStores.VALIDATION);this.requestInProgress=!0,await(0,l.Z)(this.requestData),c.touchGroupInputs("user"),Object.assign(this.$data,this.$options.data.apply(this)),setTimeout(()=>{c.touchGroupInputs("user")},300)},async isUserExist(c){return this.user||this.$api.users.length&&this.$api.users.includes(c)}}},i=u,s=t("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),m=(0,s.Z)(i,e,d,!1,null,null,null),a=m.exports}}]);
