"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2769],{"./js/pages/user/dns/mx-records.vue":function(x,o,s){s.r(o),s.d(o,{default:function(){return f}});var r=function(){var t=this,e=t._self._c;return e("app-page",{scopedSlots:t._u([{key:"details",fn:function(){return[e("ui-infobar-item",{attrs:{title:t.$gettext("Note")}},[t._v(`
            `+t._s(t.$gettext("Making modifications to the MX records can potentially disable all of your email accounts from receiving mail."))+`
        `)])]},proxy:!0},{key:"default",fn:function(){return[e("app-page-section",[e("dns-records-table",t._b({attrs:{"has-affect-pointers":t.hasAffectPointers,disabled:!t.$_flags.user.dnsControl},on:{"rows:update":t.$commands.getMXRecords}},"dns-records-table",{domain:t.$domain,only:"MX",records:t.$api.mx.records,full_mx_records:t.$api.mx.full_mx_records,enableTTL:t.$api.mx.dns_ttl,affectPointersDefault:t.$api.mx.affect_pointers},!1))],1),t._v(" "),e("app-page-section",{scopedSlots:t._u([{key:"section:title",fn:function(){return[t._v(t._s(t.$gettext("Options")))]},proxy:!0},t.$api.mx.template?{key:"footer:buttons",fn:function(){return[e("ui-button",{attrs:{theme:"safe"},on:{click:t.saveTemplate}},[e("span",{domProps:{textContent:t._s(t.$gettext("Save"))}})])]},proxy:!0}:null],null,!0)},[t._v(" "),e("ui-form-element",{scopedSlots:t._u([{key:"content",fn:function(){return[e("input-checkbox",{model:{value:t.status,callback:function(a){t.status=a},expression:"status"}},[t._v(`
                        `+t._s(t.$gettext("Use this server to handle my e-mails. If not, change the MX records and uncheck this option."))+`
                    `)])]},proxy:!0},{key:"buttons",fn:function(){return[e("ui-button",{attrs:{theme:"safe"},on:{click:t.saveStatus}},[e("span",{domProps:{textContent:t._s(t.$gettext("Save"))}})])]},proxy:!0}])}),t._v(" "),t.$api.mx.template?[e("ui-form-element",{scopedSlots:t._u([{key:"title",fn:function(){return[t._v(`
                        `+t._s(t.$gettext("MX Template"))+`
                    `)]},proxy:!0},{key:"content",fn:function(){return[e("input-select",{attrs:{options:t.mxTemplates},scopedSlots:t._u([{key:"additions:right",fn:function(){return[e("input-checkbox-button",{model:{value:t.affectPointers,callback:function(a){t.affectPointers=a},expression:"affectPointers"}},[e("span",{domProps:{textContent:t._s(t.$gettext("Affect Pointers"))}})])]},proxy:!0}],null,!1,34494596),model:{value:t.template,callback:function(a){t.template=a},expression:"template"}})]},proxy:!0}],null,!1,3169387067)})]:t._e()],2)]},proxy:!0},{key:"footer:text",fn:function(){return[t._v(`
        `+t._s(t.$gettext("* Note: Making modifications to the MX records can potentially disable all of your email accounts from receiving mail."))+`
    `)]},proxy:!0}])})},i=[],n=s("./js/api/commands/dns/index.js"),l=s("./js/components/local/dns/records-table.vue"),u=s("../node_modules/ramda/es/index.js"),c={preload:n.gd,commands:{setLocalMailStatus:n.gW,getMXRecords:n.gd},api:[{command:n.gd,bind:"mx"}],components:{DnsRecordsTable:l.Z},data:()=>({template:"",affectPointers:!0,status:""}),computed:{mxTemplates(){return this.$api.mx.template?(0,u.CEd)(["..."],this.$api.mx.template.options):{}},hasAffectPointers(){return this.$_session.usage.domainPointers.usage!==0}},watch:{$domain(){(0,n.gd)().then(this.initData)}},created(){this.initData()},methods:{initData(){this.template=this.$api.mx.template?this.$api.mx.template.value||!1:"",this.affectPointers=this.$api.mx.affect_pointers,this.status=this.$api.mx.internal},async saveTemplate(){await(0,n.s_)({mx_template:this.template,affect_pointers:this.affectPointers}),await(0,n.gd)(),this.status=this.$api.mx.internal},async saveStatus(){await(0,n.gW)({internal:this.status}),(0,n.gd)()}}},m=c,p=s("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),d=(0,p.Z)(m,r,i,!1,null,null,null),f=d.exports}}]);
