"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5564],{"./js/api/commands/user/email/usage.js":function(_,s,a){a.d(s,{Ic:function(){return i},LP:function(){return u},Lb:function(){return m},TM:function(){return l},gN:function(){return d},zS:function(){return p}});var o=a("./js/api/command/index.js");const l=o.Z.get({id:"BLOCK_CRACKING",url:"/CMD_EMAIL_USAGE",params:{main_info:!1,sending_php_scripts:!1,block_cracking_paths:!0},domain:!0,pagination:!0,after:e=>e.flow(c=>c.block_cracking_paths?c:{block_cracking_paths:"no",block_cracking_paths_table:{info:{ipp:"10",total_pages:"1",current_page:"1",rows:"0"}}},e.moveProp({block_cracking_paths:"options.enabled",block_cracking_paths_table:"rows"}),e.processTableInfo("rows"),e.mapProps({options:e.mapProps({enabled:e.convert.toAppBoolean}),rows:e.flow(e.toArray,e.mapArray(e.flow(e.moveProp({date_blocked:"date",blocked_path:"path"}),e.mapProps({date:e.convert.toAppDate}))))}))}),p=o.Z.get({id:"SENDING_SCRIPTS",url:"/CMD_EMAIL_USAGE",params:{main_info:!1,sending_php_scripts:!0,block_cracking_paths:!1,which:"both"},domain:!0,pagination:!0,after:e=>e.flow(e.moveProp({sending_php_scripts:"rows"}),e.processTableInfo("rows"),e.mapProp("rows",e.flow(e.toArray,e.mapArray(e.flow(e.moveProp({script_name:"script",mail_line_number:"line",send_count:"send"}),e.mapProps({send:e.convert.toAppNumber,line:e.flow(e.convert.toAppString,e.convert.toAppNumber)}))))))}),i=o.Z.get({id:"EMAIL_USAGE",url:"/CMD_EMAIL_USAGE",params:{main_info:!0,sending_php_scripts:!1,block_cracking_paths:!1,which:"both"},schema:{direction:o.Z.OPTIONAL_STRING},domain:!0,pagination:!0,after:e=>e.flow(e.project({rows:"deliveries",highest:"highest"}),e.processTableInfo("rows"),e.mapProp("rows",e.mapArrayProps({time:e.convert.toAppDate,size:e.convert.toAppNumber})))}),m=o.Z.select({url:"/CMD_EMAIL_USAGE",params:{unblock:!0,action:"unblock"},domain:!0}),u=o.Z.get({id:"SMTP_LOG",url:"/CMD_EMAIL_USAGE",params:{action:"smtp_log"},schema:{user:o.Z.REQUIRED_STRING,method:o.Z.REQUIRED_STRING},domain:!0,accept:"text/plain",response:[],after:()=>e=>e.split(`
`)}),d=o.Z.get({id:"EMAIL_USAGE_ID_INFO",url:"/CMD_EMAIL_USAGE",params:{action:"id_info"},schema:{id:o.Z.REQUIRED_STRING},domain:!0,accept:"text/plain",response:[],after:()=>e=>e.split(`
`)})},"./js/pages/user/email/usage/php-scripts.vue":function(_,s,a){a.r(s),a.d(s,{default:function(){return c}});var o=function(){var t=this,n=t._self._c;return n("app-page",[n("app-page-section",[n("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:t.clientStore.isPhone?"column":"row",cross:t.clientStore.isPhone?"start":"center"},expression:`{
                dir: clientStore.isPhone ? 'column' : 'row',
                cross: clientStore.isPhone ? 'start' : 'center',
            }`},{name:"gutter",rawName:"v-gutter",value:[null,.5],expression:"[null, 0.5]"}]},[n("span",{staticClass:"txt:bold",domProps:{textContent:t._s(t.$gettext("Show Usage From:"))}}),t._v(" "),n("input-radio",{attrs:{value:"today"},model:{value:t.showFrom,callback:function(r){t.showFrom=r},expression:"showFrom"}},[n("span",{domProps:{textContent:t._s(t.$gettext("Today"))}})]),t._v(" "),n("input-radio",{attrs:{value:"past"},model:{value:t.showFrom,callback:function(r){t.showFrom=r},expression:"showFrom"}},[n("span",{domProps:{textContent:t._s(t.$gettext("This Month (excluding today)"))}})]),t._v(" "),n("input-radio",{attrs:{value:"both"},model:{value:t.showFrom,callback:function(r){t.showFrom=r},expression:"showFrom"}},[n("span",{domProps:{textContent:t._s(t.$gettext("This Month"))}})])],1)]),t._v(" "),n("app-page-section",[n("ui-api-table",t._b({ref:"table"},"ui-api-table",{command:t.$commands.getSendingScripts,columns:{script:{label:t.$gettext("PHP Script Name"),apiName:"script_name",grow:!0},line:{label:t.$gettext("mail() Line Number"),apiName:"mail_line_number"},send:{label:t.$gettext("Send Count"),apiName:"send_count"}},requestData:{which:t.showFrom},disableSelect:!0,initialSort:{key:"script",sort:"ASC"}},!1))],1)],1)},l=[],p=a("./js/stores/index.ts"),i=a("./js/api/commands/user/email/usage.js"),m={preload:i.zS,commands:{getSendingScripts:i.zS},data:()=>({showFrom:"both"}),computed:{...(0,p.Kc)(["client"])}},u=m,d=a("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),e=(0,d.Z)(u,o,l,!1,null,null,null),c=e.exports}}]);
