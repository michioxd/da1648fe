"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[9619],{"./js/api/commands/reseller/ip-config.js":function(m,l,n){n.d(l,{BN:function(){return o},gd:function(){return p},iE:function(){return d}});var i=n("./js/api/command/index.js");const c="/CMD_IP_CONFIG",d=i.Z.get({id:"IP_CONFIG",url:c,response:{},after:t=>t.flow(s=>({ips:s.data,hideUsersCount:s.hide_ip_user_numbers==="1",haveShared:s.have_shared==="1"||!0,select:s.ip_list||{}}),t.mapProp("ips",t.flow(t.mapValues((s,a)=>({ip:a,...s})),Object.values,t.mapArrayProps({linked_ips:s=>Object.values(t.mapValues(s,(a,h)=>({ip:h,apache:t.convert.toAppBoolean(a.apache),dns:t.convert.toAppBoolean(a.dns)}))),value:s=>t.convert.toAppNumber(s)||s}))),t.mapProp("select",t.toSelect))}),o=i.Z.select({url:c,params:{share:!0}}),p=i.Z.select({url:c,params:{free:"Free Selected"}})},"./js/pages/reseller/ip-config.vue":function(m,l,n){n.r(l),n.d(l,{default:function(){return h}});var i=function(){var e=this,r=e._self._c;return r("app-page",{scopedSlots:e._u([{key:"default",fn:function(){return[r("app-page-section",[r("ui-r-table",e._b({attrs:{"checked-rows":e.checkedRows,"disable-pagination":"","equal-width-layout":""},on:{"update:checkedRows":function(f){e.checkedRows=f}},scopedSlots:e._u([{key:"table:actions",fn:function(){return[r("ui-table-action",{on:{click:e.share}},[r("span",{domProps:{textContent:e._s(e.$gettext("Share"))}})]),e._v(" "),r("ui-table-action",{on:{click:e.free}},[r("span",{domProps:{textContent:e._s(e.$gettext("Free"))}})])]},proxy:!0}])},"ui-r-table",{columns:[{id:"ip",label:e.$gettext("IP Address"),editable:!1},{id:"status",label:e.$gettext("Status")},e.hideUsersColumn?{id:""}:{id:"value",label:e.$gettext("User(s)")},{id:"ns",label:e.$gettext("Name Server")}],rows:e.rows,verticalLayout:e.clientStore.isPhone},!1))],1)]},proxy:!0}])})},c=[],d=n("./js/stores/index.ts"),o=n("./js/api/commands/reseller/ip-config.js"),p={preload:o.iE,api:[{command:o.iE,bind:"config"}],data(){return{checkedRows:[]}},computed:{rows(){return this.$api.config.ips},hideUsersColumn(){return this.$api.config.hideUsersCount},checkedIPs(){return this.checkedRows.map(u=>u.ip)},freeActionShown(){return this.hideUsersColumn||this.checkedRows.reduce((u,e)=>u&&e.value===0,!0)},...(0,d.Kc)(["client"])},methods:{reloadRows(){o.iE(),this.checkedRows=[]},share(){o.BN({select:this.checkedIPs}).then(this.reloadRows)},free(){o.gd({select:this.checkedIPs}).then(this.reloadRows)}}},t=p,s=n("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),a=(0,s.Z)(t,i,c,!1,null,null,null),h=a.exports}}]);
