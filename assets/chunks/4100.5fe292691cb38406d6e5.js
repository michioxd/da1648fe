"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[4100],{"./js/pages/user/protected-directories/_commands/index.js":function(l,a,s){s.d(a,{$z:function(){return p},Ee:function(){return n},Tp:function(){return u},Vt:function(){return c},cn:function(){return m},fE:function(){return o},m6:function(){return R},nb:function(){return _},wX:function(){return i}});var e=s("./js/api/command/index.js"),d=s("../node_modules/ramda/es/index.js");const r="/CMD_FILE_MANAGER",u=e.Z.post({url:r,params:{action:"protect",enabled:!0},schema:{path:e.Z.REQUIRED_STRING,user:e.Z.REQUIRED_STRING,passwd:e.Z.REQUIRED_STRING,passwd2:e.Z.REQUIRED_STRING}}),p=e.Z.get({id:"PROTECTED_DIRECTORIES",url:"/CMD_PROTECTED_DIRECTORIES",domain:!0,response:[]}),R=e.Z.get({id:"PROTECTED_DIRECTORY_STATUS",url:r,params:{action:"protect"},schema:{path:e.Z.REQUIRED_STRING},response:{protected:!1},after:()=>({ENABLED:t})=>({protected:!!t})}).extend({id:"PROTECTED_DIRECTORY_INFO",pagination:!0,response:{},after:t=>t.flow(t.deleteProp("ENABLED"),t.deleteProp("domain"),t.deleteProp("path"),t.processTableInfo("users"),t.moveProp({users:"rows",NAME:"name"}),t.mapProp("rows",t.toArray))}),m=e.Z.post({url:r,params:{action:"protect",enabled:!0},schema:{name:e.Z.REQUIRED_STRING,path:e.Z.REQUIRED_STRING,user:e.Z.REQUIRED_STRING,passwd:e.Z.REQUIRED_STRING,passwd2:e.Z.REQUIRED_STRING}}),c=e.Z.select({url:r,params:{action:"delete"},schema:{path:e.Z.REQUIRED_STRING}}),o=e.Z.post({url:r,params:{action:"protect"},schema:{name:e.Z.REQUIRED_STRING,path:e.Z.REQUIRED_STRING}}),n=e.Z.post({url:r,params:{action:"protect",enabled:!0},schema:{name:e.Z.REQUIRED_STRING,path:e.Z.REQUIRED_STRING}}),i=e.Z.get({url:"/CMD_FILE_MANAGER",params:{action:"json_all",ipp:1e5,comparison12:"equals",value12:"directory"}}),_=e.Z.get({id:"GET_PROTECTABLE_ROOTS",url:"/CMD_SUBDOMAIN",schema:{domain:e.Z.DOMAIN,ipp:9999},response:[],after:(t,I)=>D=>{const T=d.CEd(["info"],D.subdomains),f=`/domains/${I.domain}`,Z=Object.values(T).map(N=>N.public_html);return[f,...Z]}})},"./js/pages/user/protected-directories/index.vue":function(l,a,s){s.r(a),s.d(a,{default:function(){return m}});var e=function(){var o=this,n=o._self._c;return n("app-page",{attrs:{actions:[{label:o.$gettext("Add Protected Directory"),icon:"#plus-fill",name:"user/protected-directories/add"}]},scopedSlots:o._u([{key:"default",fn:function(){return[n("app-page-section",[n("ui-r-table",{attrs:{rows:o.rows,columns:[{id:"path",label:o.$gettext("Current Protected Directories")}],"is-checkable":!1,"disable-pagination":""},scopedSlots:o._u([{key:"col:path",fn:function({path:i}){return[n("ui-link",{attrs:{name:"user/protected-directories/view",query:{path:i}}},[n("span",{domProps:{textContent:o._s(i)}})])]}}])})],1)]},proxy:!0}])})},d=[],r=s("./js/pages/user/protected-directories/_commands/index.js"),u={preload:r.$z,api:[{command:r.$z,bind:"dirs"}],computed:{rows(){return this.$api.dirs.map(c=>({path:c}))}},watch:{$domain(){(0,r.$z)()}}},p=u,E=s("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),R=(0,E.Z)(p,e,d,!1,null,null,null),m=R.exports}}]);
