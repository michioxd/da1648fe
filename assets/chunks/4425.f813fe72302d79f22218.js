(self.webpackChunk=self.webpackChunk||[]).push([[4425,8952],{"./js/vue-globals/mixins.js":function(E,u,s){"use strict";s.r(u),s.d(u,{$bindTab:function(){return K},$clickOutside:function(){return d},$resizeListener:function(){return R},$scrollListener:function(){return b}});var t=s("../node_modules/vue/dist/vue.common.prod.js"),n=s.n(t),i=s("../node_modules/ramda/es/index.js"),r=s("./js/modules/file.js"),a=s("./js/modules/utils/index.js"),_=s("./js/modules/constants.js"),g=s("./js/modules/utils/css.js"),l=s("../node_modules/punycode/punycode.es6.js"),p=s("./js/vue-globals/helpers.js"),y=s("./js/stores/index.ts");const c=s("./js/vue-globals/mixins sync recursive \\.js$");(0,r.s)(c,m=>n().mixin(m.module)),n().mixin({data:()=>({isMounted:!1}),mounted(){this.isMounted=!0}}),n().mixin({methods:{$dialog(m){return{open:()=>p.uY.emit("dialog:open",m),close:()=>p.uY.emit("dialog:close",m)}}}}),n().mixin({computed:{$domain(){return this.$_ctx.session.domain},$domainUnicode(){return l.ZP.toUnicode(this.$domain)}}}),n().mixin({beforeCreate(){const m=(0,y.oR)(PiniaStores.VALIDATION);this.$valid=m.isValid.bind(m)}}),n().mixin({created(){this.regexps=_.gk}}),n().mixin({computed:{$p6e(){const m=x=>$=>{try{return x($)}catch(h){return $}};return{toA:m(l.ZP.toASCII),toU:m(l.ZP.toUnicode),email2ascii:x=>{if(!x||!x.includes("@"))return x;const[$,h]=x.split("@");return[$,l.ZP.toASCII(h)].join("@")},email2unicode:x=>{if(!x||!x.includes("@"))return x;const[$,h]=x.split("@");return[$,l.ZP.toUnicode(h)].join("@")}}}}}),n().mixin({computed:{$_layout:(0,p.YM)("skin/layout")}}),n().mixin({methods:{$_useStore(m){return(0,y.oR)(m)}}});const v=[];document.body.addEventListener("click",m=>{v.forEach(x=>x(m.target))}),window.addEventListener("touchmove",m=>{v.forEach(x=>x(m.target))});const d={methods:{$clickOutsideListener(m,x){const $=k=>i.zGw(i.Bxt(x),i.qhW(Array.isArray,P=>[P]),i.hXT(i.CyQ(i.kKJ)),i.YPD(P=>P===k||P.contains(k)))(),h=k=>{$(k)&&this.$emit(`clickOutside:${m}`)};v.push(h)}}},b={methods:{__getScroller(){return this.$_layout==="sidebar"?window.document.querySelector("main"):window},__emitScroll(){this.$emit("window:scroll",window.pageYOffset)}},mounted(){const m=this.__getScroller();m&&m.addEventListener("scroll",this.__emitScroll)},destroyed(){const m=this.__getScroller();m&&m.removeEventListener("scroll",this.__emitScroll)}},j=[];window.addEventListener("resize",()=>{j.forEach(m=>m())});const R={created(){this.$resizeListener=()=>{this.$emit("window:resize",window.innerWidth)},j.push(this.$resizeListener)},destroyed(){j.splice(j.indexOf(this.$resizeListener),1)}},K=({param:m="tab",defaultTab:x}={param:"tab"})=>({computed:{[m]:{get(){return this.$route.params[m]||x},set($){this.$route.params[m]!==$&&this.$router.replace(a._.merge({},this.$route,{params:{[m]:$}}))}}}})},"./js/vue-globals/mixins/bindApi.js":function(E,u,s){"use strict";s.r(u);var t=s("../node_modules/ramda/es/index.js");const n=(i,r)=>t.ETc(i.split("."),r);u.default={beforeCreate(){this.$options.commands&&(this.$commands=this.$options.commands)},computed:{$api(){if(!this.$options.api)return[];const i=this.$options.api;return typeof i=="function"?i.data.response:t.u4g((a,{command:_,bind:g})=>{if(typeof g=="string")return{...a,[g]:_.data.response};const l=t.u4g((p,[y,c])=>{const v=y.includes(".")?n(y,_.data):_.data[y]||_.data.response[y];return{...p,[c]:v}},{},t.Zpf(g));return{...a,...l}},{},i)}}}},"./js/vue-globals/mixins/local/clickOutside.js":function(E,u,s){"use strict";s.r(u),s.d(u,{$clickOutside:function(){return r}});var t=s("../node_modules/ramda/es/index.js");const n=[];document.body.addEventListener("click",a=>{n.forEach(t.gH4(a))}),window.addEventListener("touchstart",a=>{n.forEach(t.gH4(a))});const i=(a,_)=>t.zGw(t.qhW(Array.isArray,g=>[g]),t.hXT(t.CyQ(t.kKJ)),t.YPD(g=>g===a||g.contains(a)))(_),r={methods:{$clickOutsideListener(a,_){const g=l=>{i(l.target,_)&&this.$emit(`clickOutside:${a}`)};n.push(g)}}}},"./js/vue-globals/mixins/local/inputValidation.js":function(E,u,s){"use strict";s.r(u),s.d(u,{$inputValidation:function(){return i}});var t=s("./js/vue-globals/helpers.js"),n=s("./js/stores/index.ts");const i={inject:{groupID:{default:null},inputID:{default:null},validators:{default:()=>({})}},props:{id:{type:String,required:!1,default(){return this.inputID}},group:{type:String,required:!1,default(){return this.groupID}},novalidate:{type:Boolean,required:!1,default(){return!Object.keys(this.validators).length}}},computed:{validationStore(){return(0,n.oR)(PiniaStores.VALIDATION)},valid(){return this.validationStore.isValid(this.group,this.id)},errorState(){return!this.novalidate&&this.isUpdated&&!this.valid},isUpdated(){var r;const a=(r=this.validationStore.groups[this.group])==null?void 0:r[this.id];return typeof a=="undefined"?!1:a.updated}},methods:{$validate(r){this.id&&!this.novalidate&&this.validationStore.validate(this.groupID,this.id,r,this.validators)}},created(){if(!this.novalidate){const{validate:r}=this.$options;r&&this.$watch(r,(0,t.Ds)(this.$validate,{trailing:!0,leading:!1,delay:200}),{immediate:!0})}},destroyed(){this.novalidate||this.validationStore.deleteInput(this.group,this.id)}}},"./js/vue-globals/mixins/notification.js":function(E,u,s){"use strict";s.r(u);var t=s("./js/composables/index.ts");u.default={created(){const n=new t.d$;this.$notifications=n}}},"./js/vue-globals/mixins/reloadApiTable.js":function(E,u,s){"use strict";s.r(u);var t=s("./js/modules/constants.js");const n=r=>r.$options&&r.$options.name==="UiApiTable",i=r=>{const a=[r];let _=r;for(;_=a.shift();){if(n(_))return _;_.$children.length&&a.push(..._.$children)}return!1};u.default={methods:{$reloadApiTable({reset:r=!0}={}){const a=i(this);if(!a){t.Vi.DEV&&console.warn("$reloadApiTable called without any ui-api-table child");return}a.reloadTable(),r&&Object.assign(this.$data,this.$options.data.apply(this))}}}},"./js/vue-globals/mixins/session.js":function(E,u,s){"use strict";s.r(u);var t=s("./js/context/index.ts");u.default={computed:{$_ctx(){return t.T},$_flags(){return t.T.session.features},$_session(){return t.T.session.allValues}},methods:{$_cmd(n){return t.T.session.allowedCommands.includes(n)}}}},"./js/vue-globals/mixins/staticData.js":function(E,u,s){"use strict";s.r(u),u.default={created(){this.$options.staticData&&Object.entries(this.$options.staticData).forEach(([t,n])=>{this[t]=typeof n=="function"?n.bind(this)():n})}}},"./js/api/commands/converters/customItems.ts":function(E,u,s){"use strict";s.d(u,{CR:function(){return a}});var t=s("../node_modules/ramda/es/index.js"),n=s("./js/api/commands/converters/index.ts"),i=s("./js/api/commands/utils/transduce.ts"),r=s("./js/api/commands/converters/toSelectData.ts");const a=l=>{const p={name:l.name,type:l.type==="listbox"?"select":l.type,label:l.string,description:l.desc||"",value:l.type==="checkbox"?(0,n.sw)(l.checked||"no"):l.value||""};return p.type==="select"?t.BPw(p,(0,r.M1)(l.select||{})):p},_=l=>(0,i.vr)([(0,i.uD)(p=>/^item\d+val$/.test(p)),(0,i.r5)(p=>{const y=p,c=p.replace("val","txt"),v=l[y],d=l[c];return{[v]:d}})],Object.keys(l)),g=(l,p)=>t.qCK(c=>{const v={name:c.name,type:c.type==="listbox"?"select":c.type,description:c.desc||"",value:c.value||"",label:c.string};return c.type==="listbox"?(v.value=c.default,v.options=_(c)):c.type==="checkbox"&&(v.value=c.checked==="yes"),v},t.BPw({name:l}),(0,i.vr)([(0,i.r5)(c=>{const[v,d]=t.Vl2("=",c);return{[v]:d}})]),t.Vl2("&"))(p);u.ZP={fromObject:a,fromString:g}},"./js/api/commands/converters/index.ts":function(E,u,s){"use strict";s.d(u,{l$:function(){return y.ZP},t0:function(){return t.t0},S8:function(){return t.S8},ql:function(){return t.ql},sw:function(){return t.sw},Qu:function(){return t.Qu},He:function(){return t.He},M1:function(){return p.M1},sf:function(){return v},cc:function(){return l}});var t=s("./js/api/commands/converters/primitive.ts"),n=s("../node_modules/monet/dist/monet.js"),i=s("./js/api/commands/types.ts");const r=d=>typeof d=="object"?n.Either.Right(d):n.Either.Left(new Error("Passed param is not an object")),a=d=>typeof d.usage=="string"?n.Either.Right(d):n.Either.Left(new Error("usage property is required")),_=d=>({usage:(0,t.He)(d.usage),limit:(0,t.Qu)(d.limit)}),g=({usage:d,limit:b})=>{let j=i.H.Normal;const R=Math.floor(d/b*100);return R>=100?j=i.H.OverUsed:R>80&&(j=i.H.AlmostUsed),{usage:d,limit:b,status:j}},l=d=>{const b=n.Either.Right(d).flatMap(r).flatMap(a).map(_).map(g);if(b.isLeft())throw b.left();return b.right()};var p=s("./js/api/commands/converters/toSelectData.ts"),y=s("./js/api/commands/converters/customItems.ts"),c=s("../node_modules/ramda/es/index.js");const v=d=>b=>{const{info:j}=b,R=c.CEd(["info"],b);return{columns:j.columns,rowsCount:Number(j.rows),rows:c.UID(d,c.VO0(R))}}},"./js/api/commands/converters/toSelectData.ts":function(E,u,s){"use strict";s.d(u,{M1:function(){return g}});var t=s("../node_modules/monet/dist/monet.js"),n=s.n(t),i=s("./js/api/commands/utils/transduce.ts"),r=s("../node_modules/ramda/es/index.js");const a=l=>t.Maybe.Some(l).flatMap(p=>{const y=p.find(c=>c.selected==="yes");return y?t.Maybe.Some(y):t.Maybe.None()}).flatMap(p=>t.Maybe.fromNull(p.value)).orSome(""),_=(0,i.vr)([(0,i.r5)(l=>({[l.value]:l.text}))]),g=l=>{const p=(0,r.VO0)(l);return{value:a(p),options:_(p)}}},"./js/api/commands/types.ts":function(E,u,s){"use strict";s.d(u,{H:function(){return t}});var t;(function(n){n.Normal="normal",n.AlmostUsed="almost_used",n.OverUsed="overused"})(t||(t={}))},"./js/api/commands/user/ssh-keys/index.ts":function(E,u,s){"use strict";s.d(u,{D1:function(){return R},Tl:function(){return j},w:function(){return m},v:function(){return K},RR:function(){return b},fX:function(){return $},lY:function(){return x}});var t=s("./js/api/command/index.js"),n=s("../node_modules/ramda/es/index.js"),i=s("./js/api/commands/converters/index.ts"),r=s("../node_modules/monet/dist/monet.js"),a;(function(h){h.VALUE="value",h.CHECKBOX="checkbox"})(a||(a={}));const _=h=>r.Maybe.Some(h).flatMap(k=>r.Maybe.fromNull(k.users)).orSome([]),g=n.zGw(n.vgT("keysize"),i.M1),l=(h,k)=>({id:h,...k,timestamp:(0,i.t0)(k.timestamp)}),p=h=>n.Zpf(h.public_keys).map(n.nnj(l)),y=h=>k=>{const P=r.Maybe.Some(k).flatMap(D=>r.Maybe.fromNull(D.options)).map(n.yAE({})).map(n.VO0).map(n.u4g((D,{name:C,value:A})=>({...D,[C]:A||!0}),{})).orSome({}),M=r.Maybe.Some(h).flatMap(D=>r.Maybe.fromNull(D.global_keys)).flatMap(D=>r.Maybe.fromNull(D[k.fingerprint])),S=M.map(D=>D.who).orSome("no"),T=M.flatMap(D=>r.Maybe.fromNull(D.users)).map(n.Zpf).map(n.hXT(n.zGw(n.hL$(1),n.vgT("enabled"),n.fS0("yes")))).map(n.UID(n.YMb)).orSome([]);return{...k,options:P,global:S,users:S==="except"?n.zud(T,h.users||[]):T}},c=h=>n.VO0(h.authorized_keys).map(y(h));var v={getKeys:{users:_,options:n.vgT("key_options"),sizes:g,public:p,authorized:c}};const d="/CMD_SSH_KEYS",b=t.Z.get({id:"SSH_KEYS",url:d,mapResponse:v.getKeys,schema:{enabled_users:t.Z.OPTIONAL_BOOL,fingerprint:t.Z.OPTIONAL_STRING}}),j=t.Z.post({url:d,params:{action:"create",type:"rsa"},schema:{id:t.Z.REQUIRED_STRING,comment:t.Z.REQUIRED_STRING,keysize:t.Z.REQUIRED_STRING,passwd:t.Z.OPTIONAL_STRING,overwrite:t.Z.REQUIRED_BOOL,authorize:t.Z.REQUIRED_BOOL},before:({passwd:h})=>({passwd2:h})}),R=t.Z.select({url:d,params:{type:"public",authorize:!0}}),K=t.Z.select({url:d,params:{type:"public",delete:!0}}),m=t.Z.select({url:d,params:{type:"authorized_keys",delete:!0}}),x=t.Z.post({url:d,params:{type:"paste",action:"authorize"},schema:{text:t.Z.REQUIRED_STRING}}),$=t.Z.post({url:"/CMD_SSH_KEYS",params:{action:"modify"},schema:{fingerprint:t.Z.REQUIRED_STRING,comment:t.Z.REQUIRED_STRING,options:{type:Object,required:!0,default:()=>({})},global:t.Z.REQUIRED_BOOL,users:{type:Array,required:!0,default:()=>[]},who:t.Z.OPTIONAL_STRING},before:({options:h,users:k,global:P})=>({...h,global_key:P,select:k,options:null,global:null,users:null})})},"./js/api/commands/utils/transduce.ts":function(E,u,s){"use strict";s.d(u,{Re:function(){return r},r5:function(){return n},uD:function(){return i},vr:function(){return p},zh:function(){return g}});var t=s("../node_modules/ramda/es/index.js");const n=y=>c=>(v,d)=>{const b=y(d);return c(v,b)},i=y=>c=>(v,d)=>y(d)?c(v,d):v,r=(y,c)=>(y.push(c),y),a=(y,c)=>t.BPw(y,c),_=(y,c,v,d)=>{const b=t.qCK(...v);return d.reduce(b(c),y)},g=t.WAo(_),l=g([],r),p=g({},a)},"./js/pages/user/ssh-keys/index.vue":function(E,u,s){"use strict";s.r(u),s.d(u,{default:function(){return B}});var t=function(){var e=this,o=e._self._c;return o("app-page",{attrs:{actions:[{label:e.$gettext("Create Key"),handler:e.$dialog("CREATE_KEY_DIALOG").open,icon:"#plus-fill"},{label:e.$gettext("Paste Key"),handler:e.$dialog("PASTE_KEY_DIALOG").open,icon:"#clipboard-copy",theme:"safe"}]},scopedSlots:e._u([{key:"default",fn:function(){return[o("app-page-section",[o("ui-tabs",{attrs:{tabs:[{id:"public",label:e.$gettext("Public Keys")},{id:"authorized",label:e.$gettext("Authorized Keys")}],selected:e.tab},on:{"update:selected":function(f){e.tab=f}},scopedSlots:e._u([{key:"tab:public",fn:function(){return[o("PublicKeys",{key:"public-keys"})]},proxy:!0},{key:"tab:authorized",fn:function(){return[o("AuthorizedKeys",{key:"authorized-keys"})]},proxy:!0}])})],1),e._v(" "),o("create-key-dialog",{attrs:{keysizes:e.$api.keys.sizes}}),e._v(" "),o("paste-key-dialog")]},proxy:!0}])})},n=[],i=s("./js/api/commands/user/ssh-keys/index.ts"),r=s("./js/vue-globals/mixins.js"),a=function(){var e=this,o=e._self._c;return o("ui-dialog",{attrs:{id:"CREATE_KEY_DIALOG",size:"small",title:e.$gettext("Create SSH Key")},on:{"dialog:open":e.setKeysize},scopedSlots:e._u([{key:"content",fn:function(){return[o("ui-form-element",{attrs:{vertical:"",group:"createKey",validators:{required:!0}},scopedSlots:e._u([{key:"title",fn:function(){return[o("span",{domProps:{textContent:e._s(e.$gettext("Key ID"))}})]},proxy:!0},{key:"tooltip",fn:function(){return[o("span",{domProps:{textContent:e._s(e.$gettext("Filename of the new key"))}})]},proxy:!0},{key:"content",fn:function(){return[o("input-text",{attrs:{suffix:"_rsa",placeholder:"id"},model:{value:e.id,callback:function(f){e.id=f},expression:"id"}})]},proxy:!0},{key:"error:regex",fn:function(){return[o("span",{domProps:{textContent:e._s(e.$gettext("Should not contain special characters"))}})]},proxy:!0}])}),e._v(" "),o("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[o("input-checkbox",{model:{value:e.authorize,callback:function(f){e.authorize=f},expression:"authorize"}},[o("span",{domProps:{textContent:e._s(e.$gettext("Authorize"))}})])]},proxy:!0}])}),e._v(" "),o("transition",{attrs:{name:"fade"}},[e.keyNames.includes(e.id)?o("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){},proxy:!0},{key:"content",fn:function(){return[o("input-checkbox",{model:{value:e.overwrite,callback:function(f){e.overwrite=f},expression:"overwrite"}},[o("span",{domProps:{textContent:e._s(e.$gettext("Overwrite"))}})])]},proxy:!0}],null,!1,3109671499)}):e._e()],1),e._v(" "),o("ui-form-element",{attrs:{group:"createKey",validators:{required:!0},vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[o("span",{domProps:{textContent:e._s(e.$gettext("Comment"))}})]},proxy:!0},{key:"tooltip",fn:function(){return[o("span",{domProps:{textContent:e._s(e.$gettext("Descriptor for the Key"))}})]},proxy:!0},{key:"content",fn:function(){return[o("input-text",{attrs:{placeholder:"descriptive@comment.com"},model:{value:e.comment,callback:function(f){e.comment=f},expression:"comment"}})]},proxy:!0}])}),e._v(" "),o("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[o("span",{domProps:{textContent:e._s(e.$gettext("Key size"))}})]},proxy:!0},{key:"content",fn:function(){return[o("input-select",{attrs:{options:e.keysizes.options},model:{value:e.keysize,callback:function(f){e.keysize=f},expression:"keysize"}})]},proxy:!0}])}),e._v(" "),o("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[o("span",{domProps:{textContent:e._s(e.$gettext("Password"))}})]},proxy:!0},{key:"tooltip",fn:function(){return[o("span",{domProps:{textContent:e._s(e.$gettext("Optional"))}})]},proxy:!0},{key:"content",fn:function(){return[o("input-password",{model:{value:e.password,callback:function(f){e.password=f},expression:"password"}})]},proxy:!0}])})]},proxy:!0},{key:"buttons",fn:function(){return[o("ui-button",{attrs:{theme:"primary",disabled:e.keyNames.includes(e.id)&&!e.overwrite,"validate-group":"createKey"},on:{click:e.submit}},[o("span",{domProps:{textContent:e._s(e.$gettext("Create"))}})])]},proxy:!0}])})},_=[],g={props:{keysizes:{type:Object,required:!0,default:()=>({})}},data:()=>({id:"",comment:"",keysize:"",password:"",overwrite:!1,authorize:!1}),api:[{command:i.RR,bind:{"response.public":"keys"}}],computed:{keyData(){return{id:this.id,comment:this.comment,keysize:this.keysize,passwd:this.password,overwrite:this.overwrite,authorize:this.authorize}},keyNames(){return this.$api.keys.map(O=>O.id.replace("_rsa",""))}},methods:{setKeysize(){this.keysize=this.keysizes.value},submit(){(0,i.Tl)(this.keyData).then(()=>(0,i.RR)()).then(()=>{Object.assign(this.$data,this.$options.data.apply(this))})}}},l=g,p=s("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),y=(0,p.Z)(l,a,_,!1,null,null,null),c=y.exports,v=function(){var e=this,o=e._self._c;return o("ui-dialog",{attrs:{id:"PASTE_KEY_DIALOG",size:"normal",title:e.$gettext("Paste Authorized Key")},scopedSlots:e._u([{key:"content",fn:function(){return[o("ui-form-element",{attrs:{group:"pasteKey",validators:{required:!0},vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[o("span",{domProps:{textContent:e._s(e.$gettext("Line"))}})]},proxy:!0},{key:"content",fn:function(){return[o("input-text",{attrs:{placeholder:"(options) ssh-rsa ... comment"},scopedSlots:e._u([{key:"additions:right",fn:function(){return[o("ui-link",{attrs:{href:"https://man.openbsd.org/sshd#AUTHORIZED_KEYS_FILE_FORMAT",target:"_blank"}},[o("ui-button",{attrs:{icon:"question"}})],1)]},proxy:!0}]),model:{value:e.text,callback:function(f){e.text=f},expression:"text"}})]},proxy:!0}])})]},proxy:!0},{key:"buttons",fn:function(){return[o("ui-button",{attrs:{theme:"safe","validate-group":"pasteKey"},on:{click:e.submit}},[o("span",{domProps:{textContent:e._s(e.$gettext("Create"))}})])]},proxy:!0}])})},d=[],b={data:()=>({text:""}),methods:{submit(){i.lY({text:this.text}).then(i.RR).then(()=>{Object.assign(this.$data,this.$options.data.apply(this))})}}},j=b,R=(0,p.Z)(j,v,d,!1,null,null,null),K=R.exports,m=function(){var e=this,o=e._self._c;return o("ui-r-table",{attrs:{columns:[{id:"comment",label:e.$gettext("Comment")},{id:"fingerprint",label:e.$gettext("Fingerprint")},{id:"type",label:e.$gettext("Type")},{id:"keysize",label:e.$gettext("Size")},{id:e.showGlobal?"global":!1,label:e.$gettext("Global Key")},{id:"options",label:e.$gettext("Options")}],rows:e.keys||e.$api.keys,"checked-rows":e.checkedRows},on:{"update:checkedRows":function(f){e.checkedRows=f}},scopedSlots:e._u([{key:"table:actions",fn:function(){return[o("ui-table-action",{on:{click:e.deleteKeys}},[o("span",{domProps:{textContent:e._s(e.$gettext("Delete"))}})])]},proxy:!0},{key:"col:options",fn:function({options:f}){return[o("ui-grid",{attrs:{column:""}},e._l(f,function(z,I){return o("span",{key:I},[o("span",{domProps:{textContent:e._s(I)}}),e._v(" "),z?[e._v("= "+e._s(z))]:e._e()],2)}),0)]}},{key:"col:global",fn:function({global:f}){return[o("span",{domProps:{textContent:e._s({no:e.$gettext("No"),selected:e.$gettext("Selected Users"),all:e.$gettext("All Users"),except:e.$gettext("Except Selected Users")}[f])}})]}},{key:"row:actions",fn:function({fingerprint:f}){return[o("ui-link",{on:{click:function(z){return e.editKey(f)}}},[o("ui-icon",{attrs:{id:"pencil",size:"medium"}})],1)]}}])})},x=[],$={api:[{command:i.RR,bind:{"response.authorized":"keys"}}],data:()=>({checkedRows:[],keys:!1}),computed:{checkedKeys(){return this.checkedRows.map(O=>O.fingerprint)},showGlobal(){return this.$_useStore("user").hasRole("reseller")}},methods:{reloadKeys(){i.RR(),Object.assign(this.$data,this.$options.data.apply(this))},editKey(O){this.keys=this.$api.keys,this.$router.push({name:"user/ssh-keys/edit",params:{fingerprint:O}})},deleteKeys(){i.w({select:this.checkedKeys}).then(this.reloadKeys)}}},h=$,k=(0,p.Z)(h,m,x,!1,null,null,null),P=k.exports,M=function(){var e=this,o=e._self._c;return o("ui-r-table",{key:"public",attrs:{columns:[{id:"id",label:e.$gettext("Key ID")},{id:"comment",label:e.$gettext("Comment")},{id:"fingerprint",label:e.$gettext("Fingerprint")},{id:"type",label:e.$gettext("Type")},{id:"keysize",label:e.$gettext("Size")}],rows:e.$api.keys,"checked-rows":e.checkedRows},on:{"update:checkedRows":function(f){e.checkedRows=f}},scopedSlots:e._u([{key:"table:actions",fn:function(){return[o("ui-table-action",{on:{click:e.authorizeKeys}},[o("span",{domProps:{textContent:e._s(e.$gettext("Authorize"))}})]),e._v(" "),o("ui-table-action",{on:{click:e.deleteKeys}},[o("span",{domProps:{textContent:e._s(e.$gettext("Delete"))}})])]},proxy:!0},{key:"col:id",fn:function({id:f}){return[o("a",{attrs:{href:`/CMD_FILE_MANAGER/.ssh/${f}.pub`,download:`${f}.pub`}},[e._v(`
            `+e._s(f)+`
        `)])]}}])})},S=[],T={api:[{command:i.RR,bind:{"response.public":"keys"}}],data:()=>({checkedRows:[]}),computed:{checkedKeys(){return this.checkedRows.map(O=>O.fingerprint)}},methods:{reloadKeys(){i.RR(),this.checkedRows=[]},authorizeKeys(){i.D1({select:this.checkedKeys}).then(this.reloadKeys)},deleteKeys(){i.v({select:this.checkedKeys}).then(this.reloadKeys)}}},D=T,C=(0,p.Z)(D,M,S,!1,null,null,null),A=C.exports,L={preload:i.RR,components:{CreateKeyDialog:c,PublicKeys:A,AuthorizedKeys:P,PasteKeyDialog:K},mixins:[(0,r.$bindTab)({defaultTab:"public",param:"tab"})],api:[{command:i.RR,bind:"keys"}],data:()=>({checkedRows:[]}),computed:{checkedKeys(){return this.checkedRows.map(O=>O.fingerprint)}},methods:{}},U=L,w=(0,p.Z)(U,t,n,!1,null,null,null),B=w.exports},"./js/vue-globals/mixins sync recursive \\.js$":function(E,u,s){var t={"./bindApi.js":"./js/vue-globals/mixins/bindApi.js","./local/clickOutside.js":"./js/vue-globals/mixins/local/clickOutside.js","./local/inputValidation.js":"./js/vue-globals/mixins/local/inputValidation.js","./notification.js":"./js/vue-globals/mixins/notification.js","./reloadApiTable.js":"./js/vue-globals/mixins/reloadApiTable.js","./session.js":"./js/vue-globals/mixins/session.js","./staticData.js":"./js/vue-globals/mixins/staticData.js","vue-globals/mixins/bindApi.js":"./js/vue-globals/mixins/bindApi.js","vue-globals/mixins/local/clickOutside.js":"./js/vue-globals/mixins/local/clickOutside.js","vue-globals/mixins/local/inputValidation.js":"./js/vue-globals/mixins/local/inputValidation.js","vue-globals/mixins/notification.js":"./js/vue-globals/mixins/notification.js","vue-globals/mixins/reloadApiTable.js":"./js/vue-globals/mixins/reloadApiTable.js","vue-globals/mixins/session.js":"./js/vue-globals/mixins/session.js","vue-globals/mixins/staticData.js":"./js/vue-globals/mixins/staticData.js"};function n(r){var a=i(r);return s(a)}function i(r){if(!s.o(t,r)){var a=new Error("Cannot find module '"+r+"'");throw a.code="MODULE_NOT_FOUND",a}return t[r]}n.keys=function(){return Object.keys(t)},n.resolve=i,E.exports=n,n.id="./js/vue-globals/mixins sync recursive \\.js$"}}]);
