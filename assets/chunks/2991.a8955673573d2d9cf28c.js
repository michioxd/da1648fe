"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2991,1765],{"./js/pages/user/unit/modify.vue":function(m,i,o){o.r(i),o.d(i,{default:function(){return x}});var p=function(){var t=this,e=t._self._c;return e("app-page",{attrs:{id:"modify-application"},scopedSlots:t._u([{key:"default",fn:function(){return[e("app-page-section",[e("ui-tabs",{attrs:{tabs:[{id:"app",label:t.$gettext("Application")},{id:"config",label:t.$gettext("Configuration")},{id:"env",label:t.$gettext("Advanced")}]},scopedSlots:t._u([{key:"tab:app",fn:function(){return[e("app-page-section",[e("ui-form-element",{attrs:{group:"application-info",validators:{required:!0}},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Name"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-text",{attrs:{disabled:"",value:t.id}})]},proxy:!0}])}),t._v(" "),e("ui-form-element",{attrs:{underline:t.hasVersions},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Type"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-select",{attrs:{options:t.types},model:{value:t.type,callback:function(n){t.type=n},expression:"type"}})]},proxy:!0}])}),t._v(" "),t.hasVersions?e("ui-form-element",{key:"version",attrs:{underline:!1},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Version"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-select",{attrs:{options:t.versions},model:{value:t.version,callback:function(n){t.version=n},expression:"version"}})]},proxy:!0}],null,!1,3216820149)}):t._e()],1)]},proxy:!0},{key:"tab:config",fn:function(){return[e("app-page-section",[t.is.perl?[e("ui-form-element",{key:"perl-working_directory",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Working directory"))}})]},proxy:!0},{key:"content",fn:function(){return[e("prefixed-input",{attrs:{prefix:t.cwd},model:{value:t.perl.working_directory,callback:function(n){t.$set(t.perl,"working_directory",n)},expression:"perl.working_directory"}})]},proxy:!0}],null,!1,2150920347)}),t._v(" "),e("ui-form-element",{key:"perl-script",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Script"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-text",{model:{value:t.perl.script,callback:function(n){t.$set(t.perl,"script",n)},expression:"perl.script"}})]},proxy:!0}],null,!1,1177311842)})]:t._e(),t._v(" "),t.is.external?[e("ui-form-element",{key:"external-working_directory",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Working directory"))}})]},proxy:!0},{key:"content",fn:function(){return[e("prefixed-input",{attrs:{prefix:t.cwd},model:{value:t.external.working_directory,callback:function(n){t.$set(t.external,"working_directory",n)},expression:"external.working_directory"}})]},proxy:!0}],null,!1,1983708365)}),t._v(" "),e("ui-form-element",{key:"external-script",attrs:{group:"application-external",validators:{required:!0,validateExternalScript:t.validateExternalScript}},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Script"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-text",{model:{value:t.external.script,callback:function(n){t.$set(t.external,"script",n)},expression:"external.script"}})]},proxy:!0},{key:"error:validateExternalScript",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettextInterpolate(t.$gettext("File %{file} does not exist"),{file:`${t.external.working_directory}/${t.external.script}`}))}})]},proxy:!0}],null,!1,2678049162)}),t._v(" "),e("ui-form-element",{scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Arguments"))}})]},proxy:!0},{key:"content",fn:function(){return[e("array-editor",{model:{value:t.external.arguments,callback:function(n){t.$set(t.external,"arguments",n)},expression:"external.arguments"}})]},proxy:!0}],null,!1,4062707751)})]:t._e(),t._v(" "),t.is.php?[e("root-editor",{attrs:{cwd:t.cwd,multiple:t.hasTargets},on:{"update:multiple":function(n){t.hasTargets=n}},model:{value:t.php,callback:function(n){t.php=n},expression:"php"}})]:t._e(),t._v(" "),t.is.python?[e("ui-form-element",{key:"python-path",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Path"))}})]},proxy:!0},{key:"content",fn:function(){return[e("array-editor",{attrs:{prefix:t.cwd,"append-slash":""},model:{value:t.python.path,callback:function(n){t.$set(t.python,"path",n)},expression:"python.path"}})]},proxy:!0}],null,!1,3206801172)}),t._v(" "),e("ui-form-element",{key:"python-home",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Home"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-text",{model:{value:t.python.home,callback:function(n){t.$set(t.python,"home",n)},expression:"python.home"}})]},proxy:!0}],null,!1,4022183101)}),t._v(" "),e("ui-form-element",{key:"python-module",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Module"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-text",{model:{value:t.python.module,callback:function(n){t.$set(t.python,"module",n)},expression:"python.module"}})]},proxy:!0}],null,!1,2041636669)}),t._v(" "),e("ui-form-element",{key:"python-callable",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Callable"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-text",{model:{value:t.python.callable,callback:function(n){t.$set(t.python,"callable",n)},expression:"python.callable"}})]},proxy:!0}],null,!1,2977882813)})]:t._e(),t._v(" "),t.is.java?[e("ui-form-element",{key:"java-working_directory",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Working directory"))}})]},proxy:!0},{key:"content",fn:function(){return[e("prefixed-input",{attrs:{prefix:t.cwd},model:{value:t.java.working_directory,callback:function(n){t.$set(t.java,"working_directory",n)},expression:"java.working_directory"}})]},proxy:!0}],null,!1,49185356)}),t._v(" "),e("ui-form-element",{key:"java-webapp",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Webapp"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-text",{model:{value:t.java.webapp,callback:function(n){t.$set(t.java,"webapp",n)},expression:"java.webapp"}})]},proxy:!0}],null,!1,293609621)})]:t._e(),t._v(" "),t.is.ruby?[e("ui-form-element",{key:"ruby-script",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Script"))}})]},proxy:!0},{key:"content",fn:function(){return[e("prefixed-input",{attrs:{prefix:t.cwd,"append-slash":!1},model:{value:t.ruby.script,callback:function(n){t.$set(t.ruby,"script",n)},expression:"ruby.script"}})]},proxy:!0}],null,!1,3980602302)})]:t._e()],2)]},proxy:!0},{key:"tab:env",fn:function(){return[e("app-page-section",[e("ui-form-element",{key:"processes",attrs:{group:"application-common",validators:{required:!0}},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Processes"))}})]},proxy:!0},{key:"content",fn:function(){return[e("processes-editor",{model:{value:t.processes,callback:function(n){t.processes=n},expression:"processes"}})]},proxy:!0}])}),t._v(" "),e("ui-form-element",{key:"timeout",attrs:{group:"application-common",validators:{required:!0}},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Timeout"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-text",{attrs:{number:""},model:{value:t.timeout,callback:function(n){t.timeout=n},expression:"timeout"}})]},proxy:!0}])}),t._v(" "),e("ui-form-element",{key:"requests",attrs:{group:"application-common",validators:{required:!0}},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Requests"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-text",{attrs:{number:""},model:{value:t.requests,callback:function(n){t.requests=n},expression:"requests"}})]},proxy:!0}])}),t._v(" "),t.is.php?[e("ui-form-element",{key:"php-options.user",attrs:{vertical:""},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Options"))}})]},proxy:!0},{key:"content",fn:function(){return[e("obj-editor",{model:{value:t.php.options.user,callback:function(n){t.$set(t.php.options,"user",n)},expression:"php.options.user"}})]},proxy:!0}],null,!1,2140908115)})]:t._e(),t._v(" "),t.is.java?[e("ui-form-element",{key:"java-classpath",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Class Path"))}})]},proxy:!0},{key:"content",fn:function(){return[e("array-editor",{model:{value:t.java.classpath,callback:function(n){t.$set(t.java,"classpath",n)},expression:"java.classpath"}})]},proxy:!0}],null,!1,193750950)}),t._v(" "),e("ui-form-element",{key:"java-options",scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Options"))}})]},proxy:!0},{key:"content",fn:function(){return[e("array-editor",{model:{value:t.java.options,callback:function(n){t.$set(t.java,"options",n)},expression:"java.options"}})]},proxy:!0}],null,!1,57818438)})]:t._e(),t._v(" "),e("ui-form-element",{key:"environment",attrs:{vertical:""},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Environment"))}})]},proxy:!0},{key:"content",fn:function(){return[e("obj-editor",{model:{value:t.environment,callback:function(n){t.environment=n},expression:"environment"}})]},proxy:!0}])})],2)]},proxy:!0}])})],1)]},proxy:!0},{key:"footer:buttons",fn:function(){return[e("ui-button",{attrs:{theme:"safe"},on:{click:t.modifyApp}},[e("span",{domProps:{textContent:t._s(t.$gettext("Modify"))}})])]},proxy:!0}])})},u=[],a=o("./js/pages/user/unit/create.vue"),s=o("./js/api/commands/user/unit/index.js"),l=o("../node_modules/ramda/es/index.js"),c={extends:a.default,preload:({id:r})=>(0,s.sh)({name:r}),api:s.sh,props:{id:{type:String,required:!0}},methods:{async modifyApp(){await(0,s.dt)({name:this.id,json:this.json})instanceof Error||this.$router.back()},loadData(){const{app:r}=this.$api;this.name=this.id,this.type=this.$api.type,this.$nextTick(()=>{this.version=this.$api.version}),this.timeout=r.limits.timeout.toString(),this.requests=r.limits.requests.toString(),typeof r.processes=="number"?this.processes=r.processes.toString():this.processes=r.processes,this.environment=r.environment||{};const t=this[this.type];if(l.XPQ(t).forEach(e=>{this.$set(this[this.type],e,r[e]||t[e])}),this.type==="external"&&(this.external.script=t.arguments[5],this.external.arguments=t.arguments.slice(6)),this.type==="php"&&t.targets&&(this.hasTargets=Object.keys(t.targets).length>0),this.type==="python"){typeof this.python.path=="string"&&(this.python.path=[this.python.path]);const e=this.cwd.endsWith("/")?this.cwd:`${this.cwd}/`;this.python.path=this.python.path.map(n=>n.replace(e,""))}}}},f=c,y=o("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),d=(0,y.Z)(f,p,u,!1,null,null,null),x=d.exports}}]);
