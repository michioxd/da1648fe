(self.webpackChunk=self.webpackChunk||[]).push([[6521],{"./js/api/commands/admin/users/message.js":function(y,v,r){"use strict";r.d(v,{FC:function(){return f},TB:function(){return E},o6:function(){return c}});var s=r("./js/api/command/index.js");const d=({level:m})=>`/CMD_EDIT_${m.toUpperCase()}_MESSAGE`,u={type:String,required:!0,default:"reseller",validator:m=>["admin","reseller"].includes(m)},f=s.Z.get({id:"MESSAGE",url:d,schema:{level:u},after:m=>m.mapProp("message",m.convert.toAppText)}),c=s.Z.post({url:d,params:{save:!0},schema:{level:u,subject:s.Z.REQUIRED_STRING,message:s.Z.REQUIRED_STRING}}),E=s.Z.post({url:d,params:{reset:!0},schema:{level:u}})},"./js/api/commands/admin/users/resellers.js":function(y,v,r){"use strict";r.d(v,{Rf:function(){return E},Rh:function(){return m},UH:function(){return f},YY:function(){return _},Zg:function(){return i},fy:function(){return c},pw:function(){return l},tr:function(){return u},xn:function(){return d}});var s=r("./js/api/command/index.js");const d=s.Z.post({id:"RESELLER_OPTIONS",url:"/CMD_ACCOUNT_RESELLER",notifySuccess:!1,blocking:!1,after:e=>e.flow(e.moveProp("free_ips","freeIPs"),e.mapProp("freeIPs",e.convert.toAppNumber),e.mapProp("ip_select",e.toSelect))}),u=s.Z.post({url:"/CMD_ACCOUNT_RESELLER",params:{action:"create",add:!0},schema:{username:s.Z.REQUIRED_STRING,email:s.Z.REQUIRED_STRING,passwd:s.Z.REQUIRED_STRING,passwd2:s.Z.REQUIRED_STRING,domain:s.Z.REQUIRED_STRING,package:s.Z.OPTIONAL_STRING,notify:s.Z.REQUIRED_BOOL,ip:s.Z.REQUIRED_STRING}}),f=s.Z.get({id:"RESELLERS",url:"/CMD_RESELLER_SHOW",pagination:!0,params:{bytes:!0},after:e=>e.flow(e.wrap("resellers"),e.moveProp({"resellers.reasons":"reasons"}),e.mapProp("resellers",e.toTable(e.mapArray(n=>{if(typeof n.bandwidth=="string")return{username:n.username,valid:!1};const[o,p]=n.nusers.split("/");return{username:n.username,nusers:o,nuserslimit:e.convert.toAppLimit(p),suspended:n.suspended.value!=="no:",reason:n.suspended.reason||"none",vdomains:e.toLimitedUsage()(n.vdomains),bandwidth:e.toLimitedUsage()(n.bandwidth),quota:e.toLimitedUsage()(n.quota),valid:!0}}))),e.mapProp("reasons",e.toSelect))}),c=s.Z.get({id:"RESELLER_STATS",url:"/CMD_SHOW_RESELLER",params:{bytes:!0},schema:{user:s.Z.REQUIRED_STRING},after:e=>e.flow(e.project({comments:"comments",info:"stats",usage:"stats",stats:"stats",users:"users",deleted_user_bandwidth:"stats",additional_bandwidth:"stats"}),e.mapProps({usage:e.flow(e.deleteProp("info"),e.filter(e.getProp("max_usage")),e.transformObject(({setting:n,usage:o,allocated:p,max_usage:R})=>({[n]:{usage:o,allocated:p,limit:R}})),e.mapValues(e.mapProps({usage:e.convert.toAppNumber,limit:e.convert.toAppLimit,allocated:e.convert.toAppLimit}))),stats:e.flow(e.deleteProp("info"),e.filter(e.flow(e.getProp("usage"),n=>["ON","OFF"].includes(n))),e.transformObject(({setting:n,usage:o})=>({[n]:o})),e.mapValues(e.convert.toAppBoolean)),info:e.flow(e.deleteProp("info"),e.filter(n=>!n.max_usage&&!["ON","OFF"].includes(n.usage)),e.transformObject(({setting:n,usage:o})=>({[n]:o}))),comments:e.flow(e.convert.toAppString,e.convert.toAppText),users:e.toTable(e.mapArrayProps({bandwidth:e.toLimitedUsage(),quota:e.toLimitedUsage(),vdomains:e.toLimitedUsage(),suspended:e.flow(e.isEqual("No"),e.not)})),skinInfo:e.feedWith(1,e.flow(e.project({custom:"is_reseller_skin",path:"reseller_skin",owner:"reseller_skin_owner"}),e.mapProp("custom",e.isEqual("1")))),deleted_user_bandwidth:e.flow(e.deleteProp("info"),Object.values,n=>n.find(({setting:o})=>o==="deleted_user_bandwidth"),n=>typeof n!="undefined"?e.mapProps({usage:e.convert.toAppNumber,limit:e.convert.toAppLimit,allocated:e.convert.toAppLimit})(n):!1),additional_bandwidth:e.flow(e.deleteProp("info"),Object.values,n=>n.find(({setting:o})=>o==="additional_bandwidth")||{usage:!1},n=>n.usage)}))}),E=s.Z.get({id:"RESELLER_USERS",url:"/CMD_SHOW_RESELLER",params:{bytes:!0},pagination:!0,schema:{user:s.Z.REQUIRED_STRING},after:e=>e.flow(e.getProp("users"),e.toTable(e.mapArrayProps({bandwidth:e.toLimitedUsage(),quota:e.toLimitedUsage(),vdomains:e.toLimitedUsage(),suspended:e.flow(e.isEqual("No"),e.not)})))}),m=s.Z.get({id:"RESELLER_DATA",url:"/CMD_MODIFY_RESELLER",params:{bytes:!0},schema:{user:s.Z.REQUIRED_STRING},after:e=>e.flow(n=>({packageData:n,packages:n.packages,package:n.packages,custom:n.custom_items,haveInode:n.have_inode,cgroup:n.cgroup}),e.mapProps({haveInode:e.isEqual("yes"),package:e.flow(e.find(e.getProp("selected")),e.getProp("value")),packages:e.flow(e.transformObject(({value:n,text:o})=>({[n]:o})),e.filter((n,o)=>!!o)),custom:e.flow(e.toArray,e.mapArray(n=>{const o={type:n.type,description:n.desc,label:n.string,name:n.name};switch(n.type){case"checkbox":return Object.assign(o,{value:e.isEqual("yes")(n.checked)});case"text":return Object.assign(o,{value:n.value});case"listbox":return Object.assign(o,{value:e.flow(e.find(e.getProp("selected")),e.getProp("value"))(n.select),options:e.transformObject(({value:p,text:R})=>({[p]:R}))(n.select)});default:return!1}}),e.filter(e.notEmpty)),packageData:e.flow(e.deleteProps(["packages","have_inode","custom_items"]),e.transformObject((n,o)=>{if(n.type==="unlimited"){const p=e.convert.toAppLimit(n.value)===1/0,R=p?"":n.value;return{limits:{[o]:{value:R,unlimited:p}}}}return n.type==="checkbox"?{features:{[o]:n.checked==="yes"}}:{[o]:n}})),cgroup:n=>n?Object.values({...n.options||{},...n.saved||{}}):[]}))}),l=s.Z.post({url:"/CMD_MODIFY_RESELLER",params:{action:"package"},schema:{user:s.Z.REQUIRED_STRING,package:s.Z.REQUIRED_STRING}}),i=s.Z.post({url:"/CMD_MODIFY_RESELLER",params:{action:"customize",bytes:!0},schema:{user:s.Z.REQUIRED_STRING,bandwidth:s.Z.OPTIONAL_STRING,ubandwidth:s.Z.OPTIONAL_BOOL,quota:s.Z.OPTIONAL_STRING,uquota:s.Z.OPTIONAL_BOOL,inode:s.Z.OPTIONAL_STRING,uinode:s.Z.OPTIONAL_BOOL,vdomains:s.Z.OPTIONAL_STRING,uvdomains:s.Z.OPTIONAL_BOOL,nsubdomains:s.Z.OPTIONAL_STRING,unsubdomains:s.Z.OPTIONAL_BOOL,nemails:s.Z.OPTIONAL_STRING,unemails:s.Z.OPTIONAL_BOOL,nemailf:s.Z.OPTIONAL_STRING,unemailf:s.Z.OPTIONAL_BOOL,nemailml:s.Z.OPTIONAL_STRING,unemailml:s.Z.OPTIONAL_BOOL,nemailr:s.Z.OPTIONAL_STRING,unemailr:s.Z.OPTIONAL_BOOL,mysql:s.Z.OPTIONAL_STRING,umysql:s.Z.OPTIONAL_BOOL,domainptr:s.Z.OPTIONAL_STRING,udomainptr:s.Z.OPTIONAL_BOOL,ftp:s.Z.OPTIONAL_STRING,uftp:s.Z.OPTIONAL_BOOL,aftp:s.Z.OPTIONAL_STRING,cgi:s.Z.OPTIONAL_STRING,git:s.Z.OPTIONAL_STRING,php:s.Z.OPTIONAL_STRING,spam:s.Z.OPTIONAL_STRING,catchall:s.Z.OPTIONAL_STRING,ssl:s.Z.OPTIONAL_STRING,ssh:s.Z.OPTIONAL_STRING,userssh:s.Z.OPTIONAL_STRING,oversell:s.Z.OPTIONAL_STRING,cron:s.Z.OPTIONAL_STRING,sysinfo:s.Z.OPTIONAL_STRING,login_keys:s.Z.OPTIONAL_STRING,dnscontrol:s.Z.OPTIONAL_STRING}}),_=s.Z.post({url:"/CMD_MODIFY_RESELLER",params:{additional_bw:!0,action:"single",json:null},schema:{user:s.Z.REQUIRED_STRING,additional_bandwidth:s.Z.REQUIRED_STRING}})},"./js/api/commands/validation/index.js":function(y,v,r){"use strict";r.d(v,{i9:function(){return p},ty:function(){return n},l7:function(){return _},OE:function(){return o},ub:function(){return S},oH:function(){return m},U5:function(){return l},k_:function(){return E},PR:function(){return e},uo:function(){return I},Jj:function(){return O},rV:function(){return R}});var s=r("./js/api/command/index.js"),d=r("../node_modules/punycode/punycode.es6.js"),u=r("./js/api/commands/converters/index.ts"),f={isValid(x){return typeof x.error=="undefined"},getMessage(x){return(0,u.S8)(x.error||"")}};const c=s.Z.get({url:"/CMD_JSON_VALIDATE",schema:{value:s.Z.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:f.isValid,message:f.getMessage}}),E=c.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}}),m=c.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}}),l=c.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0}),i=c.extend({params:{type:"dns"},domain:!0,schema:{record:s.Z.REQUIRED_STRING}}),_=i.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:s.Z.REQUIRED_STRING}}),e=_.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:({value:x})=>({value:"10",mx_value:x})}),n=i.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:s.Z.REQUIRED_STRING,value:null}}),o=c.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}}),p=c.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}}),R=c.extend({id:"VALIDATE_USERNAME",params:{type:"username"}}),O=c.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}}),I=c.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}}),S=c.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:({value:x})=>({value:d.ZP.toASCII(x)})}),L=c.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}})},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/edit-reseller-message-dialog.vue?vue&type=style&index=0&id=003af820&prod&lang=scss&scoped=true&":function(){},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/users/resellers/create.vue?vue&type=style&index=0&id=4a5e54ae&prod&lang=scss&scoped=true&":function(){},"./js/api/commands/converters/customItems.ts":function(y,v,r){"use strict";r.d(v,{CR:function(){return c}});var s=r("../node_modules/ramda/es/index.js"),d=r("./js/api/commands/converters/index.ts"),u=r("./js/api/commands/utils/transduce.ts"),f=r("./js/api/commands/converters/toSelectData.ts");const c=l=>{const i={name:l.name,type:l.type==="listbox"?"select":l.type,label:l.string,description:l.desc||"",value:l.type==="checkbox"?(0,d.sw)(l.checked||"no"):l.value||""};return i.type==="select"?s.BPw(i,(0,f.M1)(l.select||{})):i},E=l=>(0,u.vr)([(0,u.uD)(i=>/^item\d+val$/.test(i)),(0,u.r5)(i=>{const _=i,e=i.replace("val","txt"),n=l[_],o=l[e];return{[n]:o}})],Object.keys(l)),m=(l,i)=>s.qCK(e=>{const n={name:e.name,type:e.type==="listbox"?"select":e.type,description:e.desc||"",value:e.value||"",label:e.string};return e.type==="listbox"?(n.value=e.default,n.options=E(e)):e.type==="checkbox"&&(n.value=e.checked==="yes"),n},s.BPw({name:l}),(0,u.vr)([(0,u.r5)(e=>{const[n,o]=s.Vl2("=",e);return{[n]:o}})]),s.Vl2("&"))(i);v.ZP={fromObject:c,fromString:m}},"./js/api/commands/converters/index.ts":function(y,v,r){"use strict";r.d(v,{l$:function(){return _.ZP},t0:function(){return s.t0},S8:function(){return s.S8},ql:function(){return s.ql},sw:function(){return s.sw},Qu:function(){return s.Qu},He:function(){return s.He},M1:function(){return i.M1},sf:function(){return n},cc:function(){return l}});var s=r("./js/api/commands/converters/primitive.ts"),d=r("../node_modules/monet/dist/monet.js"),u=r("./js/api/commands/types.ts");const f=o=>typeof o=="object"?d.Either.Right(o):d.Either.Left(new Error("Passed param is not an object")),c=o=>typeof o.usage=="string"?d.Either.Right(o):d.Either.Left(new Error("usage property is required")),E=o=>({usage:(0,s.He)(o.usage),limit:(0,s.Qu)(o.limit)}),m=({usage:o,limit:p})=>{let R=u.H.Normal;const O=Math.floor(o/p*100);return O>=100?R=u.H.OverUsed:O>80&&(R=u.H.AlmostUsed),{usage:o,limit:p,status:R}},l=o=>{const p=d.Either.Right(o).flatMap(f).flatMap(c).map(E).map(m);if(p.isLeft())throw p.left();return p.right()};var i=r("./js/api/commands/converters/toSelectData.ts"),_=r("./js/api/commands/converters/customItems.ts"),e=r("../node_modules/ramda/es/index.js");const n=o=>p=>{const{info:R}=p,O=e.CEd(["info"],p);return{columns:R.columns,rowsCount:Number(R.rows),rows:e.UID(o,e.VO0(O))}}},"./js/api/commands/converters/toSelectData.ts":function(y,v,r){"use strict";r.d(v,{M1:function(){return m}});var s=r("../node_modules/monet/dist/monet.js"),d=r.n(s),u=r("./js/api/commands/utils/transduce.ts"),f=r("../node_modules/ramda/es/index.js");const c=l=>s.Maybe.Some(l).flatMap(i=>{const _=i.find(e=>e.selected==="yes");return _?s.Maybe.Some(_):s.Maybe.None()}).flatMap(i=>s.Maybe.fromNull(i.value)).orSome(""),E=(0,u.vr)([(0,u.r5)(l=>({[l.value]:l.text}))]),m=l=>{const i=(0,f.VO0)(l);return{value:c(i),options:E(i)}}},"./js/api/commands/types.ts":function(y,v,r){"use strict";r.d(v,{H:function(){return s}});var s;(function(d){d.Normal="normal",d.AlmostUsed="almost_used",d.OverUsed="overused"})(s||(s={}))},"./js/api/commands/utils/transduce.ts":function(y,v,r){"use strict";r.d(v,{Re:function(){return f},r5:function(){return d},uD:function(){return u},vr:function(){return i},zh:function(){return m}});var s=r("../node_modules/ramda/es/index.js");const d=_=>e=>(n,o)=>{const p=_(o);return e(n,p)},u=_=>e=>(n,o)=>_(o)?e(n,o):n,f=(_,e)=>(_.push(e),_),c=(_,e)=>s.BPw(_,e),E=(_,e,n,o)=>{const p=s.qCK(...n);return o.reduce(p(e),_)},m=s.WAo(E),l=m([],f),i=m({},c)},"./js/pages/admin/users/resellers/create.vue":function(y,v,r){"use strict";r.r(v),r.d(v,{default:function(){return T}});var s=function(){var t=this,a=t._self._c;return a("app-page",{staticClass:"create-reseller",attrs:{actions:[{handler:t.editResellerMessage,icon:"#pencil",label:t.$gettext("Edit Reseller Message"),visible:t.hasPackages,theme:"safe"},{name:"admin/reseller-packages/create",icon:"#plus-fill",label:t.$gettext("Create Reseller Package"),visible:!t.hasPackages},{name:"admin/reseller-packages",icon:"manage-reseller-packages",label:t.$gettext("Manage Reseller Packages")}]},scopedSlots:t._u([{key:"default",fn:function(){return[t.hasPackages?a("div",[a("app-page-section",[a("ui-form-element",{attrs:{group:"createReseller",validators:{required:!0,api:t.$commands.validateUsername}},scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("Username"))}})]},proxy:!0},{key:"content",fn:function(){return[a("input-text",{model:{value:t.username,callback:function(g){t.username=g},expression:"username"}})]},proxy:!0}],null,!1,3173921427)}),t._v(" "),a("ui-form-element",{attrs:{group:"createReseller",validators:{required:!0,api:t.$commands.validateEmail}},scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("E-mail"))}})]},proxy:!0},{key:"content",fn:function(){return[a("input-text",{model:{value:t.email,callback:function(g){t.email=g},expression:"email"}})]},proxy:!0}],null,!1,1121090238)}),t._v(" "),a("ui-form-element",{attrs:{group:"createReseller",validators:{required:!0,api:t.$commands.validatePassword}},scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("Enter Password"))}})]},proxy:!0},{key:"content",fn:function(){return[a("input-password",{attrs:{"show-generator":""},model:{value:t.passwd,callback:function(g){t.passwd=g},expression:"passwd"}})]},proxy:!0}],null,!1,2258834451)}),t._v(" "),a("ui-form-element",{attrs:{group:"createReseller",validators:{required:!0,regex:t.regexps.domain,api:t.$commands.validateDomain}},scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("Domain"))}})]},proxy:!0},{key:"content",fn:function(){return[a("input-text",{model:{value:t.domain,callback:function(g){t.domain=g},expression:"domain"}})]},proxy:!0},{key:"error:regex",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("Should be valid domain"))}})]},proxy:!0}],null,!1,1206496954)}),t._v(" "),t.customize?a("reseller-package",t._b({on:{update:function(g){t.packageData=g}}},"reseller-package",{package:t.packageName},!1)):a("ui-form-element",{attrs:{group:"createReseller"},scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("Package"))}})]},proxy:!0},{key:"content",fn:function(){return[a("input-select",{attrs:{options:t.options.packages},scopedSlots:t._u([{key:"additions:right",fn:function(){return[a("ui-button",{attrs:{theme:"light",disabled:""}},[a("span",{domProps:{textContent:t._s(t.$gettextInterpolate(t.$ngettext("%{freeIPs} Free IP","%{freeIPs} Free IPs.",t.options.freeIPs),{freeIPs:t.options.freeIPs}))}})])]},proxy:!0}],null,!1,1504310599),model:{value:t.packageName,callback:function(g){t.packageName=g},expression:"packageName"}})]},proxy:!0}],null,!1,217588385)}),t._v(" "),a("ui-form-element",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("IP"))}})]},proxy:!0},{key:"content",fn:function(){return[a("div",{directives:[{name:"flex",rawName:"v-flex"}]},[a("input-select",{attrs:{options:t.ips},model:{value:t.ip,callback:function(g){t.ip=g},expression:"ip"}})],1)]},proxy:!0}],null,!1,2641149568)}),t._v(" "),a("ui-form-element",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span")]},proxy:!0},{key:"content",fn:function(){return[a("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}]},[a("input-checkbox",{model:{value:t.notify,callback:function(g){t.notify=g},expression:"notify"}},[a("span",{domProps:{textContent:t._s(t.$gettext("Send E-mail Notification"))}})])],1)]},proxy:!0}],null,!1,602592123)})],1),t._v(" "),a("edit-reseller-message-dialog")],1):a("app-page-section",[a("p",{domProps:{textContent:t._s(t.$gettext("Sorry, it seems that there are no reseller packages created yet. Would you like to create one?"))}}),t._v(" "),a("ui-button-link",{directives:[{name:"margin",rawName:"v-margin",value:[1,0],expression:"[1, 0]"}],attrs:{name:"admin/reseller-packages/create",theme:"safe"}},[a("span",{domProps:{textContent:t._s(t.$gettext("Create Reseller Package"))}})])],1)]},proxy:!0},t.hasPackages?{key:"footer:buttons",fn:function(){return[t.customize?t._e():a("ui-button",{attrs:{theme:"primary"},on:{click:t.loadPackage}},[a("span",{domProps:{textContent:t._s(t.$gettext("Customize"))}})]),t._v(" "),a("ui-button",{attrs:{"validate-group":"createReseller",theme:"safe"},on:{click:t.createReseller}},[a("span",{domProps:{textContent:t._s(t.$gettext("Create"))}})])]},proxy:!0}:null,{key:"disabled-message",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("You have reached your license limits and could not create resellers anymore"))}})]},proxy:!0}],null,!0)})},d=[],u=r("./js/api/commands/admin/users/resellers.js"),f=r("./js/api/commands/validation/index.js"),c=r("./js/modules/constants.js"),E=r("./js/api/commands/admin/users/packages.js"),m=r("./js/api/commands/admin/users/message.js"),l=function(){var t=this,a=t._self._c;return a("ui-dialog",{attrs:{id:"EDIT_RESELLER_MESSAGE_DIALOG",size:"normal","no-close-btn":"",title:t.$gettext("Edit E-mail Message")},on:{"dialog:open":t.loadData},scopedSlots:t._u([{key:"content",fn:function(){return[a("ui-form-element",{attrs:{vertical:"",group:"message",validators:{required:!0}},scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("Subject"))}})]},proxy:!0},{key:"content",fn:function(){return[a("input-text",{model:{value:t.subject,callback:function(g){t.subject=g},expression:"subject"}})]},proxy:!0}])}),t._v(" "),a("ui-form-element",{attrs:{vertical:"",group:"message",validators:{required:!0}},scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("Message"))}})]},proxy:!0},{key:"content",fn:function(){return[a("input-textarea",{attrs:{rows:"20"},model:{value:t.message,callback:function(g){t.message=g},expression:"message"}})]},proxy:!0}])})]},proxy:!0},{key:"buttons",fn:function(){return[a("ui-button",{attrs:{theme:"safe","validate-group":"message"},on:{click:t.updateMessage}},[a("span",{domProps:{textContent:t._s(t.$gettext("Save"))}})]),t._v(" "),a("ui-button",{attrs:{theme:"danger"},on:{click:t.resetMessage}},[a("span",{domProps:{textContent:t._s(t.$gettext("Reset"))}})])]},proxy:!0}])})},i=[],_={api:[{command:m.FC,bind:"message"}],data(){return{message:"",subject:""}},methods:{loadData(){Object.assign(this,this.$api.message)},updateMessage(){m.o6({level:"reseller",message:this.message,subject:this.subject})},async resetMessage(){await m.TB({level:"reseller"}),Object.assign(this,await m.FC({level:"reseller"}))}}},e=_,n=r("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/edit-reseller-message-dialog.vue?vue&type=style&index=0&id=003af820&prod&lang=scss&scoped=true&"),o=r("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),p=(0,o.Z)(e,l,i,!1,null,"003af820",null),R=p.exports,O=r("./js/pages/admin/reseller-packages/_components/reseller-package.vue"),I={components:{EditResellerMessageDialog:R,ResellerPackage:O.Z},async beforeRouteEnter(j,t,a){const g=await(0,u.xn)();if(g.name==="ApiRequestError"){const{packages:P}=g.apiData;if(P&&P.length===0){u.xn.data.response.packages=[],a();return}a(g);return}a()},api:[{command:u.xn,bind:"options"}],commands:{validateUsername:f.rV,validatePassword:f.uo,validateDomain:f.ub,validateEmail:f.oH.extend({params:{check_domain:!1}})},data(){return{username:"",passwd:"",email:"",notify:!0,domain:"",packageName:"",ip:"",customize:!1,packageData:{}}},computed:{options(){return this.$api.options},ips(){return this.$api.options.ip_select.options},hasPackages(){return Object.keys(this.options.packages||{}).length!==0}},created(){[this.packageName]=this.options.packages||[],this.ip=this.options.ip_select.value||"shared",this.regexps=c.gk},methods:{async loadPackage(){await(0,E.xp)({package:this.packageName||null}),this.customize=!0},async editResellerMessage(){await(0,m.FC)({level:"reseller"}),this.$dialog("EDIT_RESELLER_MESSAGE_DIALOG").open()},async createReseller(){await(0,u.tr)({username:this.username,email:this.email,passwd:this.passwd,passwd2:this.passwd,notify:this.notify,package:this.customize?null:this.packageName,ip:this.ip,domain:this.domain,...this.packageData})&&this.$router.push({name:"admin/users/resellers"})}}},S=I,L=r("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/users/resellers/create.vue?vue&type=style&index=0&id=4a5e54ae&prod&lang=scss&scoped=true&"),x=(0,o.Z)(S,s,d,!1,null,"4a5e54ae",null),T=x.exports},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/edit-reseller-message-dialog.vue?vue&type=style&index=0&id=003af820&prod&lang=scss&scoped=true&":function(y,v,r){var s=r("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/edit-reseller-message-dialog.vue?vue&type=style&index=0&id=003af820&prod&lang=scss&scoped=true&");s.__esModule&&(s=s.default),typeof s=="string"&&(s=[[y.id,s,""]]),s.locals&&(y.exports=s.locals);var d=r("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,u=d("4e4c0667",s,!0,{})},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/users/resellers/create.vue?vue&type=style&index=0&id=4a5e54ae&prod&lang=scss&scoped=true&":function(y,v,r){var s=r("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/admin/users/resellers/create.vue?vue&type=style&index=0&id=4a5e54ae&prod&lang=scss&scoped=true&");s.__esModule&&(s=s.default),typeof s=="string"&&(s=[[y.id,s,""]]),s.locals&&(y.exports=s.locals);var d=r("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,u=d("51cee6f4",s,!0,{})}}]);
