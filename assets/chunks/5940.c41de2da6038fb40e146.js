(self.webpackChunk=self.webpackChunk||[]).push([[5940],{"../node_modules/date-fns/esm/formatDistance/index.js":function(M,x,o){"use strict";o.d(x,{Z:function(){return b}});var s=o("../node_modules/date-fns/esm/_lib/defaultOptions/index.js"),a=o("../node_modules/date-fns/esm/toDate/index.js"),r=o("../node_modules/date-fns/esm/_lib/requiredArgs/index.js");function h(c,d){(0,r.Z)(2,arguments);var u=(0,a.Z)(c),_=(0,a.Z)(d),e=u.getTime()-_.getTime();return e<0?-1:e>0?1:e}function R(c,d){(0,r.Z)(2,arguments);var u=(0,a.Z)(c),_=(0,a.Z)(d),e=u.getFullYear()-_.getFullYear(),t=u.getMonth()-_.getMonth();return e*12+t}function g(c){(0,r.Z)(1,arguments);var d=(0,a.Z)(c);return d.setHours(23,59,59,999),d}function I(c){(0,r.Z)(1,arguments);var d=(0,a.Z)(c),u=d.getMonth();return d.setFullYear(d.getFullYear(),u+1,0),d.setHours(23,59,59,999),d}function D(c){(0,r.Z)(1,arguments);var d=(0,a.Z)(c);return g(d).getTime()===I(d).getTime()}function A(c,d){(0,r.Z)(2,arguments);var u=(0,a.Z)(c),_=(0,a.Z)(d),e=h(u,_),t=Math.abs(R(u,_)),n;if(t<1)n=0;else{u.getMonth()===1&&u.getDate()>27&&u.setDate(30),u.setMonth(u.getMonth()-e*t);var p=h(u,_)===-e;D((0,a.Z)(c))&&t===1&&h(c,_)===1&&(p=!1),n=e*(t-Number(p))}return n===0?0:n}function P(c,d){return(0,r.Z)(2,arguments),(0,a.Z)(c).getTime()-(0,a.Z)(d).getTime()}var Z={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(d){return d<0?Math.ceil(d):Math.floor(d)}},O="trunc";function E(c){return c?Z[c]:Z[O]}function l(c,d,u){(0,r.Z)(2,arguments);var _=P(c,d)/1e3;return E(u==null?void 0:u.roundingMethod)(_)}var v=o("../node_modules/date-fns/esm/_lib/defaultLocale/index.js");function S(c,d){if(c==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var u in d)Object.prototype.hasOwnProperty.call(d,u)&&(c[u]=d[u]);return c}function U(c){return S({},c)}var i=o("../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js"),f=1440,T=2520,N=43200,j=86400;function b(c,d,u){var _,e;(0,r.Z)(2,arguments);var t=(0,s.j)(),n=(_=(e=u==null?void 0:u.locale)!==null&&e!==void 0?e:t.locale)!==null&&_!==void 0?_:v.Z;if(!n.formatDistance)throw new RangeError("locale must contain formatDistance property");var p=h(c,d);if(isNaN(p))throw new RangeError("Invalid time value");var m=S(U(u),{addSuffix:Boolean(u==null?void 0:u.addSuffix),comparison:p}),k,L;p>0?(k=(0,a.Z)(d),L=(0,a.Z)(c)):(k=(0,a.Z)(c),L=(0,a.Z)(d));var C=l(L,k),B=((0,i.Z)(L)-(0,i.Z)(k))/1e3,y=Math.round((C-B)/60),$;if(y<2)return u!=null&&u.includeSeconds?C<5?n.formatDistance("lessThanXSeconds",5,m):C<10?n.formatDistance("lessThanXSeconds",10,m):C<20?n.formatDistance("lessThanXSeconds",20,m):C<40?n.formatDistance("halfAMinute",0,m):C<60?n.formatDistance("lessThanXMinutes",1,m):n.formatDistance("xMinutes",1,m):y===0?n.formatDistance("lessThanXMinutes",1,m):n.formatDistance("xMinutes",y,m);if(y<45)return n.formatDistance("xMinutes",y,m);if(y<90)return n.formatDistance("aboutXHours",1,m);if(y<f){var Q=Math.round(y/60);return n.formatDistance("aboutXHours",Q,m)}else{if(y<T)return n.formatDistance("xDays",1,m);if(y<N){var z=Math.round(y/f);return n.formatDistance("xDays",z,m)}else if(y<j)return $=Math.round(y/N),n.formatDistance("aboutXMonths",$,m)}if($=A(L,k),$<12){var F=Math.round(y/N);return n.formatDistance("xMonths",F,m)}else{var w=$%12,G=Math.floor($/12);return w<3?n.formatDistance("aboutXYears",G,m):w<9?n.formatDistance("overXYears",G,m):n.formatDistance("almostXYears",G+1,m)}}},"./js/api/commands/reseller/users/actions.js":function(M,x,o){"use strict";o.d(x,{Ak:function(){return E},DU:function(){return l},De:function(){return N},GR:function(){return g},HO:function(){return T},JF:function(){return b},Pi:function(){return P},QP:function(){return f},Ss:function(){return h},Vt:function(){return R},YY:function(){return Z},a0:function(){return U},dG:function(){return S},f1:function(){return r},it:function(){return v},mX:function(){return j},r4:function(){return D},sv:function(){return I},tH:function(){return i},vk:function(){return A}});var s=o("./js/api/command/index.js");const a=s.Z.post({url:"/CMD_SELECT_USERS",notifySuccess:!0,notifyError:!0,params:{location:"CMD_USER_SHOW"},schema:{select:s.Z.ROWS},blocking:!0}),r=a.extend({params:{dosuspend:!0},schema:{reason:s.Z.REQUIRED_STRING}}),h=a.extend({params:{dounsuspend:!0}}),R=a.extend({params:{delete:!0,confirmed:!0},schema:{leave_dns:s.Z.OPTIONAL_BOOL}}),g=a.extend({params:{dopackage:!0},schema:{package:s.Z.OPTIONAL_STRING}}),I=a.extend({params:{doip:!0},schema:{ip:s.Z.OPTIONAL_STRING}}),D=s.Z.post({url:"/CMD_ACCOUNT_USER",params:{add:!0,action:"create"},schema:{username:s.Z.REQUIRED_STRING,email:s.Z.REQUIRED_STRING,passwd:s.Z.REQUIRED_STRING,passwd2:s.Z.REQUIRED_STRING,domain:s.Z.REQUIRED_STRING,package:s.Z.OPTIONAL_STRING,ip:s.Z.REQUIRED_STRING,notify:s.Z.REQUIRED_BOOL}}),A=s.Z.post({url:"/CMD_COMMENTS",params:{location:"CMD_USER_SHOW"},schema:{user:s.Z.REQUIRED_STRING,comments:s.Z.REQUIRED_STRING}}),P=s.Z.post({url:"/CMD_RESEND_EMAIL",schema:{user:s.Z.REQUIRED_STRING,email:s.Z.REQUIRED_STRING,newpass:s.Z.REQUIRED_BOOL}}),Z=s.Z.post({url:"/CMD_MODIFY_USER",params:{additional_bw:!0,action:"single",json:null},schema:{user:s.Z.REQUIRED_STRING,additional_bandwidth:s.Z.REQUIRED_STRING}}),O=s.Z.post({url:"/CMD_MODIFY_USER",params:{json:!0,action:"single"},schema:{user:s.Z.REQUIRED_STRING}}),E=O.extend({params:{skin:!0},schema:{skinvalue:s.Z.REQUIRED_STRING}}),l=O.extend({params:{language:!0},schema:{lvalue:s.Z.REQUIRED_STRING}}),v=O.extend({params:{email:!0},schema:{evalue:s.Z.REQUIRED_STRING}}),S=O.extend({params:{name:!0},schema:{nvalue:s.Z.REQUIRED_STRING}}),U=O.extend({params:{ns:!0},schema:{ns1:s.Z.REQUIRED_STRING,ns2:s.Z.REQUIRED_STRING}}),i=O.extend({params:{max_per_email_send_limit:!0},schema:{max_per_email_send_limit_value:s.Z.REQUIRED_STRING}}),f=s.Z.post({url:"/CMD_MODIFY_USER",params:{action:"package"},schema:{user:s.Z.REQUIRED_STRING,package:s.Z.REQUIRED_STRING}}),T=s.Z.post({url:"/CMD_MODIFY_USER",params:{action:"ip"},schema:{user:s.Z.REQUIRED_STRING,ip:s.Z.REQUIRED_STRING}}),N=s.Z.post({url:"/CMD_MODIFY_USER",params:{action:"multi_ip"},schema:{user:s.Z.REQUIRED_STRING,extra_ip:s.Z.REQUIRED_STRING}}),j=s.Z.select({url:"/CMD_MODIFY_USER",params:{action:"multi_ip_delete",delete:!0},schema:{user:s.Z.REQUIRED_STRING,removedns:s.Z.REQUIRED_BOOL}}),b=s.Z.post({url:"/CMD_MODIFY_USER",params:{action:"customize",bytes:!0},body:{user:s.Z.REQUIRED_STRING,bandwidth:s.Z.OPTIONAL_STRING,ubandwidth:s.Z.OPTIONAL_BOOL,quota:s.Z.OPTIONAL_STRING,uquota:s.Z.OPTIONAL_BOOL,inode:s.Z.OPTIONAL_STRING,uinode:s.Z.OPTIONAL_BOOL,vdomains:s.Z.OPTIONAL_STRING,uvdomains:s.Z.OPTIONAL_BOOL,nsubdomains:s.Z.OPTIONAL_STRING,unsubdomains:s.Z.OPTIONAL_BOOL,nemails:s.Z.OPTIONAL_STRING,unemails:s.Z.OPTIONAL_BOOL,nemailf:s.Z.OPTIONAL_STRING,unemailf:s.Z.OPTIONAL_BOOL,nemailml:s.Z.OPTIONAL_STRING,unemailml:s.Z.OPTIONAL_BOOL,nemailr:s.Z.OPTIONAL_STRING,unemailr:s.Z.OPTIONAL_BOOL,mysql:s.Z.OPTIONAL_STRING,umysql:s.Z.OPTIONAL_BOOL,domainptr:s.Z.OPTIONAL_STRING,udomainptr:s.Z.OPTIONAL_BOOL,ftp:s.Z.OPTIONAL_STRING,uftp:s.Z.OPTIONAL_BOOL,aftp:s.Z.OPTIONAL_STRING,cgi:s.Z.OPTIONAL_STRING,git:s.Z.OPTIONAL_STRING,php:s.Z.OPTIONAL_STRING,spam:s.Z.OPTIONAL_STRING,catchall:s.Z.OPTIONAL_STRING,ssl:s.Z.OPTIONAL_STRING,ssh:s.Z.OPTIONAL_STRING,cron:s.Z.OPTIONAL_STRING,sysinfo:s.Z.OPTIONAL_STRING,login_keys:s.Z.OPTIONAL_STRING,dnscontrol:s.Z.OPTIONAL_STRING,suspend_at_limit:s.Z.OPTIONAL_STRING,skin:s.Z.OPTIONAL_STRING,ns1:s.Z.REQUIRED_STRING,ns2:s.Z.REQUIRED_STRING}})},"./js/api/commands/reseller/users/index.js":function(M,x,o){"use strict";o.d(x,{N:function(){return u},PR:function(){return d},Rf:function(){return c}});var s=o("./js/api/command/index.js"),a=o("../node_modules/ramda/es/index.js"),r=o("./js/api/commands/converters/index.ts"),h=o("./js/api/commands/types.ts"),R=o("../node_modules/monet/dist/monet.js"),g=o("./js/api/commands/utils/transduce.ts"),I=o("./js/modules/utils/functional.js"),D=o("./js/api/converters.js"),A=o("./js/api/commands/converters/customItems.ts");const P=e=>{const t=typeof e.bandwidth=="string"||!e.bandwidth.usage,n={usage:0,limit:1/0,status:h.H.Normal},p=m=>{const[k,L]=m.split("/").map(a.fyY);return(0,r.cc)({usage:k,limit:L})};return{username:e.username,corrupted:t,pending:t&&typeof e.bandwidth!="string",suspended:t?!1:(0,r.sw)(e.suspended.value),reason:t?"none":e.suspended.reason||"none",bandwidth:t?n:(0,r.cc)(e.bandwidth),quota:t?n:(0,r.cc)(e.quota),vdomains:t?n:(0,r.cc)(e.vdomains),domains:e.domains,ip:e.ip.length?e.ip:"",package:e.package||"",date_created:e.date_created?(0,D.toAppDate)(e.date_created):"",mysql:e.mysql?p(e.mysql):""}},Z={users:a.zGw(a.CEd(["reasons","packages","ips"]),(0,r.sf)(P)),packages:a.zGw(a.vgT("packages"),a.yAE([]),I.toSelect),ips:a.zGw(a.vgT("ips"),a.yAE([]),I.toSelect),reasons:a.zGw(a.vgT("reasons"),I.toSelect)},O=a.zGw(a.vgT("domains"),(0,r.sf)(a.zGw(e=>({...e,pointers:e.settings.domainptr||{}}),a.rO9({bandwidth:a.rO9({usage:r.He}),quota:a.rO9({usage:r.He}),log_usage:r.He,nsubdomains:r.He,suspended:r.sw,settings:a.IDH(r.sw),pointers:e=>Object.entries(e).map(([t,{type:n}])=>({ptr:t,type:n}))})))),E=a.zGw(a.vgT("comments"),r.ql),l=e=>{const t=R.Maybe.Some(e).map(a.vgT("stats")).map(a.VO0).flatMap(n=>R.Maybe.fromNull(a.sEJ(a.OH4("setting","email_deliveries_outgoing_today"),n))).map(a.vgT("usage")).map(r.He).orSome(0);return{canReset:e.reseller_can_reset_email_count==="1",sent:t}},v=e=>({custom:e.is_reseller_skin==="1",path:e.reseller_skin||"",owner:e.reseller_skin_owner||""}),S=({usage:e})=>a.q9t(e,["ON","OFF"]),U=a.zGw(a.vgT("stats"),a.VO0,(0,g.vr)([(0,g.uD)(S),(0,g.r5)(({usage:e,setting:t})=>({[t]:(0,r.sw)(e)}))])),i=({setting:e,usage:t})=>a.q9t(e,["bandwidth","quota","email_quota","db_quota","inode","vdomains","nsubdomains","nemails","nemailf","nemailml","nemailr","email_deliveries_outgoing","email_deliveries_incoming","mysql","domainptr","ftp"]),f=a.zGw(a.vgT("stats"),a.VO0,(0,g.vr)([(0,g.uD)(a.vgT("usage")),(0,g.uD)(i),(0,g.r5)(({setting:e,usage:t,max_usage:n})=>({[e]:(0,r.cc)({usage:t,limit:n==="unlimited"?1/0:n})}))])),b={domains:O,comments:E,todayUsage:l,skinInfo:v,stats:{features:U,usage:f,userData:({stats:e})=>a.zGw(a.zoF([{setting:"create_user_home_override_error",usage:R.Maybe.fromNull(e.create_user_home_override).map(a.vgT("max_usage")).orSome(""),max_usage:""},{setting:"email_deliveries_outgoing_today",usage:"0",max_usage:"0"}]),(0,g.vr)([(0,g.uD)(a.vgT("usage")),(0,g.uD)(a.CyQ(i)),(0,g.uD)(a.CyQ(S)),(0,g.r5)(t=>t.setting==="suspended_reason"?{...t,extra:t.extra||{details:""}}:t),(0,g.r5)(t=>({[t.setting]:t.extra?{value:t.usage,extra:t.extra}:t.usage}))]),a.rO9({suspended:r.sw,skin:I.toSelect,language:I.toSelect,suspend_date:D.toAppDate}))(a.VO0(e))},email:e=>e.user_email,customItems:({custom_items:e={}})=>a.UID(A.CR,e),emailLimit:e=>{const t=Object.values(e.stats).find(({setting:n})=>n==="max_per_email_send_limit");return t?{value:t.usage,email_limit:t.max_usage}:{value:"",email_limit:""}},cgroup:e=>e.cgroup?e.cgroup.options||{}:{}},c=s.Z.get({id:"USERS",url:"/CMD_USER_SHOW",params:{bytes:!0},pagination:!0,mapResponse:Z}),d=s.Z.get({id:"USER_DATA",url:"/CMD_SHOW_USER",params:{bytes:!0},schema:{user:s.Z.REQUIRED_STRING},mapResponse:b}),u=s.Z.get({id:"USER_MODIFY_DATA",url:"/CMD_MODIFY_USER",params:{bytes:!0},schema:{user:s.Z.REQUIRED_STRING},after:e=>e.flow(e.deleteProp("additional_bandwidth"),e.wrap("data"),e.moveProp({"data.have_inode":"have_inode","data.ips":"ips","data.multi_ip_enabled":"multi_ip_enabled","data.multi_ip_select":"multi_ip_select","data.multi_ip_table":"multi_ip_table","data.multiple_ips":"multiple_ips","data.ns1":"ns1","data.ns2":"ns2","data.skin":"skin","data.packages":"packages","data.custom_items":"customItems","data.feature_sets":"featureSets","data.plugins":"pluginRules","data.cgroup":"cgroup"}),t=>({...t,cgroup:t.cgroup||{}}),e.mapProps({customItems:e.flow(e.toArray,e.mapArray(t=>{const n={type:t.type,description:t.desc,label:t.string,name:t.name};switch(t.type){case"checkbox":return{...n,value:t.checked==="yes"};case"text":return{...n,value:t.value};case"listbox":return{...n,type:"select",value:Object.values(t.select).find(p=>p.selected).value,options:e.reduce((p,m)=>({...p,[m.value]:m.text}))(t.select)};default:return!1}}),t=>t.filter(n=>!!n)),have_inode:e.convert.toAppBoolean,multiple_ips:e.convert.toAppBoolean,multi_ip_enabled:e.isEqual("1"),multi_ip_select:e.toSelect,skin:e.toSelect,ips:e.toSelect,packages:e.toSelect,multi_ip_table:e.flow(e.deleteProp("info"),e.toArray),features:e.feedWith(1,e.flow(e.getProp("data"),e.filter(e.flow(e.getProp("type"),e.isEqual("checkbox"))),e.mapValues(e.flow(e.getProp("checked"),e.convert.toAppBoolean)))),limits:e.feedWith(1,e.flow(e.getProp("data"),e.filter(e.flow(e.getProp("type"),e.isEqual("unlimited"))),e.mapValues(t=>{const n=e.convert.toAppLimit(t.value)===1/0;return{value:n?"":t.value,unlimited:n}}))),featureSets:t=>({options:e.mapValues(e.getProp("name"))(t),values:e.flow(e.filter(({checked:n})=>n==="yes"),Object.keys)(t)}),cgroup:t=>a.VO0(a.BPw(t.options||{},t.saved||{}))}),e.deleteProp("data"))}),_=s.Z.get({id:"ALL_USERS_DATE_CREATED",url:"/CMD_API_SHOW_USERS",noQueryArg:!0,params:{get_variable:"date_created",json:null},accept:"plain",response:{},after:e=>t=>a.zGw(a.Vl2("&"),a.UID(a.zGw(a.Vl2("="),a.UID(a.zGw(window.decodeURIComponent,a.fyY)))),a.Pen,a.UID(p=>new Date(p)))(t)})},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/user-domains.vue?vue&type=style&index=0&id=67dd5324&prod&lang=scss&":function(){},"./js/composables/dateFilter.ts":function(M,x,o){"use strict";o.d(x,{W:function(){return R},f:function(){return r.f}});var s=o("../node_modules/ramda/es/index.js"),a=o("../node_modules/date-fns/esm/format/index.js"),r=o("./js/modules/date-formats.ts"),h=o("./js/modules/customizations/date-formats/default.ts");const R=s.WAo((g,I)=>{if(I)try{return(0,a.Z)(I,r.f.value[g])}catch(D){return console.warn(`Given ${g} format is incorrect:
${D.message}`),(0,a.Z)(I,h.d[g])}return""})},"./js/composables/filters.ts":function(M,x,o){"use strict";o.d(x,{Q0:function(){return l},aS:function(){return S},d5:function(){return v},eB:function(){return Z},hT:function(){return A},kC:function(){return D},n9:function(){return E},zM:function(){return P}});var s=o("../node_modules/date-fns/esm/formatDistance/index.js"),a=o("../node_modules/punycode/punycode.es6.js"),r=o("./js/composables/dateFilter.ts"),h=o("./js/composables/gettext.ts");const{$gettext:R,$ngettext:g,$gettextInterpolate:I}=(0,h.Z)(),D=i=>{var f;return i?((f=i.at(0))===null||f===void 0?void 0:f.toUpperCase())+i.slice(1):""},A=(i,f="datetime")=>(0,r.W)(f,i),P=i=>(0,s.Z)(i,new Date),Z=(i,f=1024)=>{const T=Number(i);if(!T)return"0 B";const N=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],j=Math.floor(Math.log(T)/Math.log(f));return`${parseFloat((T/f**j).toFixed(2))} ${N[j]}`},O=i=>{try{return(0,a.xX)(i)}catch(f){return i}},E=i=>(0,a.xX)(i),l=i=>{if(!i||!i.includes("@"))return i;const[f,T]=i.split("@");return[f,O(T)].join("@")},v=i=>{if(i<60)return R("less than a minute");const f=Math.floor(i/60)%60,T=Math.floor(i/3600)%24,N=Math.floor(i/(3600*24)),j=[N?g("%{days} day","%{days} days",N):null,T?g("%{hours} hour","%{hours} hours",T):null,f?g("%{minutes} minute","%{minutes} minutes",f):null].filter(Boolean).join(", ");return I(j,{days:N,hours:T,minutes:f})},S=(i,f)=>i.length<=f?i:`${i.substring(0,f)}...`,U=()=>({capitalize:D,date:A,distanceFromNow:P,humanReadableSize:Z,p6eUnicode:E,p6eUnicodeEmail:l,formatUptime:v,truncateString:S})},"./js/components/local/user-domains.vue":function(M,x,o){"use strict";o.d(x,{Z:function(){return O}});var s=function(){var l=this,v=l._self._c;return v("div",{class:{"scrollbar:primary":!l.clientStore.isPhone},style:{"overflow-x":"auto","min-width":l.clientStore.isPhone?"auto":"15rem"}},[l._l(l.shownDomains,function(S,U){return v("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}],key:U},[v("a",{attrs:{href:`http://${U}`,target:"_blank"}},[l._v(`
            `+l._s(l.p6eUnicode(U))+`
        `)]),l._v(`
        \xA0
        `),S.length&&l.showPointers!==0?v("ui-tooltip",{scopedSlots:l._u([{key:"trigger",fn:function(){return[v("span",{staticClass:"txt:bold",domProps:{textContent:l._s(l.$gettext("(pointers)"))}})]},proxy:!0}],null,!0)},[l._v(" "),v(l.showPointers===1?"ul":"ol",{tag:"component",staticClass:"wrap:nowrap user-domains--pointers"},l._l(S,function(i){return v("li",{key:i},[v("a",{attrs:{href:`http://${i}`,target:"_blank"}},[l._v(`
                        `+l._s(l.p6eUnicode(i))+`
                    `)])])}),0)],1):l._e()],1)}),l._v(" "),l.showExpandButton&&!l.showAllDomains?v("ui-button",{attrs:{theme:"light",size:"small"},on:{click:function(S){l.showAll=!0}}},[v("span",{domProps:{textContent:l._s(l.$gettext("show all..."))}}),l._v(" "),v("ui-icon",{directives:[{name:"margin",rawName:"v-margin",value:[,,,1],expression:"[, , , 1]"}],attrs:{id:"caret-down",size:"small"}})],1):l._e()],2)},a=[],r=o("./js/stores/index.ts"),h=o("./js/vue-globals/helpers.js"),R=o("../node_modules/ramda/es/index.js"),g=o("./js/composables/filters.ts"),I={props:{domains:{type:Object,required:!0,default:()=>({})}},data:()=>({showAll:!1}),computed:{showDomainLimit:(0,h.YM)("tables/userDomainsLimit"),showPointers(){const E=this.$_session.showPointersInList;return typeof E=="undefined"?1:E},shownDomainNumber(){return Number(this.showDomainLimit)},showExpandButton(){return Object.keys(this.domains).length>this.shownDomainNumber},showAllDomains(){return this.showAll||Object.keys(this.domains).length===this.shownDomainNumber+1},shownDomains(){if(this.showAllDomains)return this.domains;const E=R.tPi(0,this.shownDomainNumber,R.XPQ(this.domains));return R.eiS(E,this.domains)},...(0,r.Kc)(["client"])},methods:{p6eUnicode:g.n9}},D=I,A=o("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/user-domains.vue?vue&type=style&index=0&id=67dd5324&prod&lang=scss&"),P=o("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),Z=(0,P.Z)(D,s,a,!1,null,null,null),O=Z.exports},"./js/pages/reseller/users/index.vue":function(M,x,o){"use strict";o.r(x),o.d(x,{default:function(){return u}});var s=function(){var e=this,t=e._self._c;return t("app-page",{attrs:{actions:[{handler:()=>e.$router.push("/reseller/create-user"),icon:"#plus-fill",label:e.$gettext("Create User"),theme:"primary"},{handler:()=>e.$router.push("/reseller/users/modify-your-userdata"),icon:"#pencil",label:e.$gettext("Modify Your Own User data")}]},scopedSlots:e._u([{key:"default",fn:function(){return[t("app-page-section",[t("ui-api-table",e._b({on:{"action:message":function(n){e.$dialog("CREATE_MESSAGE_DIALOG").open()},"action:suspend":function(n){e.$dialog("SUSPEND_USER_DIALOG").open()},"action:unsuspend":e.unsuspendUsers,"action:delete":function(n){e.$dialog("DELETE_ITEMS_DIALOG").open()},"action:package":function(n){e.$dialog("CHANGE_PACKAGE_DIALOG").open()},"action:ip":function(n){e.$dialog("CHANGE_IP_DIALOG").open()}},scopedSlots:e._u([{key:"col:username",fn:function({username:n,suspended:p,reason:m}){return[t("div",{staticClass:"wrap:nowrap"},[t("ui-link",{attrs:{name:"reseller/users/view",params:{user:n}}},[e._v(`
                            `+e._s(n)+`
                        `)]),e._v(" "),p?t("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},[t("span",{domProps:{textContent:e._s(e.$gettextInterpolate(e.$gettext("Suspended: %{ reason }"),{reason:e.reasons[m]}))}})]):e._e()],1)]}},{key:"col:bandwidth",fn:function({bandwidth:n,corrupted:p,pending:m}){return[p?m?t("ui-badge",{attrs:{theme:"safe"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Creation in Progress"))}})]):t("ui-badge",{attrs:{theme:"danger"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Error Reading File"))}})]):t("ui-limited-usage",e._b({},"ui-limited-usage",n,!1))]}},{key:"col:quota",fn:function({quota:n,corrupted:p}){return[p?t("span"):t("ui-limited-usage",e._b({},"ui-limited-usage",n,!1))]}},{key:"col:vdomains",fn:function({vdomains:n,corrupted:p}){return[p?t("span"):t("ui-limited-usage",e._b({attrs:{plain:""}},"ui-limited-usage",n,!1))]}},{key:"col:mysql",fn:function({mysql:n,corrupted:p}){return[!p&&n?t("ui-limited-usage",e._b({attrs:{plain:""}},"ui-limited-usage",n,!1)):t("span")]}},{key:"col:ip",fn:function({ip:n}){return[e._l(n,function(p){return t("p",{directives:[{name:"margin",rawName:"v-margin",value:0,expression:"0"}],key:p},[e._v(`
                        `+e._s(p)+`
                    `)])}),e._v(" "),n.length?e._e():t("span")]}},{key:"col:domains",fn:function({domains:n}){return[n?t("user-domains",e._b({},"user-domains",{domains:n},!1)):t("span")]}},{key:"col:date_created",fn:function({date_created:n}){return[n?t("span",[e._v(`
                        `+e._s(e.date(n,"datetime"))+`
                    `)]):t("span")]}},{key:"row:actions",fn:function({username:n,suspended:p}){return[t("ui-actions",[t("ui-link",{on:{click:function(m){e.select=[n],e.$dialog("CREATE_MESSAGE_DIALOG").open()}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Send a Message"))}})]),e._v(" "),p?e._e():t("ui-link",{on:{click:function(m){e.select=[n],e.$dialog("SUSPEND_USER_DIALOG").open()}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Suspend"))}})]),e._v(" "),p?t("ui-link",{on:{click:function(m){e.select=[n],e.unsuspendUsers()}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Unsuspend"))}})]):e._e(),e._v(" "),t("ui-link",{on:{click:function(m){return e.loginAs(n)}}},[t("span",{domProps:{textContent:e._s(e.$gettextInterpolate(e.$gettext("Login as %{ username }"),{username:n}))}})]),e._v(" "),t("ui-link",{on:{click:function(m){return e.changePassword(n)}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Change password"))}})]),e._v(" "),t("ui-link",{on:{click:function(m){e.select=[n],e.$dialog("DELETE_ITEMS_DIALOG").open()}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Remove"))}})])],1)]}},{key:"col:package",fn:function({item:n}){return[n.package?t("ui-link",{attrs:{name:"reseller/user-packages/view",params:{p:n.package}}},[e._v(`
                        `+e._s(n.package)+`
                    `)]):e._e()]}}]),model:{value:e.select,callback:function(n){e.select=n},expression:"select"}},"ui-api-table",{command:e.$commands.getUsers,rowID:"username",property:"users",columns:{username:{label:e.$gettext("Username"),grow:!0,searchable:!0},bandwidth:{label:e.$gettext("Bandwidth"),getClass:n=>!n.corrupted&&n.bandwidth.status?`--usage:${n.bandwidth.status}`:""},quota:{label:e.$gettext("Disk Usage"),getClass:n=>!n.corrupted&&n.bandwidth.status?`--usage:${n.quota.status}`:""},vdomains:e.$gettext("# of domains"),domains:{searchable:!0,label:e.$gettext("Domains")},ip:{label:e.$gettext("IP(s)"),searchable:!0},suspended:{label:e.$gettext("Suspended"),hide:!0,searchable:{type:"select",options:{Yes:e.$gettext("Yes"),No:e.$gettext("No")}}},package:{label:e.$gettext("Package"),searchable:!0},date_created:{label:e.$gettext("Date Created"),visible:!1,hide:!e.hasDateCreatedColumn},mysql:{label:e.$gettext("Databases"),visible:!1,hide:!e.hasMysqlColumn}},actions:{message:e.$gettext("Send a Message"),suspend:e.$gettext("Suspend"),unsuspend:e.$gettext("Unsuspend"),package:{label:e.$gettext("Change Package"),disabled:!e.massPackageAssignment},ip:{label:e.$gettext("Change IP"),disabled:!e.massIpAssignment},delete:e.$gettext("Delete")}},!1))],1),e._v(" "),t("create-message-dialog",{attrs:{users:e.select}}),e._v(" "),t("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("user","users",e.select.length)},on:{"click:confirm":e.deleteUsers}}),e._v(" "),t("suspend-user-dialog",{attrs:{"api-reasons":e.$api.reasons},on:{suspend:e.suspendUsers}}),e._v(" "),e.massPackageAssignment?t("change-package-dialog",{on:{setpackage:e.changePackage}}):e._e(),e._v(" "),e.massIpAssignment?t("change-ip-dialog",{on:{setip:e.changeIp}}):e._e(),e._v(" "),t("change-password-dialog",{ref:"cpd"})]},proxy:!0}])})},a=[],r=o("./js/api/commands/reseller/users/index.js"),h=o("./js/api/commands/reseller/users/actions.js"),R=o("./js/components/local/create-message-dialog.vue"),g=o("./js/components/local/suspend-user-dialog.vue"),I=o("./js/components/local/user-domains.vue"),D=function(){var e=this,t=e._self._c;return t("ui-dialog",{attrs:{id:"CHANGE_PACKAGE_DIALOG",title:e.$gettext("Change Package")},on:{"dialog:open":e.onOpen},scopedSlots:e._u([{key:"content",fn:function(){return[t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Package"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-select",{attrs:{options:e.$api.packages.options},model:{value:e.package,callback:function(n){e.package=n},expression:"package"}})]},proxy:!0}])})]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"safe"},on:{click:function(n){return e.$emit("setpackage",e.package)}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Change"))}})])]},proxy:!0}])})},A=[],P={api:[{command:r.Rf,bind:{"response.packages":"packages"}}],data:()=>({package:""}),methods:{onOpen(){this.package=Object.values(this.$api.packages.options).shift()}}},Z=P,O=o("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),E=(0,O.Z)(Z,D,A,!1,null,null,null),l=E.exports,v=function(){var e=this,t=e._self._c;return t("ui-dialog",{attrs:{id:"CHANGE_IP_DIALOG",title:e.$gettext("Change IP")},on:{"dialog:open":e.onOpen},scopedSlots:e._u([{key:"content",fn:function(){return[t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("IP"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-select",{attrs:{options:e.$api.ips.options},model:{value:e.ip,callback:function(n){e.ip=n},expression:"ip"}})]},proxy:!0}])})]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"safe"},on:{click:function(n){return e.$emit("setip",e.ip)}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Change"))}})])]},proxy:!0}])})},S=[],U={api:[{command:r.Rf,bind:{"response.ips":"ips"}}],data:()=>({ip:""}),methods:{onOpen(){this.ip=Object.keys(this.$api.ips.options).shift()}}},i=U,f=(0,O.Z)(i,v,S,!1,null,null,null),T=f.exports,N=o("./js/components/local/change-user-password-dialog.vue"),j=o("./js/composables/filters.ts"),b={preload:r.Rf,commands:{getUsers:r.Rf},api:[{command:r.Rf,bind:{"response.packages":"packages","response.ips":"ips","response.users.columns":"usersColumns","response.reasons.options":"reasons"}}],components:{CreateMessageDialog:R.Z,SuspendUserDialog:g.Z,UserDomains:I.Z,ChangePackageDialog:l,ChangeIpDialog:T,ChangePasswordDialog:N.Z},data:()=>({select:[]}),computed:{reasons(){return g.Z.$exports.reasons.call(this,this.$api.reasons)},massPackageAssignment(){return Object.values(this.$api.packages.options).length},massIpAssignment(){return Object.values(this.$api.ips.options).length},hasDateCreatedColumn(){return typeof this.$api.usersColumns.date_created!="undefined"},hasMysqlColumn(){return typeof this.$api.usersColumns.mysql!="undefined"}},methods:{date:j.hT,deleteUsers(){(0,h.Vt)({select:this.select}).then(this.$reloadApiTable)},suspendUsers(_){(0,h.f1)({select:this.select,..._}).then(this.$reloadApiTable)},unsuspendUsers(){(0,h.Ss)({select:this.select}).then(this.$reloadApiTable)},changePackage(_){(0,h.GR)({package:_,select:this.select}).then(this.$reloadApiTable)},changeIp(_){(0,h.sv)({ip:_,select:this.select}).then(this.$reloadApiTable)},loginAs(_){this.$_ctx.session.impersonateUser(_)},changePassword(_){this.$refs.cpd.show(_)}}},c=b,d=(0,O.Z)(c,s,a,!1,null,null,null),u=d.exports},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/user-domains.vue?vue&type=style&index=0&id=67dd5324&prod&lang=scss&":function(M,x,o){var s=o("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/user-domains.vue?vue&type=style&index=0&id=67dd5324&prod&lang=scss&");s.__esModule&&(s=s.default),typeof s=="string"&&(s=[[M.id,s,""]]),s.locals&&(M.exports=s.locals);var a=o("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,r=a("45c1543d",s,!0,{})}}]);
