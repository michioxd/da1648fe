(self.webpackChunk=self.webpackChunk||[]).push([[2901],{"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/cpanel/logs.vue?vue&type=style&index=0&id=147dcd53&prod&lang=scss&":function(){},"./js/openapi/cpanel.ts":function(E,h,u){"use strict";u.d(h,{Ak:function(){return x},C2:function(){return P},Di:function(){return S},_5:function(){return R},yS:function(){return A}});var o=u("./js/api/openapi/index.ts"),y=u("../node_modules/runtypes/lib/index.js"),c=u.n(y),f=u("./js/openapi/web.types.ts");const i=(0,o.$d)(),S=o.an.Default(async(d,r)=>{const{data:s}=await i.post("/api/cpanel-import/check-remote",d,r);return s.status==="success"&&f.Tf.guard(s.data)===!1?i.failure({type:"INVALID_RESPONSE",response:s.data}):s}),x=o.an.Default(async d=>{const{data:r}=await i.get("/api/cpanel-import/tasks",d);return r.status==="success"&&y.Array(f.hr).guard(r.data)===!1?i.failure({type:"INVALID_RESPONSE",response:r.data}):r}),P=o.an.Default(async(d,r)=>{const{data:s}=await i.post("/api/cpanel-import/tasks/start",d,r);return s.status==="success"&&y.Array(f.hr).guard(s.data)===!1?i.failure({type:"INVALID_RESPONSE",response:s.data}):s}),N=o.an.Default(async(d,r)=>{const{data:s}=await i.get(`/api/cpanel-import/tasks/${d}`,r);return s.status==="success"&&f.hr.guard(s.data)===!1?i.failure({type:"INVALID_RESPONSE",response:s.data}):s}),R=o.an.Default(async(d,r)=>{const{data:s}=await i.delete(`/api/cpanel-import/tasks/${d}`,r);return s}),D=async(d,r)=>{const{data:s}=await i.get(`/api/cpanel-import/tasks/${d}/log`,r);return s.status==="success"&&rt.Array(web.rtCpanelImportTaskLog).guard(s.data)===!1?i.failure({type:"INVALID_RESPONSE",response:s.data}):s};class A extends o.MF{constructor(){super(...arguments),this.streamType=o.MF.JSON_STREAM,this.validator=f.J0}open(r,s){return super.connect(`/api/cpanel-import/tasks/${r}/log-sse`,s||{})}}},"./js/pages/reseller/cpanel/logs.vue":function(E,h,u){"use strict";u.r(h),u.d(h,{default:function(){return A}});var o=function(){var r=this,s=r._self._c,v=r._self._setupProxy;return s("app-page",[v.showLogs?s("div",{staticClass:"cpanel-log numbers"},r._l(v.logs,function(e){return s("li",{key:e.id,staticClass:"line",class:{"c:txt:danger":e.stderr}},[s("span",{staticClass:"line-content wrap",domProps:{textContent:r._s(e.line)}})])}),0):r._e()])},y=[],c=u("../node_modules/vue/dist/vue.common.prod.js"),f=u("../node_modules/vue-router/composables.mjs"),i=u("./js/composables/index.ts"),S=u("./js/openapi/cpanel.ts"),x=(0,c.defineComponent)({__name:"logs",setup(d){const r=(0,f.yj)(),{$gettext:s}=(0,i.st)(),v=(0,c.ref)([]),e=(0,c.ref)(!1),t=new S.yS(n=>v.value.push(n));return t.open(r.params.id).then(n=>{switch(n.type){case"NO_CONTENT":return;case"CLIENT_ABORT":return;default:(0,i.d$)().error({title:s("Error"),content:s("Failed to load cPanel import log")})}}),(0,c.watch)(()=>t.readyState,n=>{n===t.OPEN&&(e.value=!0)}),(0,c.onBeforeUnmount)(()=>{t.close()}),{__sfc:!0,route:r,$gettext:s,logs:v,showLogs:e,logStream:t}}}),P=x,N=u("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/cpanel/logs.vue?vue&type=style&index=0&id=147dcd53&prod&lang=scss&"),R=u("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),D=(0,R.Z)(P,o,y,!1,null,null,null),A=D.exports},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/cpanel/logs.vue?vue&type=style&index=0&id=147dcd53&prod&lang=scss&":function(E,h,u){var o=u("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/cpanel/logs.vue?vue&type=style&index=0&id=147dcd53&prod&lang=scss&");o.__esModule&&(o=o.default),typeof o=="string"&&(o=[[E.id,o,""]]),o.locals&&(E.exports=o.locals);var y=u("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,c=y("36366a02",o,!0,{})},"../node_modules/vue-router/composables.mjs":function(E,h,u){"use strict";u.d(h,{tv:function(){return c},yj:function(){return f}});var o=u("../node_modules/vue/dist/vue.common.prod.js");/*!
  * vue-router v3.6.5
  * (c) 2022 Evan You
  * @license MIT
  */function y(e){if(!getCurrentInstance())throw new Error("[vue-router]: Missing current instance. "+e+"() must be called inside <script setup> or setup().")}function c(){return(0,o.getCurrentInstance)().proxy.$root.$router}function f(){var e=(0,o.getCurrentInstance)().proxy.$root;if(!e._$route){var t=(0,o.effectScope)(!0).run(function(){return(0,o.shallowReactive)(Object.assign({},e.$router.currentRoute))});e._$route=t,e.$router.afterEach(function(n){Object.assign(t,n)})}return e._$route}function i(e){return R(e,S)}function S(e,t,n){var l=e.matched,a=t.matched;return l.length>=n&&l.slice(0,n+1).every(function(g,p){return g===a[p]})}function x(e,t,n){var l=e.matched,a=t.matched;return l.length<n||l[n]!==a[n]}function P(e){return R(e,x)}var N=function(){};function R(e,t){for(var n=getCurrentInstance(),l=c(),a=n.proxy;a&&a.$vnode&&a.$vnode.data&&a.$vnode.data.routerViewDepth==null;)a=a.$parent;var g=a&&a.$vnode&&a.$vnode.data?a.$vnode.data.routerViewDepth:null;if(g!=null){var p=l.beforeEach(function(_,j,m){return t(_,j,g)?e(_,j,m):m()});return onUnmounted(p),p}return N}function D(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function A(e,t){var n=function(g){var p=t[g],_=e[g];if(typeof p=="string"){if(p!==_)return{v:!1}}else if(!Array.isArray(_)||_.length!==p.length||p.some(function(j,m){return j!==_[m]}))return{v:!1}};for(var l in t){var a=n(l);if(a)return a.v}return!0}function d(e,t){return Array.isArray(e)?r(e,t):Array.isArray(t)?r(t,e):e===t}function r(e,t){return Array.isArray(t)?e.length===t.length&&e.every(function(n,l){return n===t[l]}):e.length===1&&e[0]===t}function s(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!d(e[n],t[n]))return!1;return!0}function v(e){var t=c(),n=f(),l=computed(function(){return t.resolve(unref(e.to),n)}),a=computed(function(){var j=l.value.route,m=j.matched,I=m.length,O=m[I-1],L=n.matched;if(!O||!L.length)return-1;var b=L.indexOf(O);if(b>-1)return b;var C=L[L.length-2];return I>1&&C&&C===O.parent}),g=computed(function(){return a.value>-1&&A(n.params,l.value.route.params)}),p=computed(function(){return a.value>-1&&a.value===n.matched.length-1&&s(n.params,l.value.route.params)}),_=function(j){var m=l.value.route;return D(j)?e.replace?t.replace(m):t.push(m):Promise.resolve()};return{href:computed(function(){return l.value.href}),route:computed(function(){return l.value.route}),isExactActive:p,isActive:g,navigate:_}}}}]);
