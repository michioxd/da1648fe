(self.webpackChunk=self.webpackChunk||[]).push([[161],{"./js/api/commands/user/backups.js":function(i,d,o){"use strict";o.d(d,{P8:function(){return r},_H:function(){return l},id:function(){return u},pi:function(){return c}});var s=o("./js/api/command/index.js");const a={url:"/CMD_SITE_BACKUP",domain:!0},l=s.Z.get({...a,id:"SITE_BACKUPS",domain:!0,response:[]}),u=s.Z.select({...a,params:{action:"backup",form_version:"4"}}),r=s.Z.post({id:"SITE_BACKUP",...a,params:{action:"view"},schema:{file:s.Z.REQUIRED_STRING},response:[],notifySuccess:!1}),c=s.Z.select({...a,params:{action:"restore",form_version:"3"},schema:{file:s.Z.REQUIRED_STRING}})},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/backup/restore.vue?vue&type=style&index=0&id=34d5f30e&prod&lang=scss&":function(){},"./js/pages/user/backup/restore.vue":function(i,d,o){"use strict";o.r(d),o.d(d,{default:function(){return f}});var s=function(){var e=this,t=e._self._c;return t("app-page",{scopedSlots:e._u([{key:"default",fn:function(){return[t("app-page-section",[e.$api.backups.length?t("ui-form-element",{scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(e.$gettext("Backup")))]},proxy:!0},{key:"content",fn:function(){return[t("input-select",{attrs:{options:e.$api.backups},model:{value:e.backup,callback:function(p){e.backup=p},expression:"backup"}})]},proxy:!0}],null,!1,3440910362)}):[t("p",{domProps:{textContent:e._s(e.$gettext("Sorry, it seems that there are no backups created yet. Would you like to create one?"))}}),e._v(" "),t("ui-button-link",{directives:[{name:"margin",rawName:"v-margin",value:[1,0],expression:"[1, 0]"}],attrs:{name:"user/backup",theme:"safe"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Create Backup"))}})])]],2),e._v(" "),e.hasOptions?t("app-page-section",{scopedSlots:e._u([{key:"section:title",fn:function(){return[e._v(`
                `+e._s(e.$gettext("Restore Options"))+`
            `)]},proxy:!0}],null,!1,687718101)},[e._v(" "),t("input-select-multiple",{staticClass:"frameless-input-multiple",attrs:{options:e.selectOptions,"max-items-visible":1/0,"hide-header":""},model:{value:e.options,callback:function(p){e.options=p},expression:"options"}})],1):e._e()]},proxy:!0},{key:"bottom:links",fn:function(){return[t("ui-link",{attrs:{bullet:"",href:"/CMD_FILE_MANAGER?path=/backups",target:"_blank"}},[t("span",{domProps:{textContent:e._s(e.$gettext("View current backups"))}})])]},proxy:!0},{key:"footer:buttons",fn:function(){return[e.$api.backups.length?t("ui-button",{attrs:{theme:"safe",disabled:!e.options.length},on:{click:e.restoreBackup}},[t("span",{domProps:{textContent:e._s(e.$gettext("Restore"))}})]):e._e()]},proxy:!0}])})},a=[],l=o("./js/api/commands/user/backups.js"),u=o("../node_modules/ramda/es/index.js"),r={preload:l._H,data:()=>({backup:"",options:[]}),api:[{command:l._H,bind:"backups"},{command:l.P8,bind:"backup"}],computed:{hasOptions(){return this.$api.backup.length>0},selectOptions(){const n={};return n.website={label:this.$gettext("Website Data"),entries:{domain:this.$gettext("Domains Directory: Backs up all user files for all domains"),subdomain:this.$gettext("Subdomains Lists: Backs up the list of subdomains for each domain")}},n.email={label:this.$gettext("E-mail"),entries:{email:this.$gettext("E-mail Accounts List for all domains (names and passwords)"),email_data:this.$gettext("E-mail Data: Includes the messages from the Inbox, IMAP Folders, and webmail data."),emailsettings:this.$gettext("E-mail Settings: Includes the filters and the catchall address."),forwarder:this.$gettext("Forwarders: Includes all forwarding addresses."),autoresponder:this.$gettext("Autoresponders: Includes all autoresponders and messages."),vacation:this.$gettext("Vacation Messages: Includes all vacation messages and times."),list:this.$gettext("Mailing Lists: Includes the list, digest-list and archives.")}},n.ftp={label:this.$gettext("FTP"),entries:{ftp:this.$gettext("FTP Accounts"),ftpsettings:this.$gettext("FTP Settings")}},n.database={label:this.$gettext("Databases"),entries:{database:this.$gettext("Database Settings: Backs up all DB Users and DB Settings"),database_data:this.$gettext("Database Data")}},u.UID(u.rO9({entries:u.D95((e,t)=>this.$api.backup.includes(t))}),n)}},watch:{async backup(n){n&&(this.options=await l.P8({file:n}))}},methods:{restoreBackup(){l.pi({file:this.backup,select:this.options})}}},c=r,_=o("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/backup/restore.vue?vue&type=style&index=0&id=34d5f30e&prod&lang=scss&"),m=o("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),g=(0,m.Z)(c,s,a,!1,null,null,null),f=g.exports},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/backup/restore.vue?vue&type=style&index=0&id=34d5f30e&prod&lang=scss&":function(i,d,o){var s=o("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/backup/restore.vue?vue&type=style&index=0&id=34d5f30e&prod&lang=scss&");s.__esModule&&(s=s.default),typeof s=="string"&&(s=[[i.id,s,""]]),s.locals&&(i.exports=s.locals);var a=o("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,l=a("e4ec8e54",s,!0,{})}}]);
