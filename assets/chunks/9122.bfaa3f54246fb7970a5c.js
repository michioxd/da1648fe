(self.webpackChunk=self.webpackChunk||[]).push([[9122],{"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/customize-skin/_components/menu/menu-draggable.vue?vue&type=style&index=0&id=78e2eae5&prod&lang=scss&":function(){},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/customize-skin/menu-editor.vue?vue&type=style&index=0&id=42b9394a&prod&lang=scss&scoped=true&":function(){},"./js/composables/icons.ts":function(b,C,u){"use strict";u.d(C,{Sy:function(){return E},jL:function(){return k},wX:function(){return a}});var i=u("./js/modules/customizations/icons/index.js");const v=(y,P)=>{if(y.type==="external")return y.value;const S=i.ci[P];return S[y.value]||S.default},a=y=>v(y,"menu"),E=y=>v(y,"category"),k=y=>v(y,"modern")},"./js/pages/reseller/customize-skin/menu-editor.vue":function(b,C,u){"use strict";u.r(C),u.d(C,{default:function(){return lt}});var i=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("app-page",{attrs:{actions:n.actions}},[t("app-page-section",{scopedSlots:e._u([{key:"section:title",fn:function(){return[t("div",{staticClass:"level-tabs"},[t("span",{staticClass:"level-tab",class:{active:n.level==="user"},domProps:{textContent:e._s(e.$gettext("User"))},on:{click:function(o){n.level="user"}}}),e._v(" "),t("span",{staticClass:"level-tab",class:{active:n.level==="reseller"},domProps:{textContent:e._s(e.$gettext("Reseller"))},on:{click:function(o){n.level="reseller"}}}),e._v(" "),n.user.isAdmin?t("span",{staticClass:"level-tab",class:{active:n.level==="admin"},domProps:{textContent:e._s(e.$gettext("Admin"))},on:{click:function(o){n.level="admin"}}}):e._e()])]},proxy:!0},{key:"section:buttons",fn:function(){return[t("ui-button",{attrs:{size:"normal",theme:"light",title:e.$gettext("Select category for plugins")},on:{click:n.dialogs.pluginsTarget.open}},[t("ui-icon",{directives:[{name:"margin",rawName:"v-margin:right",value:1,expression:"1",arg:"right"}],attrs:{id:"plugins",theme:"primary",size:18}}),e._v(" "),t("span",{domProps:{textContent:e._s(e.$gettext("Plugins"))}})],1),e._v(" "),t("ui-button",{attrs:{size:"normal",theme:"light",title:e.$gettext("Create new top-level link")},on:{click:n.dialogs.createCategoryLink.open}},[t("ui-icon",{directives:[{name:"margin",rawName:"v-margin:right",value:1,expression:"1",arg:"right"}],attrs:{id:"plus-fill",theme:"primary",size:18}}),e._v(" "),t("span",{domProps:{textContent:e._s(e.$gettext("New Link"))}})],1),e._v(" "),t("ui-button",{attrs:{size:"normal",theme:"primary",title:e.$gettext("Create new category")},on:{click:n.dialogs.createCategory.open}},[t("ui-icon",{directives:[{name:"margin",rawName:"v-margin:right",value:1,expression:"1",arg:"right"}],attrs:{id:"plus-fill",color:"#fff",size:18}}),e._v(" "),t("span",{domProps:{textContent:e._s(e.$gettext("New Category"))}})],1)]},proxy:!0}])},[e._v(" "),e._v(" "),t(n.MenuDraggable,{attrs:{menu:n.menu},on:{"update:menu":n.onMenuChange,"edit:category":n.onEditCategory,"edit:entry":n.onEditEntry,"create:entry":n.onCreateEntry}})],1),e._v(" "),t("app-page-section",[t(n.EditEntryDialog,{attrs:{menu:n.menu,entry:n.targetEntry},on:{"update:menu":n.onMenuChange}}),e._v(" "),t(n.EditCategoryDialog,{attrs:{menu:n.menu,category:n.targetCategory},on:{"update:menu":n.onMenuChange}}),e._v(" "),t(n.CreateEntryDialog,{attrs:{category:n.targetCategory,menu:n.menu},on:{"update:menu":n.onMenuChange}}),e._v(" "),t(n.CreateCategoryDialog,{attrs:{menu:n.menu},on:{"update:menu":n.onMenuChange}}),e._v(" "),t(n.CreateCategoryLinkDialog,{attrs:{menu:n.menu},on:{"update:menu":n.onMenuChange}}),e._v(" "),t(n.PluginsTargetDialog,{attrs:{menu:n.menu,"plugins-category":n.pluginsMountCategory[n.level]},on:{"update:plugins-category":n.setPluginsMountCategory}})],1)],1)},v=[],a=u("../node_modules/vue/dist/vue.common.prod.js"),E=u("./js/stores/index.ts"),k=u("./js/modules/navigation/menu/index.ts"),y=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t(n.Draggable,{staticClass:"menu-draggable-editor",attrs:{tag:"div",value:n.structure,group:"categories","chosen-class":"--dragged",handle:".menu-draggable-editor__category .category-handle"},on:{end:n.onCategoryDrag}},e._l(n.structure,function([o,s]){return t("div",{key:o,attrs:{"data-category":o}},[t(n.CategoryHeader,e._b({staticClass:"menu-draggable-editor__category",on:{edit:function(l){return n.emit("edit:category",o)}}},"category-header",n.getCategory(o),!1)),e._v(" "),n.hasEntries(o)?t(n.Draggable,{staticClass:"menu-draggable-editor__entries",attrs:{value:s,group:"entries",draggable:".menu-draggable-editor__entry","chosen-class":"--dragged","data-category":o},on:{end:n.onEntryDrag},scopedSlots:e._u([{key:"footer",fn:function(){return[t("ui-link",{staticClass:"new-entry-button",attrs:{tag:"div"},on:{click:function(l){return l.stopPropagation(),n.emit("create:entry",o)}}},[t("ui-icon",{staticClass:"new-entry-button-icon",attrs:{id:"plus-square",size:48,theme:"primary"}}),e._v(" "),t("div",{staticClass:"new-entry-button-text"},[t("span",{staticClass:"new-entry-button-heading",domProps:{textContent:e._s(e.$gettext("New Entry"))}}),e._v(" "),t("span",{staticClass:"new-entry-button-subheading",domProps:{textContent:e._s(e.$gettext("Add new entry to this category"))}})])],1)]},proxy:!0}],null,!0)},e._l(s,function(l){return t(n.MenuEntry,e._b({key:l,staticClass:"menu-draggable-editor__entry",attrs:{"data-category":o,"data-id":l},on:{edit:function(c){return n.emit("edit:entry",l)}}},"menu-entry",n.getEntry(l),!1))}),1):e._e()],1)}),0)},P=[],S=u("./js/stores/navigation/util.ts"),G=u("../node_modules/vuedraggable/dist/vuedraggable.umd.js"),Z=u.n(G),Y=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{on:{click:function(o){return n.emit("edit")}}},[t("img",{staticClass:"category-header-icon",attrs:{src:n.menuIcon,alt:e.name}}),e._v(" "),t("h6",{domProps:{textContent:e._s(e.name)}}),e._v(" "),t("div",{directives:[{name:"flex-item",rawName:"v-flex-item",value:{grow:!0},expression:"{ grow: true }"}]}),e._v(" "),t("div",{directives:[{name:"padding",rawName:"v-padding:right",value:1.5,expression:"1.5",arg:"right"}],staticClass:"category-handle",on:{click:function(o){o.stopPropagation()}}},[t("ui-icon",{attrs:{id:"mobile-menu",size:20,theme:"neutral"}})],1)])},F=[],w=u("./js/composables/icons.ts"),U=(0,a.defineComponent)({__name:"category-header",props:{name:null,id:null,icon:null},emits:["edit"],setup(r,{emit:e}){const t=r,n=(0,a.computed)(()=>(0,w.Sy)({type:t.icon.includes("/")?"external":"internal",value:t.icon}));return{__sfc:!0,props:t,emit:e,menuIcon:n}}}),B=U,m=u("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),H=(0,m.Z)(B,Y,F,!1,null,null,null),K=H.exports,V=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"menu-entry",class:{"--disabled":!e.enabled},on:{click:function(o){return n.emit("edit")}}},[t("img",{staticClass:"menu-entry-icon",attrs:{src:n.menuIcon,alt:e.name}}),e._v(" "),t("div",{staticClass:"menu-entry-data"},[t("span",{staticClass:"menu-entry-name",domProps:{textContent:e._s(e.name)}}),e._v(" "),t("span",{staticClass:"menu-entry-href",domProps:{textContent:e._s(n.link)}})])])},X=[],W=(0,a.defineComponent)({__name:"menu-entry",props:{name:null,icon:null,enabled:{type:Boolean},route:null,href:null},emits:["edit"],setup(r,{emit:e}){const t=r,n=(0,a.computed)(()=>(0,w.jL)({type:t.icon.includes("/")?"external":"internal",value:t.icon})),o=(0,a.computed)(()=>t.route||t.href||"");return{__sfc:!0,props:t,emit:e,menuIcon:n,link:o}}}),J=W,Q=(0,m.Z)(J,V,X,!1,null,null,null),q=Q.exports,d=u("../node_modules/ramda/es/index.js"),R=u("./js/modules/navigation/core/build-menu.ts"),M=u("./js/modules/customizations/menu/v2.ts");const ee=r=>{const e=d.UID(d.vgT("id"));return e((0,R.g)((0,R.D)(d.VO0(r.categories)))).map(n=>{const o=d.D95(s=>s.category===n,r.entries);return[n,e((0,R.g)((0,R.D)(d.VO0(o))))]})},te=(r,e,t)=>{const n=t.findIndex(([o])=>o===r);return d.pBW(n,e,t)},ne=(r,e,t,n)=>d.UID(o=>{const s=d.zud([r],o[1]);return[o[0],o[0]===e?d.$Tr(t,r,s):s]},n),oe=(r,e)=>{const t=d.d9v(e);return r.forEach(([n,o],s)=>{const l=t.categories[n];l&&(l.position=s),o.forEach((c,p)=>{const x=t.entries[c];x&&(x.position=p,x.category=n)})}),t},T=(r,e)=>e(d.d9v(r)),re=r=>Object.keys(r).length,L=(r,e)=>{const t=Object.assign({id:(0,M.ln)(r.name),columnSize:5,enabled:!0,position:re(e.categories)},r);return T(e,n=>({entries:n.entries,categories:{...n.categories,[t.id]:t}}))},se=(r,e,t)=>{const n=d.kE(d.hXT(s=>(s==null?void 0:s.category)===e,d.VO0(t.entries))),o=Object.assign({id:(0,M.ln)(r.name),category:e,enabled:!0,position:n},r);return T(t,s=>({entries:{...s.entries,[o.id]:o},categories:s.categories}))},ae=(r,e,t)=>{const n=t.categories[r];if(!n)return t;const o=d.hXT(s=>typeof s!="undefined",Object.assign({},n,e));return T(t,s=>({entries:s.entries,categories:{...s.categories,[r]:o}}))},ue=(r,e,t)=>{const n=t.entries[r];return n?T(t,o=>({entries:{...o.entries,[r]:{...n,...e}},categories:o.categories})):t};var le=(0,a.defineComponent)({__name:"menu-draggable",props:{menu:null},emits:["update:menu","edit:category","edit:entry","create:entry"],setup(r,{emit:e}){const t=r,n=(0,a.computed)(()=>ee(t.menu)),o=_=>e("update:menu",oe(_,t.menu));return{__sfc:!0,props:t,structure:n,emit:e,emitStructureChange:o,onCategoryDrag:_=>{const f=_.item.dataset.category,h=_.newIndex;o(te(f,h,n.value))},onEntryDrag:_=>{const f=_.item.dataset.id,h=_.to.dataset.category,D=_.newIndex;o(ne(f,h,D,n.value))},getCategory:_=>t.menu.categories[_],getEntry:_=>t.menu.entries[_],hasEntries:_=>{const f=t.menu.categories[_];return!(0,S.ic)(f)},Draggable:Z(),CategoryHeader:K,MenuEntry:q}}}),ie=le,dt=u("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/customize-skin/_components/menu/menu-draggable.vue?vue&type=style&index=0&id=78e2eae5&prod&lang=scss&"),de=(0,m.Z)(ie,y,P,!1,null,null,null),ce=de.exports,_e=u("./js/composables/gettext.ts"),j=u("./js/composables/dialog.ts"),pe=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("ui-dialog",{attrs:{id:"PLUGINS_TARGET_CATEGORY",title:e.$gettext("Select Plugins Category")},on:{"dialog:open":n.onOpen},scopedSlots:e._u([{key:"content",fn:function(){return[t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Plugins Category"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-select",{attrs:{options:n.categories},model:{value:n.value,callback:function(o){n.value=o},expression:"value"}})]},proxy:!0}])})]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"primary"},on:{click:n.submit}},[t("span",{domProps:{textContent:e._s(e.$gettext("Set Category"))}})])]},proxy:!0}])})},ge=[],me=(0,a.defineComponent)({__name:"plugins-target-dialog",props:{menu:null,pluginsCategory:null},emits:["update:plugins-category"],setup(r,{emit:e}){const t=r,n=(0,a.computed)(()=>d.IDH(d.vgT("name"),t.menu.categories)),o=(0,a.ref)(t.pluginsCategory);return{__sfc:!0,props:t,categories:n,emit:e,value:o,onOpen:()=>{o.value=t.pluginsCategory},submit:()=>e("update:plugins-category",o.value)}}}),ye=me,ve=(0,m.Z)(ye,pe,ge,!1,null,null,null),fe=ve.exports,xe=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("ui-dialog",{attrs:{id:"CREATE_CATEGORY_DIALOG",title:e.$gettext("Create category")},scopedSlots:e._u([{key:"content",fn:function(){return[t(n.CategoryEditor,{on:{change:function(o){n.data=o}}})]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{"validate-group":"edit-category",theme:"primary"},on:{click:n.submit}},[t("span",{domProps:{textContent:e._s(e.$gettext("Create category"))}})])]},proxy:!0}])})},be=[],Ce=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"menu-category-edit"},[t("ui-form-element",{attrs:{group:"edit-category",validators:{required:!0},vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Name"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{model:{value:n.data.name,callback:function(o){e.$set(n.data,"name",o)},expression:"data.name"}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{group:"edit-category",vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Icon"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{model:{value:n.data.icon,callback:function(o){e.$set(n.data,"icon",o)},expression:"data.icon"}})]},proxy:!0}])}),e._v(" "),n.isLink?t("ui-form-element",{attrs:{group:"edit-category",validators:{required:!0},vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Link"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{scopedSlots:e._u([{key:"additions:right",fn:function(){return[t("input-checkbox-button",{model:{value:n.data.newTab,callback:function(o){e.$set(n.data,"newTab",o)},expression:"data.newTab"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Open in new tab"))}})])]},proxy:!0}],null,!1,1748940797),model:{value:n.data.link,callback:function(o){e.$set(n.data,"link",o)},expression:"data.link"}})]},proxy:!0}],null,!1,1615192199)}):t("ui-form-element",{attrs:{group:"edit-category",validators:{required:!0},vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Column Size"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{number:""},model:{value:n.data.columnSize,callback:function(o){e.$set(n.data,"columnSize",o)},expression:"data.columnSize"}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{group:"edit-category",validators:{required:!0},vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{attrs:{label:e.$gettext("Enabled")},model:{value:n.data.enabled,callback:function(o){e.$set(n.data,"enabled",o)},expression:"data.enabled"}})]},proxy:!0}])})],1)},ke=[],je=(0,a.defineComponent)({__name:"category-editor",props:{name:null,icon:null,enabled:{type:Boolean},columnSize:null,link:null,newTab:{type:[Boolean,null]}},emits:["change"],setup(r,{emit:e}){const t=r,n=(0,a.reactive)({name:"",icon:"",link:"",enabled:!1,newTab:!1,columnSize:5}),o=(0,a.computed)(()=>typeof t.link=="string");return(0,a.onMounted)(()=>{var s,l;n.name=t.name||"",n.icon=t.icon||"",n.enabled=(s=t.enabled)!==null&&s!==void 0?s:!0,n.columnSize=t.columnSize||5,t.link&&(n.link=t.link||"",n.newTab=(l=t.newTab)!==null&&l!==void 0?l:!1)}),(0,a.watch)(()=>n,s=>{e("change",{name:s.name,icon:s.icon,enabled:s.enabled,columnSize:s.columnSize,link:o.value?s.link:void 0,newTab:o.value?s.newTab:void 0})},{deep:!0}),{__sfc:!0,props:t,emit:e,data:n,isLink:o}}}),he=je,Ee=(0,m.Z)(he,Ce,ke,!1,null,null,null),$=Ee.exports,Se=(0,a.defineComponent)({__name:"create-category-dialog",props:{menu:null},emits:["update:menu"],setup(r,{emit:e}){const t=r,n=(0,a.ref)({name:"",icon:"",columnSize:5,enabled:!0});return{__sfc:!0,props:t,emit:e,data:n,submit:()=>{const{name:s,icon:l,columnSize:c,enabled:p}=n.value;e("update:menu",L({name:s,icon:l,columnSize:c,enabled:p},t.menu))},CategoryEditor:$}}}),Re=Se,Te=(0,m.Z)(Re,xe,be,!1,null,null,null),Pe=Te.exports,$e=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("ui-dialog",{attrs:{id:"CREATE_CATEGORY_LINK_DIALOG",title:e.$gettext("Create Link")},scopedSlots:e._u([{key:"content",fn:function(){return[t(n.CategoryEditor,{attrs:{link:""},on:{change:function(o){n.data=o}}})]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{"validate-group":"edit-category",theme:"primary"},on:{click:n.submit}},[t("span",{domProps:{textContent:e._s(e.$gettext("Create Link"))}})])]},proxy:!0}])})},De=[],ze=(0,a.defineComponent)({__name:"create-category-link-dialog",props:{menu:null},emits:["update:menu"],setup(r,{emit:e}){const t=r,n=(0,a.ref)({name:"",icon:"",link:"",newTab:!1,columnSize:5,enabled:!0});return{__sfc:!0,props:t,emit:e,data:n,submit:()=>e("update:menu",L(n.value,t.menu)),CategoryEditor:$}}}),we=ze,Me=(0,m.Z)(we,$e,De,!1,null,null,null),Le=Me.exports,Oe=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("ui-dialog",{attrs:{id:"CREATE_ENTRY_DIALOG",title:e.$gettext("Create Entry")},scopedSlots:e._u([{key:"content",fn:function(){return[t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Entry Type"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-select",{attrs:{options:{internal:e.$gettext("Internal"),external:e.$gettext("External")}},model:{value:n.entryType,callback:function(o){n.entryType=o},expression:"entryType"}})]},proxy:!0}])}),e._v(" "),t(n.EntryEditor,{attrs:{type:n.entryType},on:{change:function(o){n.data=o}}})]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"primary","validate-group":"edit-route"},on:{click:n.submit}},[t("span",{domProps:{textContent:e._s(e.$gettext("Create Entry"))}})])]},proxy:!0}])})},Ae=[],Ne=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("div",{staticClass:"menu-category-edit"},[t("ui-form-element",{attrs:{group:"edit-route",validators:{required:!0},vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Name"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{model:{value:n.data.name,callback:function(o){e.$set(n.data,"name",o)},expression:"data.name"}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{group:"edit-route",vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Icon"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{model:{value:n.data.icon,callback:function(o){e.$set(n.data,"icon",o)},expression:"data.icon"}})]},proxy:!0}])}),e._v(" "),e.type==="internal"?t("ui-form-element",{key:"internal",attrs:{group:"edit-route",validators:{required:!0},vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Route"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{model:{value:n.data.route,callback:function(o){e.$set(n.data,"route",o)},expression:"data.route"}})]},proxy:!0}],null,!1,3871461049)}):t("ui-form-element",{key:"external",attrs:{group:"edit-route",validators:{required:!0},vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("URL"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{scopedSlots:e._u([{key:"additions:right",fn:function(){return[t("input-checkbox-button",{model:{value:n.data.newTab,callback:function(o){e.$set(n.data,"newTab",o)},expression:"data.newTab"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Open in new tab"))}})])]},proxy:!0}]),model:{value:n.data.href,callback:function(o){e.$set(n.data,"href",o)},expression:"data.href"}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{group:"edit-route",validators:{required:!0},vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{attrs:{label:e.$gettext("Enabled")},model:{value:n.data.enabled,callback:function(o){e.$set(n.data,"enabled",o)},expression:"data.enabled"}})]},proxy:!0}])})],1)},Ie=[],Ge=(0,a.defineComponent)({__name:"entry-editor",props:{type:null,name:null,icon:null,enabled:{type:Boolean},route:null,href:null,newTab:{type:[Boolean,null]}},emits:["change"],setup(r,{emit:e}){const t=r,n=(0,a.reactive)({name:"",icon:"",enabled:!1,route:void 0,href:void 0,newTab:!1});return(0,a.onMounted)(()=>{var o,s;n.name=t.name||"",n.icon=t.icon||"",n.enabled=(o=t.enabled)!==null&&o!==void 0?o:!0,n.route=t.route||void 0,n.href=t.href||void 0,n.newTab=(s=t.newTab)!==null&&s!==void 0?s:!1}),(0,a.watch)(()=>n,o=>{e("change",o)},{deep:!0}),{__sfc:!0,props:t,emit:e,data:n}}}),Ze=Ge,Ye=(0,m.Z)(Ze,Ne,Ie,!1,null,null,null),O=Ye.exports,Fe=(0,a.defineComponent)({__name:"create-entry-dialog",props:{menu:null,category:null},emits:["update:menu"],setup(r,{emit:e}){const t=r,n=(0,a.ref)("external"),o=(0,a.ref)({name:"",icon:"",enabled:!0,route:void 0,href:void 0,newTab:void 0});return{__sfc:!0,props:t,emit:e,entryType:n,data:o,submit:()=>{if(t.category!==null){debugger;e("update:menu",se(o.value,t.category,t.menu))}},EntryEditor:O}}}),Ue=Fe,Be=(0,m.Z)(Ue,Oe,Ae,!1,null,null,null),He=Be.exports,Ke=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("ui-dialog",{attrs:{id:"EDIT_CATEGORY_DIALOG",title:e.$gettext("Edit Category")},scopedSlots:e._u([{key:"content",fn:function(){return[n.targetCategory?t(n.CategoryEditor,e._b({on:{change:function(o){n.data=o}}},"category-editor",n.targetCategory,!1)):e._e()]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{"validate-group":"edit-category",theme:"primary"},on:{click:n.submit}},[t("span",{domProps:{textContent:e._s(e.$gettext("Edit Category"))}})])]},proxy:!0}])})},Ve=[],Xe=(0,a.defineComponent)({__name:"edit-category-dialog",props:{menu:null,category:null},emits:["update:menu"],setup(r,{emit:e}){const t=r,n=(0,a.computed)(()=>t.category?Object.assign({id:t.category,name:"",icon:"",enabled:!1,columnSize:5,link:void 0,newTab:void 0,position:0},t.menu.categories[t.category]||{}):null),o=(0,a.ref)({name:"",icon:"",enabled:!1,columnSize:5,link:void 0,newTab:void 0});return{__sfc:!0,props:t,emit:e,targetCategory:n,data:o,submit:()=>{n.value!==null&&e("update:menu",ae(n.value.id,o.value,t.menu))},CategoryEditor:$}}}),We=Xe,Je=(0,m.Z)(We,Ke,Ve,!1,null,null,null),Qe=Je.exports,qe=function(){var e=this,t=e._self._c,n=e._self._setupProxy;return t("ui-dialog",{attrs:{id:"EDIT_ENTRY_DIALOG",title:e.$gettext("Edit Entry")},scopedSlots:e._u([{key:"content",fn:function(){return[n.targetEntry?t(n.EntryEditor,e._b({attrs:{type:n.entryType},on:{change:function(o){n.data=o}}},"entry-editor",n.targetEntry,!1)):e._e()]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"primary","validate-group":"edit-route"},on:{click:n.submit}},[t("span",{domProps:{textContent:e._s(e.$gettext("Edit Entry"))}})])]},proxy:!0}])})},et=[],tt=(0,a.defineComponent)({__name:"edit-entry-dialog",props:{menu:null,entry:null},emits:["update:menu"],setup(r,{emit:e}){const t=r,n=(0,a.computed)(()=>{if(!t.entry)return null;const c=t.menu.entries[t.entry];return typeof c=="undefined"?null:c}),o=(0,a.computed)(()=>{var c;return typeof((c=n.value)===null||c===void 0?void 0:c.route)=="string"?"internal":"external"}),s=(0,a.ref)({name:"",icon:"",enabled:!0,route:void 0,href:void 0,newTab:void 0});return{__sfc:!0,props:t,emit:e,targetEntry:n,entryType:o,data:s,submit:()=>{const c=n.value;c&&e("update:menu",ue(c.id,s.value,t.menu))},EntryEditor:O}}}),nt=tt,ot=(0,m.Z)(nt,qe,et,!1,null,null,null),rt=ot.exports,A=u("./js/modules/customizations/menu/utils.ts"),st=(0,a.defineComponent)({__name:"menu-editor",setup(r){const e={pluginsTarget:(0,j.R)("PLUGINS_TARGET_CATEGORY"),createCategory:(0,j.R)("CREATE_CATEGORY_DIALOG"),createCategoryLink:(0,j.R)("CREATE_CATEGORY_LINK_DIALOG"),createEntry:(0,j.R)("CREATE_ENTRY_DIALOG"),editCategory:(0,j.R)("EDIT_CATEGORY_DIALOG"),editEntry:(0,j.R)("EDIT_ENTRY_DIALOG")},t=(0,E.oR)("user"),n=(0,a.ref)("user"),o=(0,a.ref)(!1),s=(0,E.oR)("customization"),l=(0,a.computed)(()=>s.modules.menu),c=(0,a.computed)(()=>k.Z[n.value]),p=(0,a.ref)(d.d9v(l.value.data)),x=(0,a.ref)(null),_=(0,a.ref)(null),f=(0,a.ref)({user:p.value.user.pluginsMountCategory||k.Z.user.pluginsMountCategory,reseller:p.value.reseller.pluginsMountCategory||k.Z.reseller.pluginsMountCategory,admin:p.value.admin.pluginsMountCategory||k.Z.admin.pluginsMountCategory}),h=(0,a.computed)(()=>(0,A.sY)(c.value,p.value[n.value])),D=g=>{p.value[n.value]=(0,A.bG)({...g,pluginsMountCategory:f.value[n.value]},c.value),o.value=!0},it=(0,a.computed)(()=>{const{$gettext:g}=(0,_e.Z)();return[{visible:l.value.customized,label:g("Reset to defaults"),handler:N,icon:"#delete",theme:"danger"},{visible:o.value,label:g("Undo changes"),handler:z,icon:"#reload",theme:"danger"},{visible:o.value,label:g("Save changes"),handler:I,icon:"#upload",theme:"safe"}]}),z=async()=>{p.value=d.d9v(l.value.data),o.value=!1},N=async()=>{await s.resetModule("menu"),z()},I=async()=>{s.updateModule("menu",p.value),await s.saveModule("menu"),o.value=!1};return{__sfc:!0,dialogs:e,user:t,level:n,changed:o,customizationStore:s,module:l,builtinMenu:c,customization:p,targetCategory:x,targetEntry:_,pluginsMountCategory:f,menu:h,onMenuChange:D,actions:it,undoChanges:z,useDefaults:N,saveChanges:I,onEditCategory:g=>{x.value=g,e.editCategory.open()},onEditEntry:g=>{_.value=g,e.editEntry.open()},onCreateEntry:g=>{x.value=g,e.createEntry.open()},setPluginsMountCategory:g=>{f.value[n.value]=g,p.value[n.value].pluginsMountCategory=g,o.value=!0},MenuDraggable:ce,PluginsTargetDialog:fe,CreateCategoryDialog:Pe,CreateCategoryLinkDialog:Le,CreateEntryDialog:He,EditCategoryDialog:Qe,EditEntryDialog:rt}}}),at=st,ct=u("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/customize-skin/menu-editor.vue?vue&type=style&index=0&id=42b9394a&prod&lang=scss&scoped=true&"),ut=(0,m.Z)(at,i,v,!1,null,"42b9394a",null),lt=ut.exports},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/customize-skin/_components/menu/menu-draggable.vue?vue&type=style&index=0&id=78e2eae5&prod&lang=scss&":function(b,C,u){var i=u("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/customize-skin/_components/menu/menu-draggable.vue?vue&type=style&index=0&id=78e2eae5&prod&lang=scss&");i.__esModule&&(i=i.default),typeof i=="string"&&(i=[[b.id,i,""]]),i.locals&&(b.exports=i.locals);var v=u("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,a=v("0587cf40",i,!0,{})},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/customize-skin/menu-editor.vue?vue&type=style&index=0&id=42b9394a&prod&lang=scss&scoped=true&":function(b,C,u){var i=u("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/reseller/customize-skin/menu-editor.vue?vue&type=style&index=0&id=42b9394a&prod&lang=scss&scoped=true&");i.__esModule&&(i=i.default),typeof i=="string"&&(i=[[b.id,i,""]]),i.locals&&(b.exports=i.locals);var v=u("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,a=v("8e637362",i,!0,{})}}]);
