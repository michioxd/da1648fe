"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7817],{"./js/api/commands/validation/index.js":function(x,p,s){s.d(p,{i9:function(){return e},ty:function(){return d},l7:function(){return i},OE:function(){return t},ub:function(){return A},oH:function(){return v},U5:function(){return r},k_:function(){return E},PR:function(){return a},uo:function(){return _},Jj:function(){return D},rV:function(){return m}});var n=s("./js/api/command/index.js"),c=s("../node_modules/punycode/punycode.es6.js"),l=s("./js/api/commands/converters/index.ts"),f={isValid(y){return typeof y.error=="undefined"},getMessage(y){return(0,l.S8)(y.error||"")}};const o=n.Z.get({url:"/CMD_JSON_VALIDATE",schema:{value:n.Z.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:f.isValid,message:f.getMessage}}),E=o.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}}),v=o.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}}),r=o.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0}),u=o.extend({params:{type:"dns"},domain:!0,schema:{record:n.Z.REQUIRED_STRING}}),i=u.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:n.Z.REQUIRED_STRING}}),a=i.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:({value:y})=>({value:"10",mx_value:y})}),d=u.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:n.Z.REQUIRED_STRING,value:null}}),t=o.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}}),e=o.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}}),m=o.extend({id:"VALIDATE_USERNAME",params:{type:"username"}}),D=o.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}}),_=o.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}}),A=o.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:({value:y})=>({value:c.ZP.toASCII(y)})}),h=o.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}})},"./js/api/commands/converters/customItems.ts":function(x,p,s){s.d(p,{CR:function(){return o}});var n=s("../node_modules/ramda/es/index.js"),c=s("./js/api/commands/converters/index.ts"),l=s("./js/api/commands/utils/transduce.ts"),f=s("./js/api/commands/converters/toSelectData.ts");const o=r=>{const u={name:r.name,type:r.type==="listbox"?"select":r.type,label:r.string,description:r.desc||"",value:r.type==="checkbox"?(0,c.sw)(r.checked||"no"):r.value||""};return u.type==="select"?n.BPw(u,(0,f.M1)(r.select||{})):u},E=r=>(0,l.vr)([(0,l.uD)(u=>/^item\d+val$/.test(u)),(0,l.r5)(u=>{const i=u,a=u.replace("val","txt"),d=r[i],t=r[a];return{[d]:t}})],Object.keys(r)),v=(r,u)=>n.qCK(a=>{const d={name:a.name,type:a.type==="listbox"?"select":a.type,description:a.desc||"",value:a.value||"",label:a.string};return a.type==="listbox"?(d.value=a.default,d.options=E(a)):a.type==="checkbox"&&(d.value=a.checked==="yes"),d},n.BPw({name:r}),(0,l.vr)([(0,l.r5)(a=>{const[d,t]=n.Vl2("=",a);return{[d]:t}})]),n.Vl2("&"))(u);p.ZP={fromObject:o,fromString:v}},"./js/api/commands/converters/index.ts":function(x,p,s){s.d(p,{l$:function(){return i.ZP},t0:function(){return n.t0},S8:function(){return n.S8},ql:function(){return n.ql},sw:function(){return n.sw},Qu:function(){return n.Qu},He:function(){return n.He},M1:function(){return u.M1},sf:function(){return d},cc:function(){return r}});var n=s("./js/api/commands/converters/primitive.ts"),c=s("../node_modules/monet/dist/monet.js"),l=s("./js/api/commands/types.ts");const f=t=>typeof t=="object"?c.Either.Right(t):c.Either.Left(new Error("Passed param is not an object")),o=t=>typeof t.usage=="string"?c.Either.Right(t):c.Either.Left(new Error("usage property is required")),E=t=>({usage:(0,n.He)(t.usage),limit:(0,n.Qu)(t.limit)}),v=({usage:t,limit:e})=>{let m=l.H.Normal;const D=Math.floor(t/e*100);return D>=100?m=l.H.OverUsed:D>80&&(m=l.H.AlmostUsed),{usage:t,limit:e,status:m}},r=t=>{const e=c.Either.Right(t).flatMap(f).flatMap(o).map(E).map(v);if(e.isLeft())throw e.left();return e.right()};var u=s("./js/api/commands/converters/toSelectData.ts"),i=s("./js/api/commands/converters/customItems.ts"),a=s("../node_modules/ramda/es/index.js");const d=t=>e=>{const{info:m}=e,D=a.CEd(["info"],e);return{columns:m.columns,rowsCount:Number(m.rows),rows:a.UID(t,a.VO0(D))}}},"./js/api/commands/converters/toSelectData.ts":function(x,p,s){s.d(p,{M1:function(){return v}});var n=s("../node_modules/monet/dist/monet.js"),c=s.n(n),l=s("./js/api/commands/utils/transduce.ts"),f=s("../node_modules/ramda/es/index.js");const o=r=>n.Maybe.Some(r).flatMap(u=>{const i=u.find(a=>a.selected==="yes");return i?n.Maybe.Some(i):n.Maybe.None()}).flatMap(u=>n.Maybe.fromNull(u.value)).orSome(""),E=(0,l.vr)([(0,l.r5)(r=>({[r.value]:r.text}))]),v=r=>{const u=(0,f.VO0)(r);return{value:o(u),options:E(u)}}},"./js/api/commands/types.ts":function(x,p,s){s.d(p,{H:function(){return n}});var n;(function(c){c.Normal="normal",c.AlmostUsed="almost_used",c.OverUsed="overused"})(n||(n={}))},"./js/api/commands/utils/transduce.ts":function(x,p,s){s.d(p,{Re:function(){return f},r5:function(){return c},uD:function(){return l},vr:function(){return u},zh:function(){return v}});var n=s("../node_modules/ramda/es/index.js");const c=i=>a=>(d,t)=>{const e=i(t);return a(d,e)},l=i=>a=>(d,t)=>i(t)?a(d,t):d,f=(i,a)=>(i.push(a),i),o=(i,a)=>n.BPw(i,a),E=(i,a,d,t)=>{const e=n.qCK(...d);return t.reduce(e(a),i)},v=n.WAo(E),r=v([],f),u=v({},o)},"./js/pages/user/password.vue":function(x,p,s){s.r(p),s.d(p,{default:function(){return a}});var n=function(){var t=this,e=t._self._c;return e("app-page",{scopedSlots:t._u([{key:"default",fn:function(){return[e("app-page-section",[e("ui-form-element",{attrs:{group:"password",validators:{required:!0}},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Current DirectAdmin Password:"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-password",{model:{value:t.oldpass,callback:function(m){t.oldpass=m},expression:"oldpass"}})]},proxy:!0}])}),t._v(" "),e("ui-form-element",{attrs:{group:"password",validators:{required:!0,api:t.$commands.validatePassword}},scopedSlots:t._u([{key:"title",fn:function(){return[e("span",{domProps:{textContent:t._s(t.$gettext("Enter new password:"))}})]},proxy:!0},{key:"content",fn:function(){return[e("input-password",{attrs:{"show-generator":""},model:{value:t.passwd,callback:function(m){t.passwd=m},expression:"passwd"}})]},proxy:!0}])}),t._v(" "),e("ui-form-element",{attrs:{underline:!1},scopedSlots:t._u([{key:"title",fn:function(){},proxy:!0},{key:"content",fn:function(){return[e("div",{directives:[{name:"gutter",rawName:"v-gutter",value:1,expression:"1"},{name:"flex",rawName:"v-flex",value:{dir:t.clientStore.isPhone?"column":"row",cross:t.clientStore.isPhone?"start":"center"},expression:`{
                            dir: clientStore.isPhone ? 'column' : 'row',
                            cross: clientStore.isPhone ? 'start' : 'center',
                        }`}]},[e("input-checkbox",{model:{value:t.system,callback:function(m){t.system=m},expression:"system"}},[e("span",{domProps:{textContent:t._s(t.$gettext("DirectAdmin Account"))}})]),t._v(" "),e("input-checkbox",{model:{value:t.ftp,callback:function(m){t.ftp=m},expression:"ftp"}},[e("span",{domProps:{textContent:t._s(t.$gettext("Main FTP Account"))}})]),t._v(" "),e("input-checkbox",{model:{value:t.database,callback:function(m){t.database=m},expression:"database"}},[e("span",{domProps:{textContent:t._s(t.$gettext("Main Database Account"))}})])],1)]},proxy:!0}])})],1)]},proxy:!0},{key:"bottom:links",fn:function(){return[e("ui-link",{attrs:{name:"user/login-keys",bullet:""}},[e("span",{domProps:{textContent:t._s(t.$gettext("Login Keys"))}})]),t._v(" "),t.securityQuestions?e("ui-link",{attrs:{name:"user/security-questions",bullet:""}},[e("span",{domProps:{textContent:t._s(t.$gettext("Manage Security Questions"))}})]):t._e(),t._v(" "),t.twoStepAuth?e("ui-link",{attrs:{name:"user/two-step-auth",bullet:""}},[e("span",{domProps:{textContent:t._s(t.$gettext("Two-Step Authentication"))}})]):t._e()]},proxy:!0},{key:"footer:buttons",fn:function(){return[e("ui-button",{attrs:{theme:"safe","validate-group":"password"},on:{click:t.submit}},[e("span",{domProps:{textContent:t._s(t.$gettext("Submit"))}})])]},proxy:!0}])})},c=[],l=s("./js/stores/index.ts"),f=s("./js/api/commands/validation/index.js"),o=s("./js/api/command/index.js"),E=o.Z.post({url:"/CMD_PASSWD",params:{options:!0},schema:{oldpass:o.Z.REQUIRED_STRING,passwd:o.Z.REQUIRED_STRING,passwd2:o.Z.REQUIRED_STRING,system:o.Z.REQUIRED_BOOL,ftp:o.Z.REQUIRED_BOOL,database:o.Z.REQUIRED_BOOL}}),v={name:"UserPassword",commands:{validatePassword:f.uo},data(){return{system:!0,ftp:!0,database:!0,oldpass:"",passwd:"",showValidation:!1}},computed:{securityQuestions(){return this.$_flags.user.securityQuestions},twoStepAuth(){return this.$_flags.server.auth2FA},requestData(){return{system:this.system,ftp:this.ftp,database:this.database,oldpass:this.oldpass,passwd:this.passwd,passwd2:this.passwd}},...(0,l.Kc)(["client"])},methods:{submit(){E(this.requestData).then(()=>{Object.assign(this.$data,this.$options.data.apply(this))})}}},r=v,u=s("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=(0,u.Z)(r,n,c,!1,null,null,null),a=i.exports}}]);
