"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[414],{"./js/components/local/date-formats.vue":function(w,u,o){o.d(u,{Z:function(){return y}});var m=function(){var t=this,a=t._self._c;return a("div",[a("ui-form-element",{scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("Date Format"))}})]},proxy:!0},{key:"content",fn:function(){return[a("input-select",{attrs:{options:t.dateFormats,"disable-search":""},model:{value:t.date,callback:function(r){t.date=r},expression:"date"}})]},proxy:!0}])}),t._v(" "),t.date==="custom"?a("ui-form-element",{attrs:{group:"dateformats",validators:{required:!0,format:t.validateDatetime}},scopedSlots:t._u([{key:"title",fn:function(){return[a("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"},{name:"padding",rawName:"v-padding:right",value:1,expression:"1",arg:"right"},{name:"flex-item",rawName:"v-flex-item",value:{grow:!0},expression:"{ grow: true }"}]},[a("div",{directives:[{name:"flex-item",rawName:"v-flex-item",value:{grow:!0},expression:"{ grow: true }"}]}),t._v(" "),a("ui-link",{attrs:{target:"_blank",href:"https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table",title:t.$gettext("Unicode Tokens")}},[a("ui-icon",{attrs:{id:"information",theme:"primary"}})],1)],1)]},proxy:!0},{key:"content",fn:function(){return[a("input-text",{attrs:{suffix:t.safeFormatNow(t.customDate)},model:{value:t.customDate,callback:function(r){t.customDate=r},expression:"customDate"}})]},proxy:!0},{key:"error:format",fn:function(){return[a("span",{domProps:{textContent:t._s(t.validation)}})]},proxy:!0}],null,!1,1805923388)}):t._e(),t._v(" "),a("ui-form-element",{attrs:{group:"dateformats",validators:{required:!0,format:t.validateDatetime}},scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("Date & Time Format"))}})]},proxy:!0},{key:"content",fn:function(){return[t.date!=="custom"?a("input-text",{key:"computed",attrs:{novalidate:"",disabled:"",value:t.safeFormatNow(t.datetime)},scopedSlots:t._u([{key:"additions:right",fn:function(){return[a("input-checkbox-button",{attrs:{theme:"light",size:"normal"},model:{value:t.use24hFormat,callback:function(r){t.use24hFormat=r},expression:"use24hFormat"}},[a("span",{domProps:{textContent:t._s(t.$gettext("24H"))}})])]},proxy:!0}],null,!1,3728499649)}):a("input-text",{key:"customDatetime",attrs:{suffix:t.safeFormatNow(t.datetime)},model:{value:t.datetime,callback:function(r){t.datetime=r},expression:"datetime"}})]},proxy:!0},{key:"error:format",fn:function(){return[a("span",{domProps:{textContent:t._s(t.validation)}})]},proxy:!0}])}),t._v(" "),a("ui-form-element",{attrs:{underline:!1},scopedSlots:t._u([{key:"title",fn:function(){return[a("span",{domProps:{textContent:t._s(t.$gettext("Week Start"))}})]},proxy:!0},{key:"content",fn:function(){return[a("input-select",{attrs:{options:{monday:t.$gettext("Monday"),sunday:t.$gettext("Sunday")}},model:{value:t.start,callback:function(r){t.start=r},expression:"start"}})]},proxy:!0}])})],1)},l=[],i=o("../node_modules/date-fns/esm/format/index.js"),c=o("./js/modules/constants.js");const d=["yyyy-MM-dd","d-M-yyyy","M-d-yyyy","yyyy/M/d","d/M/yyyy","M/d/yyyy","d.M.yyyy"];var f={props:{dateFormat:{type:String,required:!0},datetimeFormat:{type:String,required:!0},weekStart:{type:String,required:!0}},data(){return{use24hFormat:this.datetimeFormat.includes("HH"),date:d.includes(this.dateFormat)?this.dateFormat:"custom",datetime:this.datetimeFormat,customDate:this.dateFormat,validation:"",start:this.weekStart}},computed:{dateFormats(){const e=this.reduceFormats(d);return e.custom=this.$gettext("Custom"),e}},watch:{datetimeFormat:{handler(e){this.datetime!==e&&(this.use24hFormat=e.includes("HH"),this.datetime=e)},immediate:!0},dateFormat(e){this.date!==e&&(this.date==="custom"?this.customDate=e:this.date=e)},datetime(e){e!==this.datetimeFormat&&this.checkFormat(e)&&this.$emit("update:datetimeFormat",e)},date(e){if(e!==this.dateFormat&&e!=="custom"){const t=this.use24hFormat?"HH:mm:ss":"pp";this.datetime=`${this.date} ${t}`,this.$emit("update:dateFormat",e)}},use24hFormat(e){this.datetime=this.datetime.replace(e?"pp":"HH:mm:ss",e?"HH:mm:ss":"pp")},customDate(e){e!==this.dateFormat&&this.$emit("update:dateFormat",e)},start(e){e!==this.weekStart&&this.$emit("update:weekStart",e)},weekStart(e){this.start!==e&&(this.start=e)}},methods:{safeFormatNow(e){return this.checkFormat(e)?(0,i.Z)(new Date,e,{awareOfUnicodeTokens:!0}):this.$gettext("Invalid date format")},reduceFormats(e){return e.reduce((t,a)=>({...t,[a]:this.safeFormatNow(a)}),{})},checkFormat(e){try{return(0,i.Z)(new Date,e,{awareOfUnicodeTokens:!0}),!0}catch(t){return this.validation=t.message,c.Vi.DEV&&console.error(t),!1}},validateDatetime(e){return e?this.checkFormat(e):!0}}},p=f,v=o("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),h=(0,v.Z)(p,m,l,!1,null,null,null),y=h.exports},"./js/pages/reseller/customize-skin/date-formats.vue":function(w,u,o){o.r(u),o.d(u,{default:function(){return e}});var m=function(){var a=this,r=a._self._c,s=a._self._setupProxy;return r("app-page",{attrs:{actions:s.actions},scopedSlots:a._u([{key:"header:links",fn:function(){return[r("ui-link",{attrs:{target:"_blank",href:"https://www.unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table",bullet:""}},[r("span",{domProps:{textContent:a._s(s.$gettext("Unicode Tokens"))}})])]},proxy:!0}])},[a._v(" "),r(s.DateFormats,{attrs:{"date-format":s.dateFormats.date,"datetime-format":s.dateFormats.datetime,"week-start":s.dateFormats.weekStart},on:{"update:dateFormat":function(n){s.dateFormats.date=n},"update:datetimeFormat":function(n){s.dateFormats.datetime=n},"update:weekStart":function(n){s.dateFormats.weekStart=n}}})],1)},l=[],i=o("../node_modules/vue/dist/vue.common.prod.js"),c=o("./js/components/local/date-formats.vue"),d=o("./js/stores/index.ts"),f=o("./js/composables/index.ts"),p=(0,i.defineComponent)({__name:"date-formats",setup(t){const{$gettext:a}=(0,f.st)(),r=(0,d.oR)("customization"),s=(0,i.ref)({...r.modulesData["date-formats"]}),n=(0,i.ref)(!1),x=(0,i.computed)(()=>r.modules["date-formats"]),_=(0,i.computed)(()=>x.value.customized),F=async()=>{s.value={...x.value.data},await(0,i.nextTick)(),n.value=!1},g=async()=>{await r.resetModule("date-formats"),F()},k=async()=>{r.updateModule("date-formats",s.value),await r.saveModule("date-formats"),n.value=!1},D=(0,i.computed)(()=>[{visible:_.value,label:a("Reset to defaults"),handler:g,icon:"#delete",theme:"danger"},{visible:n.value,label:a("Undo changes"),handler:F,icon:"#reload",theme:"danger"},{visible:n.value,label:a("Save changes"),handler:k,icon:"#upload",theme:"safe"}]);return(0,i.watch)(s,()=>{n.value=!0},{deep:!0}),{__sfc:!0,$gettext:a,store:r,dateFormats:s,changed:n,module:x,customized:_,undoChanges:F,useDefaults:g,saveChanges:k,actions:D,DateFormats:c.Z}}}),v=p,h=o("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),y=(0,h.Z)(v,m,l,!1,null,null,null),e=y.exports}}]);
