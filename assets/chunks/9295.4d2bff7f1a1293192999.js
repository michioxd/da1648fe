(self.webpackChunk=self.webpackChunk||[]).push([[9295],{"../node_modules/date-fns/esm/formatDistance/index.js":function(C,E,s){"use strict";s.d(E,{Z:function(){return K}});var n=s("../node_modules/date-fns/esm/_lib/defaultOptions/index.js"),r=s("../node_modules/date-fns/esm/toDate/index.js"),c=s("../node_modules/date-fns/esm/_lib/requiredArgs/index.js");function l(x,v){(0,c.Z)(2,arguments);var g=(0,r.Z)(x),R=(0,r.Z)(v),U=g.getTime()-R.getTime();return U<0?-1:U>0?1:U}function f(x,v){(0,c.Z)(2,arguments);var g=(0,r.Z)(x),R=(0,r.Z)(v),U=g.getFullYear()-R.getFullYear(),j=g.getMonth()-R.getMonth();return U*12+j}function A(x){(0,c.Z)(1,arguments);var v=(0,r.Z)(x);return v.setHours(23,59,59,999),v}function I(x){(0,c.Z)(1,arguments);var v=(0,r.Z)(x),g=v.getMonth();return v.setFullYear(v.getFullYear(),g+1,0),v.setHours(23,59,59,999),v}function o(x){(0,c.Z)(1,arguments);var v=(0,r.Z)(x);return A(v).getTime()===I(v).getTime()}function m(x,v){(0,c.Z)(2,arguments);var g=(0,r.Z)(x),R=(0,r.Z)(v),U=l(g,R),j=Math.abs(f(g,R)),b;if(j<1)b=0;else{g.getMonth()===1&&g.getDate()>27&&g.setDate(30),g.setMonth(g.getMonth()-U*j);var Z=l(g,R)===-U;o((0,r.Z)(x))&&j===1&&l(x,R)===1&&(Z=!1),b=U*(j-Number(Z))}return b===0?0:b}function S(x,v){return(0,c.Z)(2,arguments),(0,r.Z)(x).getTime()-(0,r.Z)(v).getTime()}var d={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(v){return v<0?Math.ceil(v):Math.floor(v)}},y="trunc";function p(x){return x?d[x]:d[y]}function M(x,v,g){(0,c.Z)(2,arguments);var R=S(x,v)/1e3;return p(g==null?void 0:g.roundingMethod)(R)}var L=s("../node_modules/date-fns/esm/_lib/defaultLocale/index.js");function O(x,v){if(x==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var g in v)Object.prototype.hasOwnProperty.call(v,g)&&(x[g]=v[g]);return x}function w(x){return O({},x)}var _=s("../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js"),i=1440,h=2520,P=43200,N=86400;function K(x,v,g){var R,U;(0,c.Z)(2,arguments);var j=(0,n.j)(),b=(R=(U=g==null?void 0:g.locale)!==null&&U!==void 0?U:j.locale)!==null&&R!==void 0?R:L.Z;if(!b.formatDistance)throw new RangeError("locale must contain formatDistance property");var Z=l(x,v);if(isNaN(Z))throw new RangeError("Invalid time value");var $=O(w(g),{addSuffix:Boolean(g==null?void 0:g.addSuffix),comparison:Z}),B,G;Z>0?(B=(0,r.Z)(v),G=(0,r.Z)(x)):(B=(0,r.Z)(x),G=(0,r.Z)(v));var k=M(G,B),W=((0,_.Z)(G)-(0,_.Z)(B))/1e3,T=Math.round((k-W)/60),Q;if(T<2)return g!=null&&g.includeSeconds?k<5?b.formatDistance("lessThanXSeconds",5,$):k<10?b.formatDistance("lessThanXSeconds",10,$):k<20?b.formatDistance("lessThanXSeconds",20,$):k<40?b.formatDistance("halfAMinute",0,$):k<60?b.formatDistance("lessThanXMinutes",1,$):b.formatDistance("xMinutes",1,$):T===0?b.formatDistance("lessThanXMinutes",1,$):b.formatDistance("xMinutes",T,$);if(T<45)return b.formatDistance("xMinutes",T,$);if(T<90)return b.formatDistance("aboutXHours",1,$);if(T<i){var F=Math.round(T/60);return b.formatDistance("aboutXHours",F,$)}else{if(T<h)return b.formatDistance("xDays",1,$);if(T<P){var z=Math.round(T/i);return b.formatDistance("xDays",z,$)}else if(T<N)return Q=Math.round(T/P),b.formatDistance("aboutXMonths",Q,$)}if(Q=m(G,B),Q<12){var a=Math.round(T/P);return b.formatDistance("xMonths",a,$)}else{var e=Q%12,t=Math.floor(Q/12);return e<3?b.formatDistance("aboutXYears",t,$):e<9?b.formatDistance("overXYears",t,$):b.formatDistance("almostXYears",t+1,$)}}},"./js/api/commands/user/email/accounts/index.js":function(C,E,s){"use strict";s.r(E),s.d(E,{$processors:function(){return A},changeDKIMStatus:function(){return O},changePassword:function(){return L},createAccount:function(){return p},deleteAccounts:function(){return d},getAccounts:function(){return I},getLoginsList:function(){return _},modifyAccount:function(){return M},purgeAccounts:function(){return y},suspendAccounts:function(){return m},unsuspendAccounts:function(){return S},webmailSSO:function(){return w}});var n=s("./js/api/command/index.js"),r=s("../node_modules/monet/dist/monet.js"),c=s.n(r),l=s("./js/api/converters.js");const f=i=>r.Maybe.Some(i).map(Number).filter(Number.isFinite).orSome(1/0),A={sent:i=>r.Maybe.fromNull(i).filter(h=>typeof h=="object").flatMap(({sent:h,send_limit:P})=>{try{return r.Maybe.Some({usage:f(h),limit:f(P)})}catch(N){return r.Maybe.None()}}).orSome(!1),lastChange:i=>r.Maybe.fromNull(i).map(({ip:h,when:P})=>({ip:(0,r.Identity)(h).map(l.toAppString).map(l.toAppText).get(),when:(0,r.Identity)(P).map(l.toAppDate).get()})).orSome(!1)},I=n.Z.get({id:"EMAIL_ACCOUNTS",url:"/CMD_EMAIL_POP",domain:!0,pagination:!0,params:{bytes:!0},after:i=>i.flow(i.wrap("options"),i.moveProp({"options.emails":"emails","options.EMAIL_MESSAGE":"options.email_message"}),i.mapProps({emails:i.toTable(i.mapArray(i.flow(i.moveProp({"usage.last_login":"last_login","usage.last_password_change":"last_password_change"}),i.mapProps({login:h=>h.includes("@")?h.split("@")[0]:h,is_default:(h,{login:P})=>!P.includes("@"),sent:A.sent,usage:i.mapValues(f),last_login:A.lastChange,last_password_change:A.lastChange})))),options:i.mapProps({DKIM:i.isEqual("1"),DKIM_ENABLED:i.isEqual("1"),block_cracking_unblock:i.convert.toAppNumber,clean_forwarders_on_email_delete:i.isEqual("1"),count_pop_usage:i.isEqual("1"),pop_disk_usage_cache:i.isEqual("1"),pop_disk_usage_true_bytes:i.isEqual("1"),user_can_set_email_limit:i.isEqual("1"),purge_select:i.toSelect,when_select:i.toSelect,HAVE_ONE_CLICK_WEBMAIL_LOGIN:i.convert.toAppBoolean,system_user_to_virtual_passwd:i.isEqual("1")})}))}),o=n.Z.post({url:"/CMD_EMAIL_POP",params:{action:"delete"},domain:!0}),m=o.extend({params:{suspend:!0}}),S=o.extend({params:{unsuspend:!0}}),d=o.extend({params:{delete:!0},schema:{clean_forwarders:n.Z.REQUIRED_BOOL}}),y=o.extend({params:{purge:!0},body:{file:n.Z.REQUIRED_STRING,what:n.Z.REQUIRED_STRING}}),p=n.Z.post({url:"/CMD_EMAIL_POP",params:{action:"create"},domain:!0,schema:{user:n.Z.USER,passwd2:n.Z.PASSWORD,passwd:n.Z.PASSWORD,quota:n.Z.REQUIRED_STRING,limit:n.Z.OPTIONAL_STRING},after:i=>i.mapProp("result",h=>h.replace(/(\\n)+/g,`
`))}),M=n.Z.post({url:"/CMD_EMAIL_POP",params:{action:"modify"},domain:!0,schema:{user:n.Z.USER,newuser:n.Z.USER,passwd2:n.Z.OPTIONAL_STRING,passwd:n.Z.OPTIONAL_STRING,quota:n.Z.REQUIRED_STRING,limit:n.Z.OPTIONAL_STRING}}),L=n.Z.post({url:"/CMD_CHANGE_EMAIL_PASSWORD",schema:{email:n.Z.REQUIRED_STRING,oldpassword:n.Z.REQUIRED_STRING,password1:n.Z.REQUIRED_STRING,password2:n.Z.REQUIRED_STRING}}),O=n.Z.post({url:"/CMD_EMAIL_POP",domain:!0,schema:{action:n.Z.REQUIRED_STRING},before:({action:i})=>({action:"set_dkim",[i]:!0})}),w=n.Z.post({url:"/CMD_WEBMAIL_LOGIN",notifySuccess:!1,schema:{email:n.Z.REQUIRED_STRING}}),_=n.Z.get({id:"LOGINS_LIST",url:"/CMD_EMAIL_POP",domain:!0,response:[],params:{quick:!0},mapResponse:i=>i.emails})},"./js/api/commands/user/email/usage.js":function(C,E,s){"use strict";s.d(E,{Ic:function(){return l},LP:function(){return A},Lb:function(){return f},TM:function(){return r},gN:function(){return I},zS:function(){return c}});var n=s("./js/api/command/index.js");const r=n.Z.get({id:"BLOCK_CRACKING",url:"/CMD_EMAIL_USAGE",params:{main_info:!1,sending_php_scripts:!1,block_cracking_paths:!0},domain:!0,pagination:!0,after:o=>o.flow(m=>m.block_cracking_paths?m:{block_cracking_paths:"no",block_cracking_paths_table:{info:{ipp:"10",total_pages:"1",current_page:"1",rows:"0"}}},o.moveProp({block_cracking_paths:"options.enabled",block_cracking_paths_table:"rows"}),o.processTableInfo("rows"),o.mapProps({options:o.mapProps({enabled:o.convert.toAppBoolean}),rows:o.flow(o.toArray,o.mapArray(o.flow(o.moveProp({date_blocked:"date",blocked_path:"path"}),o.mapProps({date:o.convert.toAppDate}))))}))}),c=n.Z.get({id:"SENDING_SCRIPTS",url:"/CMD_EMAIL_USAGE",params:{main_info:!1,sending_php_scripts:!0,block_cracking_paths:!1,which:"both"},domain:!0,pagination:!0,after:o=>o.flow(o.moveProp({sending_php_scripts:"rows"}),o.processTableInfo("rows"),o.mapProp("rows",o.flow(o.toArray,o.mapArray(o.flow(o.moveProp({script_name:"script",mail_line_number:"line",send_count:"send"}),o.mapProps({send:o.convert.toAppNumber,line:o.flow(o.convert.toAppString,o.convert.toAppNumber)}))))))}),l=n.Z.get({id:"EMAIL_USAGE",url:"/CMD_EMAIL_USAGE",params:{main_info:!0,sending_php_scripts:!1,block_cracking_paths:!1,which:"both"},schema:{direction:n.Z.OPTIONAL_STRING},domain:!0,pagination:!0,after:o=>o.flow(o.project({rows:"deliveries",highest:"highest"}),o.processTableInfo("rows"),o.mapProp("rows",o.mapArrayProps({time:o.convert.toAppDate,size:o.convert.toAppNumber})))}),f=n.Z.select({url:"/CMD_EMAIL_USAGE",params:{unblock:!0,action:"unblock"},domain:!0}),A=n.Z.get({id:"SMTP_LOG",url:"/CMD_EMAIL_USAGE",params:{action:"smtp_log"},schema:{user:n.Z.REQUIRED_STRING,method:n.Z.REQUIRED_STRING},domain:!0,accept:"text/plain",response:[],after:()=>o=>o.split(`
`)}),I=n.Z.get({id:"EMAIL_USAGE_ID_INFO",url:"/CMD_EMAIL_USAGE",params:{action:"id_info"},schema:{id:n.Z.REQUIRED_STRING},domain:!0,accept:"text/plain",response:[],after:()=>o=>o.split(`
`)})},"./js/api/commands/validation/index.js":function(C,E,s){"use strict";s.d(E,{i9:function(){return M},ty:function(){return y},l7:function(){return S},OE:function(){return p},ub:function(){return _},oH:function(){return I},U5:function(){return o},k_:function(){return A},PR:function(){return d},uo:function(){return w},Jj:function(){return O},rV:function(){return L}});var n=s("./js/api/command/index.js"),r=s("../node_modules/punycode/punycode.es6.js"),c=s("./js/api/commands/converters/index.ts"),l={isValid(h){return typeof h.error=="undefined"},getMessage(h){return(0,c.S8)(h.error||"")}};const f=n.Z.get({url:"/CMD_JSON_VALIDATE",schema:{value:n.Z.REQUIRED_STRING},response:{valid:!0,message:""},mapResponse:{valid:l.isValid,message:l.getMessage}}),A=f.extend({id:"VALIDATE_FORWARDER",params:{type:"forwarder",ignore_system_default:!0}}),I=f.extend({id:"VALIDATE_EMAIL",params:{type:"email",check_mailing_list:!0},schema:{check_exists:{type:Boolean,required:!1,default:!0}}}),o=f.extend({id:"VALIDATE_FTP",params:{type:"ftp"},domain:!0}),m=f.extend({params:{type:"dns"},domain:!0,schema:{record:n.Z.REQUIRED_STRING}}),S=m.extend({id:"VALIDATE_DNS_VALUE",params:{check:"value",name:!0},domain:!0,schema:{value:n.Z.REQUIRED_STRING}}),d=S.extend({id:"VALIDATE_MX_VALUE",params:{record:"MX"},before:({value:h})=>({value:"10",mx_value:h})}),y=m.extend({id:"VALIDATE_DNS_NAME",params:{check:"name",value:!0,mx_value:!0},schema:{name:n.Z.REQUIRED_STRING,value:null}}),p=f.extend({id:"VALIDATE_DATABASE",params:{type:"dbname"}}),M=f.extend({id:"VALIDATE_DATABASE_USER",params:{type:"dbusername"}}),L=f.extend({id:"VALIDATE_USERNAME",params:{type:"username"}}),O=f.extend({id:"VALIDATE_SUBDOMAIN",domain:!0,params:{type:"subdomain"}}),w=f.extend({id:"VALIDATE_PASSWORD",params:{type:"password"}}),_=f.extend({id:"VALIDATE_DOMAIN",params:{type:"domain"},before:({value:h})=>({value:r.ZP.toASCII(h)})}),i=f.extend({id:"VALIDATE_IP_RANGE_LIST",params:{type:"ip_range_list"}})},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/email/accounts/index.vue?vue&type=style&index=0&id=29d815f4&prod&lang=scss&":function(){},"./js/api/commands/converters/customItems.ts":function(C,E,s){"use strict";s.d(E,{CR:function(){return f}});var n=s("../node_modules/ramda/es/index.js"),r=s("./js/api/commands/converters/index.ts"),c=s("./js/api/commands/utils/transduce.ts"),l=s("./js/api/commands/converters/toSelectData.ts");const f=o=>{const m={name:o.name,type:o.type==="listbox"?"select":o.type,label:o.string,description:o.desc||"",value:o.type==="checkbox"?(0,r.sw)(o.checked||"no"):o.value||""};return m.type==="select"?n.BPw(m,(0,l.M1)(o.select||{})):m},A=o=>(0,c.vr)([(0,c.uD)(m=>/^item\d+val$/.test(m)),(0,c.r5)(m=>{const S=m,d=m.replace("val","txt"),y=o[S],p=o[d];return{[y]:p}})],Object.keys(o)),I=(o,m)=>n.qCK(d=>{const y={name:d.name,type:d.type==="listbox"?"select":d.type,description:d.desc||"",value:d.value||"",label:d.string};return d.type==="listbox"?(y.value=d.default,y.options=A(d)):d.type==="checkbox"&&(y.value=d.checked==="yes"),y},n.BPw({name:o}),(0,c.vr)([(0,c.r5)(d=>{const[y,p]=n.Vl2("=",d);return{[y]:p}})]),n.Vl2("&"))(m);E.ZP={fromObject:f,fromString:I}},"./js/api/commands/converters/index.ts":function(C,E,s){"use strict";s.d(E,{l$:function(){return S.ZP},t0:function(){return n.t0},S8:function(){return n.S8},ql:function(){return n.ql},sw:function(){return n.sw},Qu:function(){return n.Qu},He:function(){return n.He},M1:function(){return m.M1},sf:function(){return y},cc:function(){return o}});var n=s("./js/api/commands/converters/primitive.ts"),r=s("../node_modules/monet/dist/monet.js"),c=s("./js/api/commands/types.ts");const l=p=>typeof p=="object"?r.Either.Right(p):r.Either.Left(new Error("Passed param is not an object")),f=p=>typeof p.usage=="string"?r.Either.Right(p):r.Either.Left(new Error("usage property is required")),A=p=>({usage:(0,n.He)(p.usage),limit:(0,n.Qu)(p.limit)}),I=({usage:p,limit:M})=>{let L=c.H.Normal;const O=Math.floor(p/M*100);return O>=100?L=c.H.OverUsed:O>80&&(L=c.H.AlmostUsed),{usage:p,limit:M,status:L}},o=p=>{const M=r.Either.Right(p).flatMap(l).flatMap(f).map(A).map(I);if(M.isLeft())throw M.left();return M.right()};var m=s("./js/api/commands/converters/toSelectData.ts"),S=s("./js/api/commands/converters/customItems.ts"),d=s("../node_modules/ramda/es/index.js");const y=p=>M=>{const{info:L}=M,O=d.CEd(["info"],M);return{columns:L.columns,rowsCount:Number(L.rows),rows:d.UID(p,d.VO0(O))}}},"./js/api/commands/converters/toSelectData.ts":function(C,E,s){"use strict";s.d(E,{M1:function(){return I}});var n=s("../node_modules/monet/dist/monet.js"),r=s.n(n),c=s("./js/api/commands/utils/transduce.ts"),l=s("../node_modules/ramda/es/index.js");const f=o=>n.Maybe.Some(o).flatMap(m=>{const S=m.find(d=>d.selected==="yes");return S?n.Maybe.Some(S):n.Maybe.None()}).flatMap(m=>n.Maybe.fromNull(m.value)).orSome(""),A=(0,c.vr)([(0,c.r5)(o=>({[o.value]:o.text}))]),I=o=>{const m=(0,l.VO0)(o);return{value:f(m),options:A(m)}}},"./js/api/commands/types.ts":function(C,E,s){"use strict";s.d(E,{H:function(){return n}});var n;(function(r){r.Normal="normal",r.AlmostUsed="almost_used",r.OverUsed="overused"})(n||(n={}))},"./js/api/commands/utils/transduce.ts":function(C,E,s){"use strict";s.d(E,{Re:function(){return l},r5:function(){return r},uD:function(){return c},vr:function(){return m},zh:function(){return I}});var n=s("../node_modules/ramda/es/index.js");const r=S=>d=>(y,p)=>{const M=S(p);return d(y,M)},c=S=>d=>(y,p)=>S(p)?d(y,p):y,l=(S,d)=>(S.push(d),S),f=(S,d)=>n.BPw(S,d),A=(S,d,y,p)=>{const M=n.qCK(...y);return p.reduce(M(d),S)},I=n.WAo(A),o=I([],l),m=I({},f)},"./js/composables/dateFilter.ts":function(C,E,s){"use strict";s.d(E,{W:function(){return f},f:function(){return c.f}});var n=s("../node_modules/ramda/es/index.js"),r=s("../node_modules/date-fns/esm/format/index.js"),c=s("./js/modules/date-formats.ts"),l=s("./js/modules/customizations/date-formats/default.ts");const f=n.WAo((A,I)=>{if(I)try{return(0,r.Z)(I,c.f.value[A])}catch(o){return console.warn(`Given ${A} format is incorrect:
${o.message}`),(0,r.Z)(I,l.d[A])}return""})},"./js/composables/filters.ts":function(C,E,s){"use strict";s.d(E,{Q0:function(){return M},aS:function(){return O},d5:function(){return L},eB:function(){return d},hT:function(){return m},kC:function(){return o},n9:function(){return p},zM:function(){return S}});var n=s("../node_modules/date-fns/esm/formatDistance/index.js"),r=s("../node_modules/punycode/punycode.es6.js"),c=s("./js/composables/dateFilter.ts"),l=s("./js/composables/gettext.ts");const{$gettext:f,$ngettext:A,$gettextInterpolate:I}=(0,l.Z)(),o=_=>{var i;return _?((i=_.at(0))===null||i===void 0?void 0:i.toUpperCase())+_.slice(1):""},m=(_,i="datetime")=>(0,c.W)(i,_),S=_=>(0,n.Z)(_,new Date),d=(_,i=1024)=>{const h=Number(_);if(!h)return"0 B";const P=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],N=Math.floor(Math.log(h)/Math.log(i));return`${parseFloat((h/i**N).toFixed(2))} ${P[N]}`},y=_=>{try{return(0,r.xX)(_)}catch(i){return _}},p=_=>(0,r.xX)(_),M=_=>{if(!_||!_.includes("@"))return _;const[i,h]=_.split("@");return[i,y(h)].join("@")},L=_=>{if(_<60)return f("less than a minute");const i=Math.floor(_/60)%60,h=Math.floor(_/3600)%24,P=Math.floor(_/(3600*24)),N=[P?A("%{days} day","%{days} days",P):null,h?A("%{hours} hour","%{hours} hours",h):null,i?A("%{minutes} minute","%{minutes} minutes",i):null].filter(Boolean).join(", ");return I(N,{days:P,hours:h,minutes:i})},O=(_,i)=>_.length<=i?_:`${_.substring(0,i)}...`,w=()=>({capitalize:o,date:m,distanceFromNow:S,humanReadableSize:d,p6eUnicode:p,p6eUnicodeEmail:M,formatUptime:L,truncateString:O})},"./js/components/local/layouts/standard-2021/components/info-bar-text-item.vue":function(C,E,s){"use strict";s.d(E,{Z:function(){return A}});var n=function(){var o=this,m=o._self._c;return m("div",{staticClass:"info-bar-data-text-item"},[m("span",{staticClass:"info-bar-text-item-label"},[o._t("label")],2),o._v(" "),m("span",{staticClass:"info-bar-text-item-value"},[o._t("value")],2)])},r=[],c=s("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),l={},f=(0,c.Z)(l,n,r,!1,null,null,null),A=f.exports},"./js/pages/user/email/accounts/index.vue":function(C,E,s){"use strict";s.r(E),s.d(E,{default:function(){return z}});var n=function(){var e=this,t=e._self._c;return t("app-page",{attrs:{actions:[{label:e.$gettext("Create Account"),visible:e.$api.emails.rowsCount<e.limit,icon:"#plus-fill",handler:()=>e.$router.push("/user/email/create-account")},{label:e.$api.options.DKIM_ENABLED?e.$gettext("Disable DKIM"):e.$gettext("Enable DKIM"),visible:e.$api.options.DKIM,handler:e.toggleDKIMStatus,icon:"#settings"}]},scopedSlots:e._u([{key:"details",fn:function(){return[t("ui-infobar-item",{attrs:{title:e.$gettext("Details")}},[t("text-item",{scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Total Usage"))}})]},proxy:!0},{key:"value",fn:function(){return[e._v(`
                    `+e._s(e.humanReadableSize(e.$api.options.total_usage_bytes))+`
                `)]},proxy:!0}])}),e._v(" "),t("text-item",{scopedSlots:e._u([{key:"label",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Sends"))}})]},proxy:!0},{key:"value",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$api.options.EMAIL_SENDS)}})]},proxy:!0}])}),e._v(" "),t("ui-infobar-stats",{attrs:{limit:e.limit,usage:e.$api.emails.rowsCount,title:e.$gettext("E-mail Accounts")}})],1)]},proxy:!0},{key:"default",fn:function(){return[e.clientStore.isPhone?t("app-page-section",[t("ui-stats-summary",{attrs:{badges:[{value:e.$api.emails.rowsCount,label:e.$gettext("E-mail accounts")},{value:e.humanReadableSize(e.$api.options.total_usage_bytes),label:e.$gettext("Total Usage")},{value:e.$api.options.EMAIL_SENDS,label:e.$gettext("Sends")}]}})],1):e._e(),e._v(" "),t("app-page-section",[t("ui-api-table",e._b({ref:"table",on:{"action:suspend":e.suspendAccounts,"action:unsuspend":e.unsuspendAccounts,"action:del":function(u){e.$dialog("DELETE_ITEMS_DIALOG").open()},"action:purge":function(u){e.$dialog("PURGE_DIALOG").open()}},scopedSlots:e._u([{key:"buttons:before",fn:function(){return[!e.clientStore.isPhone&&e.$_layout!=="standard2021"?t("ui-stats-summary",{attrs:{badges:[{value:e.$api.emails.rowsCount,label:e.$gettext("E-mail accounts")},{value:e.humanReadableSize(e.$api.options.total_usage_bytes),label:e.$gettext("Total Usage")},{value:e.$api.options.EMAIL_SENDS,label:e.$gettext("Sends")}]}}):e._e()]},proxy:!0},{key:"col:login",fn:function({account:u,suspended:D,is_default:q,last_password_change:V}){return[t("span",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}],staticClass:"wrap:nowrap"},[q?t("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center"},expression:"{ cross: 'center' }"}]},[t("ui-tooltip",{scopedSlots:e._u([{key:"trigger",fn:function(){return[e._v(`
                                    `+e._s(u)+"@"+e._s(e.$domainUnicode)+`
                                `)]},proxy:!0}],null,!0)},[e._v(`
                                `+e._s(e.$gettextInterpolate(e.$gettext("Login: %{ login }"),{login:u}))+`
                            `)]),e._v(" "),t("ui-badge",{directives:[{name:"margin",rawName:"v-margin",value:[,,,1],expression:"[, , , 1]"}],attrs:{size:"small",theme:"safe"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Default"))}})]),e._v(" "),e.$api.options.system_user_to_virtual_passwd&&e.$api.options.HAVE_ONE_CLICK_WEBMAIL_LOGIN?t("ui-link",{directives:[{name:"margin",rawName:"v-margin",value:[,,,1],expression:"[, , , 1]"}],attrs:{title:e.$gettext("Sign In to Webmail")},on:{click:e.webmailSystemSSO}},[t("ui-icon",{attrs:{id:"webmail-sso",theme:"primary",size:"medium4"}})],1):e._e()],1):[t("span",[e._v(e._s(u)+"@"+e._s(e.$domainUnicode))]),e._v(" "),e.$api.options.HAVE_ONE_CLICK_WEBMAIL_LOGIN?t("ui-link",{directives:[{name:"margin",rawName:"v-margin",value:[,1,,1],expression:"[, 1, , 1]"}],attrs:{title:e.$gettext("Sign In to Webmail")},on:{click:function(H){return e.webmailSSO(u)}}},[t("ui-icon",{attrs:{id:"webmail-sso",theme:"primary",size:"medium4"}})],1):e._e()],e._v(" "),V?t("ui-tooltip",{attrs:{theme:"primary"}},[t("strong",{domProps:{textContent:e._s(e.$gettext("Last Password Change:"))}}),e._v(" "),t("span",{domProps:{textContent:e._s(e.$gettextInterpolate(e.$gettext("on %{ date } from %{ ip }"),{ip:V.ip,date:e.date(V.when,"datetime")}))}})]):e._e(),e._v(" "),D!=="no"?t("ui-tooltip",{attrs:{theme:"danger",icon:"warning"}},[D==="yes"?t("span",{domProps:{textContent:e._s(e.$gettext("Suspended"))}}):e._e(),e._v(" "),D==="no:blockcracking:change_pass"?t("span",{domProps:{textContent:e._s(e.$gettext("Blocked"))}}):e._e(),e._v(" "),D==="no:blockcracking:no_unblock"?t("span",{domProps:{textContent:e._s(e.$gettext("Blocked Permanently"))}}):e._e()]):e._e()],2)]}},{key:"col:usage",fn:function({item:u,usage:D}){return[t("ui-grid",{attrs:{main:"between"}},[t("span",[e.$api.options.pop_disk_usage_true_bytes?[e._v(`
                                `+e._s(e.humanReadableSize(D.apparent_usage))+`
                            `)]:[e._v(`
                                `+e._s(e.humanReadableSize(D.usage))+`
                            `)],e._v(" "),D.quota!==1/0&&e.$_useStore("user").name!==u.login?[e._v(`
                                / `+e._s(e.humanReadableSize(D.quota))+`
                            `)]:e._e()],2),e._v(" "),D.apparent_usage||D.imap_bytes||D.webmail_bytes?t("ui-tooltip",{attrs:{theme:"primary"}},[D.apparent_usage?t("div",[t("strong",{domProps:{textContent:e._s(e.$gettext("Apparent Usage:"))}}),e._v(`
                                `+e._s(e.humanReadableSize(D.apparent_usage))+`
                            `)]):e._e(),e._v(" "),D.imap_bytes?t("div",[t("strong",{domProps:{textContent:e._s(e.$gettext("IMAP:"))}}),e._v(`
                                `+e._s(e.humanReadableSize(D.imap_bytes))+`
                            `)]):e._e(),e._v(" "),D.webmail_bytes?t("div",[t("strong",{domProps:{textContent:e._s(e.$gettext("Webmail:"))}}),e._v(`
                                `+e._s(e.humanReadableSize(D.webmail_bytes))+`
                            `)]):e._e()]):e._e()],1)]}},{key:"col:sent",fn:function({sent:u}){return[u?[u.limit!==1/0&&u.limit>e.userLimit?t("ui-tooltip",{scopedSlots:e._u([{key:"trigger",fn:function(){return[e._v(`
                                `+e._s(u.usage)+" / "+e._s(e.userLimit)+`
                            `)]},proxy:!0}],null,!0)},[e._v(`
                            `+e._s(e.$gettextInterpolate(e.$gettext("The email limit is %{ limit }, but the User limit is %{override}, hence it is limited to %{override}."),{limit:u.limit,override:e.userLimit}))+`
                        `)]):[e._v(`
                            `+e._s(u.usage)+` /
                            `),u.limit===1/0?t("span",{domProps:{textContent:e._s(e.$gettext("Unlimited"))}}):[e._v(`
                                `+e._s(u.limit)+`
                            `)]]]:t("span")]}},{key:"col:smtplog",fn:function({login:u}){return[t("ui-link",{on:{click:function(D){return e.showLog(u,"incoming")}}},[t("span",{domProps:{textContent:e._s(e.$gettext("In"))}})]),e._v(`
                    \u21C4
                    `),t("ui-link",{on:{click:function(D){return e.showLog(u,"outgoing")}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Out"))}})])]}},{key:"row:actions",fn:function({item:u}){return[e.hasActions(u)?t("ui-actions",{attrs:{position:"left"}},[e.$_useStore("user").name===u.account?[e.$_cmd("/CMD_PASSWD")?t("ui-link",{attrs:{name:"user/password"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Change Password"))}})]):e._e()]:[t("ui-link",{on:{click:function(D){e.modifyAccount=u.account,e.$dialog("MODIFY_ACCOUNT_DIALOG").open()}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Change Password/Username"))}})]),e._v(" "),t("ui-link",{on:{click:function(D){e.modifyAccount=u.account,e.$dialog("MODIFY_ACCOUNT_QUOTA_DIALOG").open()}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Change Limits"))}})])],e._v(" "),e.$_cmd("/api/email-config")?t("ui-link",{on:{click:function(D){return e.downloadAppleConfigurationProfile(u)}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Dowload Apple iOS, iPadOS, Mac Configuration"))}})]):e._e()],2):e._e()]}}]),model:{value:e.select,callback:function(u){e.select=u},expression:"select"}},"ui-api-table",{command:e.$commands.getAccounts,property:"emails",rowID:"login",columns:{account:{label:e.$gettext("Account"),visible:!1},login:{label:e.$gettext("Account"),grow:!0},usage:e.$gettext("Usage"),sent:{label:e.$gettext("Sent"),hide:!e.$api.options.user_can_set_email_limit},smtplog:e.$gettext("SMTP Log")},rowsMapper:e.setLimitForARow,actions:{suspend:{label:e.$gettext("Suspend"),disabled:e.select.includes(e.$_useStore("user").name)},unsuspend:{label:e.$gettext("Unsuspend"),disabled:e.select.includes(e.$_useStore("user").name)},del:{label:e.$gettext("Delete"),disabled:e.select.includes(e.$_useStore("user").name)},purge:e.$gettext("Purge")},filters:e.filters},!1)),e._v(" "),e.hasOverride?t("span",{domProps:{textContent:e._s(e.$gettextInterpolate(e.$gettext("The send limit for %{ username } is %{limit} which overrides per-email limits"),{username:e.$_useStore("user").name,limit:e.userLimit}))}}):e._e()],1),e._v(" "),t("ui-dialog-delete-items",{attrs:{subject:e.$ngettext("account","accounts",e.select.length)},on:{"click:confirm":e.deleteAccounts}},[t("ui-form-element",{attrs:{underline:!1,"path-segment":"changelog/version-1.43.0.html#ability-to-clear-forwarder-values-when-deleting-emails",vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("input-checkbox",{model:{value:e.cleanForwarders,callback:function(u){e.cleanForwarders=u},expression:"cleanForwarders"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Clean Forwarders"))}})])]},proxy:!0}])})],1),e._v(" "),t("purge-folder-dialog",e._b({on:{requestReload:e.$reloadApiTable}},"purge-folder-dialog",{select:e.select},!1)),e._v(" "),t("modify-account-dialog",{attrs:{account:e.modifyAccount},on:{reload:e.$reloadApiTable}}),e._v(" "),t("modify-account-quota-dialog",{attrs:{account:e.modifyAccount},on:{reload:e.$reloadApiTable}}),e._v(" "),t("show-smtp-log-dialog")]},proxy:!0},{key:"footer:text",fn:function(){return[e.$api.options.email_message?t("div",{domProps:{innerHTML:e._s(e.$api.options.email_message)}}):e._e()]},proxy:!0},{key:"bottom:links",fn:function(){return[e.email?t("ui-link",{attrs:{name:"user/email/accounts",bullet:""}},[t("span",{domProps:{textContent:e._s(e.$gettext("Show all accounts"))}})]):e._e(),e._v(" "),t("ui-link",{attrs:{name:"user/email/usage",bullet:""}},[t("span",{domProps:{textContent:e._s(e.$gettext("E-mail Usage"))}})])]},proxy:!0}])})},r=[],c=s("./js/stores/index.ts"),l=s("./js/api/commands/user/email/accounts/index.js"),f=s("./js/vue-globals/helpers.js"),A=s("./js/context/index.ts"),I=s("./js/api/commands/user/email/usage.js"),o=function(){var e=this,t=e._self._c;return t("ui-dialog",{attrs:{id:"PURGE_DIALOG",theme:"primary",title:e.$gettext("Purge Folder")},scopedSlots:e._u([{key:"content",fn:function(){return[t("ui-form-element",{attrs:{validators:{required:!0}},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Folder:"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-select",{attrs:{options:e.$api.folders},model:{value:e.folder,callback:function(u){e.folder=u},expression:"folder"}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{validators:{required:!0},underline:!1},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Period:"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-select",{attrs:{options:e.$api.periods},model:{value:e.period,callback:function(u){e.period=u},expression:"period"}})]},proxy:!0}])})]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{"validate-group":"default",theme:"primary"},on:{click:e.purgeFile}},[t("span",{domProps:{textContent:e._s(e.$gettext("Purge"))}})])]},proxy:!0}])})},m=[],S={props:{select:{type:Array,required:!0,default:()=>[]}},data:()=>({folder:"spambox",period:"all"}),api:[{command:l.getAccounts,bind:{"response.options.purge_select.options":"folders","response.options.when_select.options":"periods"}}],methods:{async purgeFile(){await(0,l.purgeAccounts)({file:this.folder,what:this.period,select:this.select}),this.$emit("requestReload")}}},d=S,y=s("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),p=(0,y.Z)(d,o,m,!1,null,null,null),M=p.exports,L=function(){var e=this,t=e._self._c;return t("ui-dialog",{attrs:{id:"MODIFY_ACCOUNT_DIALOG",size:"normal",title:e.$gettext("Change Password/Username")},on:{"dialog:open":e.initData},scopedSlots:e._u([{key:"content",fn:function(){return[t("ui-form-element",{attrs:{group:"modifyAccount",vertical:"",validators:{required:!0,validateUser:e.validateUser}},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Username"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{suffix:`@${e.$domainUnicode}`},model:{value:e.username,callback:function(u){e.username=u},expression:"username"}})]},proxy:!0},{key:"error:validateUser",fn:function(){return[t("span",{domProps:{innerHTML:e._s(e.$api.emailValidation.message)}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{group:"modifyAccount",validators:{required:!0,api:e.$commands.validatePassword},vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Password"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-password",{attrs:{"show-generator":""},model:{value:e.password,callback:function(u){e.password=u},expression:"password"}})]},proxy:!0}])})]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"primary","validate-group":"modifyAccount"},on:{click:e.modifyAccount}},[t("span",{domProps:{textContent:e._s(e.$gettext("Save"))}})])]},proxy:!0}])})},O=[],w=s("./js/api/commands/validation/index.js"),_={api:[{command:l.getAccounts,bind:{"response.emails.rows":"accounts","response.options":"options"}},{command:w.oH,bind:"emailValidation"}],commands:{validatePassword:w.uo},props:{account:{type:String,required:!0}},data:()=>({username:"",password:""}),computed:{user(){return this.$api.accounts.find(({account:a})=>a===this.account)},options(){return this.$api.options},limit(){if(!this.options.user_can_set_email_limit)return null;const{limit:a=1/0}=this.user.sent||{};return a!==1/0?a.toString():this.options.GLOBAL_PER_EMAIL_LIMIT.toString()},quota(){return this.user.usage.quota===1/0?"0":Math.floor(this.user.usage.quota/1048576).toString()}},methods:{initData(){this.username=this.$p6e.toU(this.user.login)},async modifyAccount(){const a=this.$p6e.toA(this.username);this.username!==a&&this.$notifications.info({title:this.$gettext("Username punycoded"),content:this.$gettext("Username has been automatically converted to punycode format. Punycode is used to encode internationalized domain names (IDN) by converting Unicode characters to ASCII.")}),await(0,l.modifyAccount)({user:this.user.login,newuser:a,passwd:this.password,passwd2:this.password,quota:this.quota,limit:this.limit}),Object.assign(this.$data,this.$options.data.apply(this)),this.$emit("reload")},async validateUser(a){if(!a||a===this.user.login)return!0;const{valid:e}=await(0,w.oH)({value:`${this.$p6e.toA(a)}@${this.$domain}`});return e}}},i=_,h=(0,y.Z)(i,L,O,!1,null,null,null),P=h.exports,N=function(){var e=this,t=e._self._c;return t("ui-dialog",{attrs:{id:"MODIFY_ACCOUNT_QUOTA_DIALOG",size:"normal",title:e.$gettext("Change Limit/Quota")},on:{"dialog:open":e.initData},scopedSlots:e._u([{key:"content",fn:function(){return[t("ui-form-element",{attrs:{group:"modifyAccountQuota",validators:{validateQuotaRequired:e.validateQuotaRequired,validateQuota:e.validateQuota,notEqual:"0"},vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("E-mail Quota (MB)"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{value:e.quotaUnlimited?"":e.quota,number:"",disabled:e.quotaUnlimited},on:{input:function(u){e.quota=u}},scopedSlots:e._u([{key:"additions:right",fn:function(){return[e.showUnlimitedQuotaCheckbox?t("ui-button",{on:{click:e.toggleQuota}},[t("input-checkbox",{attrs:{model:e.quotaUnlimited}},[t("span",{domProps:{textContent:e._s(e.$gettext("Max"))}})])],1):e._e()]},proxy:!0}])})]},proxy:!0},{key:"error:validateQuotaRequired",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Required field"))}})]},proxy:!0},{key:"error:validateQuota",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Quota can't be larger than 100TB"))}})]},proxy:!0},{key:"error:notEqual",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Should be larger than zero"))}})]},proxy:!0}])}),e._v(" "),e.$api.setLimit?t("ui-form-element",{attrs:{group:"modifyAccountQuota",validators:{validateLimitRequired:e.validateLimitRequired,validateLimit:e.validateLimit,validateUnlimited:e.validateUnlimited},vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Daily Send Limit"))}})]},proxy:!0},e.maxLimit!=="0"?{key:"tooltip",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettextInterpolate(e.$gettext("Blank will default to %{ limit }"),{limit:e.maxLimit}))}})]},proxy:!0}:{key:"tooltip",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Blank will default to unlimited"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{number:"",value:e.limitUnlimited?"":e.limit,placeholder:e.maxLimit==="0"?"":e.maxLimit,disabled:e.limitUnlimited},on:{input:function(u){e.limit=u}},scopedSlots:e._u([{key:"additions:right",fn:function(){return[t("ui-button",{attrs:{disabled:!e.canSetUnlimited},on:{click:e.toggleLimit}},[t("input-checkbox",{attrs:{model:e.limitUnlimited}},[t("span",{domProps:{textContent:e._s(e.$gettext("Max"))}})])],1)]},proxy:!0}],null,!1,588535979)})]},proxy:!0},{key:"error:validateLimitRequired",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Required field"))}})]},proxy:!0},{key:"error:validateLimit",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettextInterpolate(e.$gettext("Limit can't be larger than %{ limit }"),{limit:e.maxLimit}))}})]},proxy:!0},{key:"error:validateUnlimited",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Limit should be larger than 0"))}})]},proxy:!0}],null,!0)}):e._e()]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"primary","validate-group":"modifyAccountQuota"},on:{click:e.modifyAccount}},[t("span",{domProps:{textContent:e._s(e.$gettext("Save"))}})])]},proxy:!0}])})},K=[],x={api:[{command:l.getAccounts,bind:{"response.options.user_can_set_email_limit":"setLimit","response.options.GLOBAL_PER_EMAIL_LIMIT":"globalSendLimit","response.options.DEFAULT_POP_QUOTA":"defaultQuota","response.options.MAX_PER_EMAIL_SEND_LIMIT":"maxPerEmailSendLimit","response.emails.rows":"accounts","response.options.user_email_quota_max":"emailQuotaMax"}}],props:{account:{type:String,required:!0}},data:()=>({quota:"0",limit:"",limitUnlimited:!1,quotaUnlimited:!1}),computed:{user(){return this.$api.accounts.find(a=>a.account===this.account)},canSetUnlimited(){return this.maxLimit==="0"},maxLimit(){return this.$api.maxPerEmailSendLimit==="-1"?this.$api.globalSendLimit:this.$api.maxPerEmailSendLimit},showUnlimitedQuotaCheckbox(){return this.$api.emailQuotaMax==="0"||this.$api.emailQuotaMax==="-1"||typeof this.$api.emailQuotaMax=="undefined"}},watch:{quotaUnlimited:"revalidate",limitUnlimited:"revalidate"},methods:{revalidate(){(0,c.oR)(PiniaStores.VALIDATION).revalidateGroup("modifyAccountQuota")},initData(){this.$api.setLimit&&(this.limit=this.user.sent.limit===1/0?"0":this.user.sent.limit.toString()||this.$api.globalSendLimit,this.limitUnlimited=this.limit==="0",this.limitUnlimited&&!this.canSetUnlimited&&(this.limitUnlimited=!1,this.limit=this.$api.globalSendLimit)),this.quota=this.user.usage.quota===1/0?"0":String(this.user.usage.quota/(1024*1024)),this.quotaUnlimited=this.quota==="0"},async modifyAccount(){await(0,l.modifyAccount)({user:this.user.login,newuser:this.user.login,passwd:"",passwd2:"",quota:this.quota||"0",limit:this.limit||this.maxLimit}),Object.assign(this.$data,this.$options.data.apply(this)),this.$emit("reload")},toggleLimit(){this.limitUnlimited=!this.limitUnlimited,this.limit=this.limitUnlimited?"0":""},toggleQuota(){const a=this.$api.defaultQuota==="0"?"":this.$api.defaultQuota;this.quotaUnlimited=!this.quotaUnlimited,this.quota=this.quotaUnlimited?"0":a},validateQuota(a){return a?Number(a)<=100*2**20:!0},validateQuotaRequired(a){return this.quotaUnlimited?!0:!!a},validateUnlimited(a){return!a||this.limitUnlimited?!0:Number(a)},validateLimit(a){return this.maxLimit==="0"?!0:Number(a||0)<=Number(this.maxLimit)},validateLimitRequired(a){return this.limitUnlimited?!0:!!a}}},v=x,g=(0,y.Z)(v,N,K,!1,null,null,null),R=g.exports,U=function(){var e=this,t=e._self._c;return t("ui-dialog",{attrs:{id:"SHOW_SMTP_LOG_DIALOG",size:"normal",expandable:"",title:e.$gettext("SMTP Log")},scopedSlots:e._u([{key:"content",fn:function(){return[t("ui-pre",{style:{minHeight:"10rem"},attrs:{"content-lines":e.log}})]},proxy:!0}])})},j=[],b={api:[{command:I.LP,bind:"log"}],computed:{log(){return this.$api.log}}},Z=b,$=(0,y.Z)(Z,U,j,!1,null,null,null),B=$.exports,G=s("./js/components/local/layouts/standard-2021/components/info-bar-text-item.vue"),k=s("./js/composables/filters.ts"),W={name:"EmailAccounts",preload:async a=>{if(a.email){const[e,t]=a.email.split("@");A.T.session.setDomain(t),a.comparison1="equals",a.value1=e,delete a.email}await l.getAccounts(a)},api:[{command:l.getAccounts,bind:{"response.emails":"emails","response.options":"options"}}],commands:l,components:{PurgeFolderDialog:M,ModifyAccountDialog:P,ModifyAccountQuotaDialog:R,ShowSmtpLogDialog:B,TextItem:G.Z},props:{email:{type:String,required:!1,default:""}},data(){return{select:[],cleanForwarders:!0,modifyAccount:""}},computed:{hasActions(){return a=>this.$_useStore("user").name===a.account?this.$_cmd("/CMD_PASSWD")||this.$_cmd("/api/email-config"):!0},userLimit(){return Number(this.$api.options.USER_EMAIL_SEND_LIMIT)||1/0},hasOverride(){return this.$api.emails.rows.some(a=>a.sent&&this.getSent(a.sent).limit>this.userLimit)},limit(){return this.$_session.usage.emailAccounts.limit},filters(){if(this.email){const[a]=this.email.split("@");return[{column:"account",type:"equals",value:a}]}return[]},...(0,c.Kc)(["client"])},watch:{email(a){const e=a.split("@").pop();e!==this.$domain&&this.$_ctx.session.setDomain(e)},$domain(){this.$refs.table.reloadTable()}},methods:{date:k.hT,humanReadableSize:k.eB,async showLog(a,e){await(0,I.LP)({user:a,method:e}),this.$dialog("SHOW_SMTP_LOG_DIALOG").open()},downloadAppleConfigurationProfile(a){const e=`${a.account}@${this.$domain}`;window.location.href=`/api/email-config/mobileconfig?email=${e}`},suspendAccounts(){l.suspendAccounts({select:this.select}).then(this.$reloadApiTable)},unsuspendAccounts(){l.unsuspendAccounts({select:this.select}).then(this.$reloadApiTable)},deleteAccounts(){l.deleteAccounts({select:this.select,clean_forwarders:this.cleanForwarders}).then(this.$reloadApiTable)},getSent({usage:a,limit:e}){return e!==1/0?{usage:a,limit:e}:this.$api.options.USER_EMAIL_SEND_LIMIT!=="0"?{usage:a,limit:Number(this.$api.options.USER_EMAIL_SEND_LIMIT)}:{usage:a,limit:1/0}},setLimitForARow(a){return a.sent?{...a,sent:this.getSent(a.sent)}:a},toggleDKIMStatus(){const a=this.$api.options.DKIM_ENABLED?"disable":"enable";l.changeDKIMStatus({action:a}).then(this.$reloadApiTable)},async webmailSSO(a){const e=this.$_session.webmailLink;if(e==="roundcube"){const t=await l.webmailSSO({email:`${a}@${this.$domain}`});t.success==="yes"&&(0,f.YQ)(`${t.url}?token=${t.token}`)}else{const t=this.$gettext("Cannot Execute Your Request"),u=this.$gettextInterpolate(this.$gettext("One-Click login requires does not support webmail_link=%{ webmail_link }. Try webmail_link=roundcube"),{webmail_link:e});this.$notifications.error({title:t,content:u,extended:!0})}},webmailSystemSSO(){this.webmailSSO(this.$_useStore("user").name)}}},T=W,Q=s("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/email/accounts/index.vue?vue&type=style&index=0&id=29d815f4&prod&lang=scss&"),F=(0,y.Z)(T,n,r,!1,null,null,null),z=F.exports},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/email/accounts/index.vue?vue&type=style&index=0&id=29d815f4&prod&lang=scss&":function(C,E,s){var n=s("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/email/accounts/index.vue?vue&type=style&index=0&id=29d815f4&prod&lang=scss&");n.__esModule&&(n=n.default),typeof n=="string"&&(n=[[C.id,n,""]]),n.locals&&(C.exports=n.locals);var r=s("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,c=r("fb0aad5e",n,!0,{})}}]);
