(self.webpackChunk=self.webpackChunk||[]).push([[8072,8952],{"./js/api/commands/admin/backups/index.js":function(E,d,o){"use strict";o.d(d,{dh:function(){return K},hd:function(){return k},LR:function(){return v},jF:function(){return M},ld:function(){return g},yf:function(){return w},pI:function(){return S},v6:function(){return O},Fi:function(){return C},pZ:function(){return G},dO:function(){return Z},jB:function(){return b},Oo:function(){return W},pi:function(){return $},Pd:function(){return Q},fz:function(){return x},VP:function(){return B}});var e=o("./js/api/command/index.js"),n=o("./js/api/commands/reseller/backup.js"),a=o("../node_modules/monet/dist/monet.js"),c=o("./js/modules/utils/index.js");const l=(t,i)=>a.Maybe.fromNull(t).filter(T=>typeof T=="object").flatMap(T=>a.Maybe.fromNull(T[i]));var u={location:t=>l(t,"files_location").map(i=>c.fp.convert.toAppString(i)).orSome(""),filesList:t=>l(t,"files").map(i=>(delete i.info,Object.values(i).map(({file:T,info:D})=>{const j={file:T};return D.issues&&D.issues.length&&(j.issues=D.issues),D.hide_checkbox==="yes"&&(j.disabled=!0),j}))).orSome([])},_=o("../node_modules/ramda/es/index.js"),h=o("./js/api/commands/converters/index.ts");const p=t=>t.settings.allow_backup_encryption==="yes",I=t=>R.map(toAppHtml,t.file_issues),m=t=>{const i=R.omit(["info"],t.files);return R.map(R.prop("file"),i)},N=t=>t.who.skip_suspended==="yes",A=t=>t.data_list,L=t=>R.pipe(R.omit(["info"]),R.values)(t.who.users).reduce((T,{user:D,type:j})=>({...T,[D]:j||"User"}),{}),s=t=>{const i={local_ns:t.settings.local_ns==="yes",message:t.settings.message==="yes",confirm_with_domainowners:t.settings.confirm_with_domainowners==="yes",restore_spf:t.settings.restore_spf==="yes"};return t.settings.directadmin_conf&&(i.directadmin_conf=_.zGw(_.eiS(["backup_ftp_pre_test","backup_ftp_md5","allow_backup_encryption","restore_database_as_admin","tally_after_restore","backup_hard_link_check","strict_backup_permissions","webmail_backup_is_email_data"]),_.UID(_.zGw(_.vgT("value"),_.fS0("1"))))(t.settings.directadmin_conf)),i},r=(t,i)=>e.Z.get({url:"/CMD_ADMIN_BACKUP",id:t,...i}),O=n.v6.extend({url:"/CMD_ADMIN_BACKUP"}),g=r("ADMIN_CRONS",{after:t=>i=>{const D=t.flow(t.getProp("crons"),t.toTable(t.mapArrayProps({where:t.flow(t.moveProp("encryption_password","encrypted"),t.mapProps({encrypted:t.flow(t.setDefault("0"),t.isEqual("1")),path:j=>j.replace("<span class='green_lock'>&#128274;</span>","").trim()}))})))(i);return D.has_reseller_level_backups=i.has_reseller_level_backups==="1",D}}),S=r("ADMIN_CURRENT_BACKUPS",{after:t=>t.flow(t.getProp("current_backups"),t.toTable(t.mapArray(t.flow(t.deleteProp("details"),t.mapProps({progress:i=>Number(i.slice(0,-1)),where:i=>({encrypted:i.includes("<span class='green_lock'>&#128274;</span>"),path:i.replace("<span class='green_lock'>&#128274;</span> ","")})}))))),silent:!0}),w=r("ADMIN_CURRENT_BACKUP",{params:{action:"monitor"},schema:{pid:e.Z.REQUIRED_STRING},after:t=>t.flow(t.getProp("backup_info.0"),t.mapProps({start:t.convert.toAppDate,where:i=>({encrypted:i.includes("<span class='green_lock'>&#128274;</span>"),path:i.replace("<span class='green_lock'>&#128274;</span> ","")})}))}),v=r("ADMIN_BACKUP_SETTINGS",{mapResponse:s}),Z=r("ADMIN_SCHEDULE_OPTIONS",{after:t=>t.flow(t.project({who:"who.who","whoData.users":"data_list","whoData.skip_suspended":"who.skip_suspended",where:"where","whereData.append_to_path":"settings.append_to_path","whereData.ftp_ip":"settings.ftp_ip","whereData.ftp_username":"settings.ftp_username","whereData.ftp_password":"settings.ftp_password","whereData.ftp_path":"settings.ftp_path","whereData.ftp_port":"settings.ftp_port","whereData.ftp_secure":"settings.ftp_secure","whereData.local_path":"settings.local_path",appendOptions:"append_to_path",usertypes:"who.users"}),t.mapProps({whoData:t.mapProps({skip_suspended:t.convert.toAppBoolean}),whereData:t.mapProps({ftp_secure:t.convert.toAppBoolean}),appendOptions:t.transformObject(({value:i,text:T})=>({[i]:T})),usertypes:t.flow(t.deleteProp("info"),t.transformObject(({user:i,type:T})=>({[i]:T.toLowerCase()||"user"})))}))}),G=r("ADMIN_RESTORE_OPTIONS",{after:t=>t.flow(t.project({where:"where",data_list:"data_list","whereData.ftp_ip":"settings.ftp_ip","whereData.ftp_username":"settings.ftp_username","whereData.ftp_password":"settings.ftp_password","whereData.ftp_path":"settings.ftp_path","whereData.ftp_port":"settings.ftp_port","whereData.ftp_secure":"settings.ftp_secure","whereData.local_path":"settings.local_path",ips:"ip_list","filesData.list":"files","filesData.location":"files_location","filesData.home_override":"create_user_home_override"}),t.mapProps({whereData:t.mapProps({ftp_secure:t.convert.toAppBoolean}),ips:t.toSelect,filesData:t.mapProps({list:t.flow(t.deleteProp("info"),t.toArray,t.mapArray(({file:i,info:T})=>{const D={file:i};return T.issues&&T.issues.length&&(D.issues=T.issues),T.hide_checkbox==="yes"&&(D.disabled=!0),D})),home_override:i=>i?t.toSelect(i):!1})}))}),C=e.Z.post({id:"ADMIN_RESTORE_FILES",url:"/CMD_ADMIN_BACKUP",params:{action:"update_files",json:!0},schema:{where:e.Z.REQUIRED_STRING,ftp_ip:e.Z.OPTIONAL_STRING,ftp_username:e.Z.OPTIONAL_STRING,ftp_password:e.Z.OPTIONAL_STRING,ftp_path:e.Z.OPTIONAL_STRING,ftp_port:e.Z.OPTIONAL_STRING,ftp_secure:e.Z.OPTIONAL_STRING,local_path:e.Z.OPTIONAL_STRING},mapResponse:{location:u.location,list:u.filesList},notifySuccess:!1}),M=e.Z.get({id:"ADMIN_CRON_DETAILS",url:"/CMD_ADMIN_BACKUP_MODIFY",schema:{id:e.Z.REQUIRED_STRING},after:t=>t.flow(t.project({who:"who.who","whoData.users":"data_list","whoData.select":"who.users","whoData.skip_suspended":"who.skip_suspended",where:"where","whereData.append_to_path":"append_to_path","whereData.ftp_ip":"settings.ftp_ip","whereData.ftp_username":"settings.ftp_username","whereData.ftp_password":"settings.ftp_password","whereData.ftp_path":"settings.ftp_path","whereData.ftp_port":"settings.ftp_port","whereData.ftp_secure":"settings.ftp_secure","whereData.local_path":"settings.local_path","whereData.custom_append":"append_to_path.custom_append",whenData:"when",what:"what.what","whatData.select":"what.select",appendOptions:"append_to_path",usertypes:"who.users"}),t.mapProps({whoData:t.mapProps({skip_suspended:t.convert.toAppBoolean,select:t.flow(t.toArray,i=>i.filter(T=>T.checkbox==="checked"),t.mapArray(t.getProp("user")))}),whereData:t.mapProps({ftp_secure:t.convert.toAppBoolean,append_to_path:t.flow(i=>Object.values(i).find(T=>T.selected),t.getProp("value"))}),appendOptions:t.transformObject(({value:i,text:T})=>({[i]:T})),usertypes:t.flow(t.deleteProp("info"),t.transformObject(({user:i,type:T})=>({[i]:T.toLowerCase()||"user"})))}))}),y=t=>e.Z.post({url:"/CMD_ADMIN_BACKUP",...t}),b=y({params:{action:"kill",kill:!0},schema:{select:e.Z.ROWS}}),B=y({url:"/CMD_ADMIN_BACKUP",params:{action:"setting"},schema:{message:e.Z.REQUIRED_BOOL,local_ns:e.Z.REQUIRED_BOOL,restore_spf:e.Z.REQUIRED_BOOL,confirm_with_domainowners:e.Z.REQUIRED_BOOL},before:t=>({...t,message:t.message||null,local_ns:t.local_ns||null,restore_spf:t.restore_spf||null,confirm_with_domainowners:t.confirm_with_domainowners||null})}),x=y({params:{action:"create",form_version:"4"},schema:{who:e.Z.REQUIRED_STRING,select:{type:Array,required:!1},skip_suspended:e.Z.OPTIONAL_BOOL,when:e.Z.REQUIRED_STRING,minute:e.Z.OPTIONAL_STRING,hour:e.Z.OPTIONAL_STRING,dayofmonth:e.Z.OPTIONAL_STRING,month:e.Z.OPTIONAL_STRING,dayofweek:e.Z.OPTIONAL_STRING,where:e.Z.REQUIRED_STRING,ftp_ip:e.Z.OPTIONAL_STRING,ftp_username:e.Z.OPTIONAL_STRING,ftp_password:e.Z.OPTIONAL_STRING,ftp_path:e.Z.OPTIONAL_STRING,ftp_port:e.Z.OPTIONAL_STRING,ftp_secure:e.Z.OPTIONAL_STRING,append_to_path:e.Z.OPTIONAL_STRING,custom_append:e.Z.OPTIONAL_STRING,what:e.Z.REQUIRED_STRING,option:{type:Array,required:!1}}}),$=y({params:{action:"restore"},schema:{where:e.Z.REQUIRED_STRING,ftp_ip:e.Z.OPTIONAL_STRING,ftp_username:e.Z.OPTIONAL_STRING,ftp_password:e.Z.OPTIONAL_STRING,ftp_path:e.Z.OPTIONAL_STRING,ftp_port:e.Z.OPTIONAL_STRING,ftp_secure:e.Z.OPTIONAL_STRING,local_path:e.Z.OPTIONAL_STRING,ip_choice:e.Z.REQUIRED_STRING,ip:e.Z.OPTIONAL_STRING,select:{type:Array,required:!0},reseller_override:e.Z.OPTIONAL_STRING}}),U=t=>e.Z.select({url:"/CMD_ADMIN_BACKUP",params:{[t]:!0}}),k=U("duplicate"),K=U("delete"),Q=U("run"),W=y({params:{action:"modify",form_version:"4"},schema:{id:e.Z.REQUIRED_STRING,who:e.Z.REQUIRED_STRING,select:{type:Array,required:!1},skip_suspended:e.Z.OPTIONAL_BOOL,minute:e.Z.OPTIONAL_STRING,hour:e.Z.OPTIONAL_STRING,dayofmonth:e.Z.OPTIONAL_STRING,month:e.Z.OPTIONAL_STRING,dayofweek:e.Z.OPTIONAL_STRING,where:e.Z.REQUIRED_STRING,ftp_ip:e.Z.OPTIONAL_STRING,ftp_username:e.Z.OPTIONAL_STRING,ftp_password:e.Z.OPTIONAL_STRING,ftp_path:e.Z.OPTIONAL_STRING,ftp_port:e.Z.OPTIONAL_STRING,ftp_secure:e.Z.OPTIONAL_STRING,append_to_path:e.Z.OPTIONAL_STRING,custom_append:e.Z.OPTIONAL_STRING,what:e.Z.REQUIRED_STRING,option:{type:Array,required:!1}}})},"./js/api/commands/reseller/backup.js":function(E,d,o){"use strict";o.d(d,{Fi:function(){return m},Gw:function(){return _},Q0:function(){return L},VP:function(){return u},dO:function(){return h},dh:function(){return P},fz:function(){return I},hd:function(){return f},ld:function(){return a},o7:function(){return A},pZ:function(){return p},pi:function(){return N},v6:function(){return l}});var e=o("./js/api/command/index.js");const n="/CMD_USER_BACKUP",a=e.Z.get({id:"USER_BACKUPS",url:n,after:s=>s.flow(r=>({rows:r.crons,location:r.files_location}),s.processTableInfo("rows"),s.mapProps({rows:s.flow(s.toArray,s.mapArrayProps({where:s.flow(s.moveProp("encryption_password","encrypted"),s.mapProps({encrypted:s.flow(s.setDefault("0"),s.isEqual("1")),path:r=>r.replace("<span class='green_lock'>&#128274;</span>","").trim()}))}))}))}),c=e.Z.get({id:"HAS_USER_BACKUPS",url:n,response:!1,mapResponse:s=>s.crons.length!==0}),l=e.Z.get({id:"BACKUP_ENCRYPTION_STATUS",url:n,after:s=>s.flow(s.project({enabled:"settings.allow_backup_encryption",password:"settings.encryption_password"}),s.mapProp("enabled",s.convert.toAppBoolean))}),f=e.Z.select({url:n,params:{duplicate:!0}}),P=e.Z.select({url:n,params:{delete:!0}}),u=e.Z.post({url:n,params:{action:"setting"},schema:{message:e.Z.REQUIRED_BOOL,local_ns:e.Z.REQUIRED_BOOL,restore_spf:e.Z.REQUIRED_BOOL}}),_=e.Z.get({id:"USER_BACKUP_SETTINGS",url:n,after:s=>s.flow(s.project({local_ns:"settings.local_ns",message:"settings.message",restore_spf:"settings.restore_spf"}),s.mapValues(s.convert.toAppBoolean))}),h=e.Z.get({id:"USER_BACKUP_SCHEDULE_OPTIONS",url:n,after:s=>s.flow(s.project({settings:"settings","settings.append":"append_to_path",where:"where",users:"users",location:"files_location"}),s.mapProps({users:s.flow(s.deleteProp("info"),s.toArray,s.mapArray(s.getProp("user"))),settings:s.flow(s.project({ip:"ftp_ip",password:"ftp_password",path:"ftp_path",port:"ftp_port",secure:"ftp_secure",username:"ftp_username",append:"append"}),s.mapProps({secure:s.convert.toAppBoolean,append:r=>{const O=Object.values(r),g=O.find(v=>v.selected),S=(v,Z)=>({...v,[Z.value]:Z.text}),w=O.reduce(S,{});return{value:g.value,options:w}}}))}))}),p=e.Z.get({id:"USER_BACKUP_RESTORE_OPTIONS",url:n,after:s=>s.flow(s.project({settings:"settings",where:"where",location:"files_location",ips:"ip_list",files:"files"}),s.mapProps({files:s.flow(s.deleteProp("info"),s.toArray),settings:s.flow(s.getProps(["ftp_ip","ftp_password","ftp_path","ftp_port","ftp_secure","ftp_username"]),s.mapProps({ftp_secure:s.convert.toAppBoolean})),ips:r=>{const O=Object.values(r),g=O.find(v=>v.selected),S=(v,Z)=>({...v,[Z.value]:Z.text}),w=O.reduce(S,{});return{value:g.value,options:w}}}))}),I=e.Z.post({url:n,params:{action:"create",form_version:"3"},schema:{who:e.Z.REQUIRED_STRING,select:{type:Array,required:!1},skip_suspended:e.Z.OPTIONAL_BOOL,when:e.Z.REQUIRED_STRING,minute:e.Z.OPTIONAL_STRING,hour:e.Z.OPTIONAL_STRING,dayofmonth:e.Z.OPTIONAL_STRING,month:e.Z.OPTIONAL_STRING,dayofweek:e.Z.OPTIONAL_STRING,where:e.Z.REQUIRED_STRING,ftp_ip:e.Z.OPTIONAL_STRING,ftp_username:e.Z.OPTIONAL_STRING,ftp_password:e.Z.OPTIONAL_STRING,ftp_path:e.Z.OPTIONAL_STRING,ftp_port:e.Z.OPTIONAL_STRING,ftp_secure:e.Z.OPTIONAL_STRING,append_to_path:e.Z.OPTIONAL_STRING,custom_append:e.Z.OPTIONAL_STRING,encryption_password:e.Z.OPTIONAL_STRING}}),m=e.Z.get({url:n,id:"USER_BACKUP_RESTORE_FILES",params:{action:"update_files"},schema:{where:e.Z.REQUIRED_STRING,ftp_ip:e.Z.OPTIONAL_STRING,ftp_username:e.Z.OPTIONAL_STRING,ftp_password:e.Z.OPTIONAL_STRING,ftp_path:e.Z.OPTIONAL_STRING,ftp_port:e.Z.OPTIONAL_STRING,ftp_secure:e.Z.OPTIONAL_STRING},after:s=>s.flow(s.getProp("files"),s.deleteProp("info"),s.toArray)}),N=e.Z.post({url:n,params:{action:"restore"},schema:{where:e.Z.REQUIRED_STRING,ftp_ip:e.Z.OPTIONAL_STRING,ftp_username:e.Z.OPTIONAL_STRING,ftp_password:e.Z.OPTIONAL_STRING,ftp_path:e.Z.OPTIONAL_STRING,ftp_port:e.Z.OPTIONAL_STRING,ftp_secure:e.Z.OPTIONAL_STRING,ip_choice:e.Z.REQUIRED_STRING,ip:e.Z.OPTIONAL_STRING,select:{type:Array,required:!0},encryption_password:e.Z.OPTIONAL_STRING}}),A=e.Z.post({url:"/CMD_USER_BACKUP_MODIFY",id:"USER_BACKUP_CRON",schema:{id:e.Z.REQUIRED_STRING},notifySuccess:!1,notifyError:!0,after:s=>s.flow(s.moveProp({append_to_path:"append","settings.where":"where"}),s.mapProps({settings:s.mapProp("ftp_secure",s.convert.toAppBoolean),who:s.mapProps({skip_suspended:s.convert.toAppBoolean,users:s.flow(s.deleteProp("info"),s.toArray,s.mapArray(s.getProp("user"))),select:s.feedWith(1,s.flow(s.getProp("users"),s.deleteProp("info"),s.filter(s.flow(s.getProp("checkbox"),s.isEqual("checked"))),s.mapValues(s.getProp("user")),s.toArray))}),append:s.flow(s.mapProps({options:s.feedWith(1,s.transformObject(({value:r,text:O})=>({[r]:O}))),value:s.feedWith(1,s.flow(s.find(s.getProp("selected")),s.getProp("value")))}),s.getProps(["value","options"])),custom_append:s.feedWith(1,s.getProp("append.custom_append"))}))}),L=e.Z.post({url:n,params:{action:"modify",when:"cron",form_version:"3"},schema:{id:e.Z.REQUIRED_STRING,who:e.Z.REQUIRED_STRING,select:{type:Array,required:!1},skip_suspended:e.Z.OPTIONAL_BOOL,minute:e.Z.REQUIRED_STRING,hour:e.Z.REQUIRED_STRING,dayofmonth:e.Z.REQUIRED_STRING,month:e.Z.REQUIRED_STRING,dayofweek:e.Z.REQUIRED_STRING,where:e.Z.REQUIRED_STRING,ftp_ip:e.Z.OPTIONAL_STRING,ftp_username:e.Z.OPTIONAL_STRING,ftp_password:e.Z.OPTIONAL_STRING,ftp_path:e.Z.OPTIONAL_STRING,ftp_port:e.Z.OPTIONAL_STRING,ftp_secure:e.Z.OPTIONAL_STRING,append_to_path:e.Z.REQUIRED_STRING,custom_append:e.Z.OPTIONAL_STRING}})},"./js/vue-globals/mixins.js":function(E,d,o){"use strict";o.r(d),o.d(d,{$bindTab:function(){return s},$clickOutside:function(){return m},$resizeListener:function(){return L},$scrollListener:function(){return N}});var e=o("../node_modules/vue/dist/vue.common.prod.js"),n=o.n(e),a=o("../node_modules/ramda/es/index.js"),c=o("./js/modules/file.js"),l=o("./js/modules/utils/index.js"),f=o("./js/modules/constants.js"),P=o("./js/modules/utils/css.js"),u=o("../node_modules/punycode/punycode.es6.js"),_=o("./js/vue-globals/helpers.js"),h=o("./js/stores/index.ts");const p=o("./js/vue-globals/mixins sync recursive \\.js$");(0,c.s)(p,r=>n().mixin(r.module)),n().mixin({data:()=>({isMounted:!1}),mounted(){this.isMounted=!0}}),n().mixin({methods:{$dialog(r){return{open:()=>_.uY.emit("dialog:open",r),close:()=>_.uY.emit("dialog:close",r)}}}}),n().mixin({computed:{$domain(){return this.$_ctx.session.domain},$domainUnicode(){return u.ZP.toUnicode(this.$domain)}}}),n().mixin({beforeCreate(){const r=(0,h.oR)(PiniaStores.VALIDATION);this.$valid=r.isValid.bind(r)}}),n().mixin({created(){this.regexps=f.gk}}),n().mixin({computed:{$p6e(){const r=O=>g=>{try{return O(g)}catch(S){return g}};return{toA:r(u.ZP.toASCII),toU:r(u.ZP.toUnicode),email2ascii:O=>{if(!O||!O.includes("@"))return O;const[g,S]=O.split("@");return[g,u.ZP.toASCII(S)].join("@")},email2unicode:O=>{if(!O||!O.includes("@"))return O;const[g,S]=O.split("@");return[g,u.ZP.toUnicode(S)].join("@")}}}}}),n().mixin({computed:{$_layout:(0,_.YM)("skin/layout")}}),n().mixin({methods:{$_useStore(r){return(0,h.oR)(r)}}});const I=[];document.body.addEventListener("click",r=>{I.forEach(O=>O(r.target))}),window.addEventListener("touchmove",r=>{I.forEach(O=>O(r.target))});const m={methods:{$clickOutsideListener(r,O){const g=w=>a.zGw(a.Bxt(O),a.qhW(Array.isArray,v=>[v]),a.hXT(a.CyQ(a.kKJ)),a.YPD(v=>v===w||v.contains(w)))(),S=w=>{g(w)&&this.$emit(`clickOutside:${r}`)};I.push(S)}}},N={methods:{__getScroller(){return this.$_layout==="sidebar"?window.document.querySelector("main"):window},__emitScroll(){this.$emit("window:scroll",window.pageYOffset)}},mounted(){const r=this.__getScroller();r&&r.addEventListener("scroll",this.__emitScroll)},destroyed(){const r=this.__getScroller();r&&r.removeEventListener("scroll",this.__emitScroll)}},A=[];window.addEventListener("resize",()=>{A.forEach(r=>r())});const L={created(){this.$resizeListener=()=>{this.$emit("window:resize",window.innerWidth)},A.push(this.$resizeListener)},destroyed(){A.splice(A.indexOf(this.$resizeListener),1)}},s=({param:r="tab",defaultTab:O}={param:"tab"})=>({computed:{[r]:{get(){return this.$route.params[r]||O},set(g){this.$route.params[r]!==g&&this.$router.replace(l._.merge({},this.$route,{params:{[r]:g}}))}}}})},"./js/vue-globals/mixins/bindApi.js":function(E,d,o){"use strict";o.r(d);var e=o("../node_modules/ramda/es/index.js");const n=(a,c)=>e.ETc(a.split("."),c);d.default={beforeCreate(){this.$options.commands&&(this.$commands=this.$options.commands)},computed:{$api(){if(!this.$options.api)return[];const a=this.$options.api;return typeof a=="function"?a.data.response:e.u4g((l,{command:f,bind:P})=>{if(typeof P=="string")return{...l,[P]:f.data.response};const u=e.u4g((_,[h,p])=>{const I=h.includes(".")?n(h,f.data):f.data[h]||f.data.response[h];return{..._,[p]:I}},{},e.Zpf(P));return{...l,...u}},{},a)}}}},"./js/vue-globals/mixins/local/clickOutside.js":function(E,d,o){"use strict";o.r(d),o.d(d,{$clickOutside:function(){return c}});var e=o("../node_modules/ramda/es/index.js");const n=[];document.body.addEventListener("click",l=>{n.forEach(e.gH4(l))}),window.addEventListener("touchstart",l=>{n.forEach(e.gH4(l))});const a=(l,f)=>e.zGw(e.qhW(Array.isArray,P=>[P]),e.hXT(e.CyQ(e.kKJ)),e.YPD(P=>P===l||P.contains(l)))(f),c={methods:{$clickOutsideListener(l,f){const P=u=>{a(u.target,f)&&this.$emit(`clickOutside:${l}`)};n.push(P)}}}},"./js/vue-globals/mixins/local/inputValidation.js":function(E,d,o){"use strict";o.r(d),o.d(d,{$inputValidation:function(){return a}});var e=o("./js/vue-globals/helpers.js"),n=o("./js/stores/index.ts");const a={inject:{groupID:{default:null},inputID:{default:null},validators:{default:()=>({})}},props:{id:{type:String,required:!1,default(){return this.inputID}},group:{type:String,required:!1,default(){return this.groupID}},novalidate:{type:Boolean,required:!1,default(){return!Object.keys(this.validators).length}}},computed:{validationStore(){return(0,n.oR)(PiniaStores.VALIDATION)},valid(){return this.validationStore.isValid(this.group,this.id)},errorState(){return!this.novalidate&&this.isUpdated&&!this.valid},isUpdated(){var c;const l=(c=this.validationStore.groups[this.group])==null?void 0:c[this.id];return typeof l=="undefined"?!1:l.updated}},methods:{$validate(c){this.id&&!this.novalidate&&this.validationStore.validate(this.groupID,this.id,c,this.validators)}},created(){if(!this.novalidate){const{validate:c}=this.$options;c&&this.$watch(c,(0,e.Ds)(this.$validate,{trailing:!0,leading:!1,delay:200}),{immediate:!0})}},destroyed(){this.novalidate||this.validationStore.deleteInput(this.group,this.id)}}},"./js/vue-globals/mixins/notification.js":function(E,d,o){"use strict";o.r(d);var e=o("./js/composables/index.ts");d.default={created(){const n=new e.d$;this.$notifications=n}}},"./js/vue-globals/mixins/reloadApiTable.js":function(E,d,o){"use strict";o.r(d);var e=o("./js/modules/constants.js");const n=c=>c.$options&&c.$options.name==="UiApiTable",a=c=>{const l=[c];let f=c;for(;f=l.shift();){if(n(f))return f;f.$children.length&&l.push(...f.$children)}return!1};d.default={methods:{$reloadApiTable({reset:c=!0}={}){const l=a(this);if(!l){e.Vi.DEV&&console.warn("$reloadApiTable called without any ui-api-table child");return}l.reloadTable(),c&&Object.assign(this.$data,this.$options.data.apply(this))}}}},"./js/vue-globals/mixins/session.js":function(E,d,o){"use strict";o.r(d);var e=o("./js/context/index.ts");d.default={computed:{$_ctx(){return e.T},$_flags(){return e.T.session.features},$_session(){return e.T.session.allValues}},methods:{$_cmd(n){return e.T.session.allowedCommands.includes(n)}}}},"./js/vue-globals/mixins/staticData.js":function(E,d,o){"use strict";o.r(d),d.default={created(){this.$options.staticData&&Object.entries(this.$options.staticData).forEach(([e,n])=>{this[e]=typeof n=="function"?n.bind(this)():n})}}},"./js/api/commands/converters/customItems.ts":function(E,d,o){"use strict";o.d(d,{CR:function(){return l}});var e=o("../node_modules/ramda/es/index.js"),n=o("./js/api/commands/converters/index.ts"),a=o("./js/api/commands/utils/transduce.ts"),c=o("./js/api/commands/converters/toSelectData.ts");const l=u=>{const _={name:u.name,type:u.type==="listbox"?"select":u.type,label:u.string,description:u.desc||"",value:u.type==="checkbox"?(0,n.sw)(u.checked||"no"):u.value||""};return _.type==="select"?e.BPw(_,(0,c.M1)(u.select||{})):_},f=u=>(0,a.vr)([(0,a.uD)(_=>/^item\d+val$/.test(_)),(0,a.r5)(_=>{const h=_,p=_.replace("val","txt"),I=u[h],m=u[p];return{[I]:m}})],Object.keys(u)),P=(u,_)=>e.qCK(p=>{const I={name:p.name,type:p.type==="listbox"?"select":p.type,description:p.desc||"",value:p.value||"",label:p.string};return p.type==="listbox"?(I.value=p.default,I.options=f(p)):p.type==="checkbox"&&(I.value=p.checked==="yes"),I},e.BPw({name:u}),(0,a.vr)([(0,a.r5)(p=>{const[I,m]=e.Vl2("=",p);return{[I]:m}})]),e.Vl2("&"))(_);d.ZP={fromObject:l,fromString:P}},"./js/api/commands/converters/index.ts":function(E,d,o){"use strict";o.d(d,{l$:function(){return h.ZP},t0:function(){return e.t0},S8:function(){return e.S8},ql:function(){return e.ql},sw:function(){return e.sw},Qu:function(){return e.Qu},He:function(){return e.He},M1:function(){return _.M1},sf:function(){return I},cc:function(){return u}});var e=o("./js/api/commands/converters/primitive.ts"),n=o("../node_modules/monet/dist/monet.js"),a=o("./js/api/commands/types.ts");const c=m=>typeof m=="object"?n.Either.Right(m):n.Either.Left(new Error("Passed param is not an object")),l=m=>typeof m.usage=="string"?n.Either.Right(m):n.Either.Left(new Error("usage property is required")),f=m=>({usage:(0,e.He)(m.usage),limit:(0,e.Qu)(m.limit)}),P=({usage:m,limit:N})=>{let A=a.H.Normal;const L=Math.floor(m/N*100);return L>=100?A=a.H.OverUsed:L>80&&(A=a.H.AlmostUsed),{usage:m,limit:N,status:A}},u=m=>{const N=n.Either.Right(m).flatMap(c).flatMap(l).map(f).map(P);if(N.isLeft())throw N.left();return N.right()};var _=o("./js/api/commands/converters/toSelectData.ts"),h=o("./js/api/commands/converters/customItems.ts"),p=o("../node_modules/ramda/es/index.js");const I=m=>N=>{const{info:A}=N,L=p.CEd(["info"],N);return{columns:A.columns,rowsCount:Number(A.rows),rows:p.UID(m,p.VO0(L))}}},"./js/api/commands/converters/toSelectData.ts":function(E,d,o){"use strict";o.d(d,{M1:function(){return P}});var e=o("../node_modules/monet/dist/monet.js"),n=o.n(e),a=o("./js/api/commands/utils/transduce.ts"),c=o("../node_modules/ramda/es/index.js");const l=u=>e.Maybe.Some(u).flatMap(_=>{const h=_.find(p=>p.selected==="yes");return h?e.Maybe.Some(h):e.Maybe.None()}).flatMap(_=>e.Maybe.fromNull(_.value)).orSome(""),f=(0,a.vr)([(0,a.r5)(u=>({[u.value]:u.text}))]),P=u=>{const _=(0,c.VO0)(u);return{value:l(_),options:f(_)}}},"./js/api/commands/types.ts":function(E,d,o){"use strict";o.d(d,{H:function(){return e}});var e;(function(n){n.Normal="normal",n.AlmostUsed="almost_used",n.OverUsed="overused"})(e||(e={}))},"./js/api/commands/utils/transduce.ts":function(E,d,o){"use strict";o.d(d,{Re:function(){return c},r5:function(){return n},uD:function(){return a},vr:function(){return _},zh:function(){return P}});var e=o("../node_modules/ramda/es/index.js");const n=h=>p=>(I,m)=>{const N=h(m);return p(I,N)},a=h=>p=>(I,m)=>h(m)?p(I,m):I,c=(h,p)=>(h.push(p),h),l=(h,p)=>e.BPw(h,p),f=(h,p,I,m)=>{const N=e.qCK(...I);return m.reduce(N(p),h)},P=e.WAo(f),u=P([],c),_=P({},l)},"./js/vue-globals/mixins sync recursive \\.js$":function(E,d,o){var e={"./bindApi.js":"./js/vue-globals/mixins/bindApi.js","./local/clickOutside.js":"./js/vue-globals/mixins/local/clickOutside.js","./local/inputValidation.js":"./js/vue-globals/mixins/local/inputValidation.js","./notification.js":"./js/vue-globals/mixins/notification.js","./reloadApiTable.js":"./js/vue-globals/mixins/reloadApiTable.js","./session.js":"./js/vue-globals/mixins/session.js","./staticData.js":"./js/vue-globals/mixins/staticData.js","vue-globals/mixins/bindApi.js":"./js/vue-globals/mixins/bindApi.js","vue-globals/mixins/local/clickOutside.js":"./js/vue-globals/mixins/local/clickOutside.js","vue-globals/mixins/local/inputValidation.js":"./js/vue-globals/mixins/local/inputValidation.js","vue-globals/mixins/notification.js":"./js/vue-globals/mixins/notification.js","vue-globals/mixins/reloadApiTable.js":"./js/vue-globals/mixins/reloadApiTable.js","vue-globals/mixins/session.js":"./js/vue-globals/mixins/session.js","vue-globals/mixins/staticData.js":"./js/vue-globals/mixins/staticData.js"};function n(c){var l=a(c);return o(l)}function a(c){if(!o.o(e,c)){var l=new Error("Cannot find module '"+c+"'");throw l.code="MODULE_NOT_FOUND",l}return e[c]}n.keys=function(){return Object.keys(e)},n.resolve=a,E.exports=n,n.id="./js/vue-globals/mixins sync recursive \\.js$"}}]);
