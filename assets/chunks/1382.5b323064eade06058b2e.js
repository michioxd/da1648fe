(self.webpackChunk=self.webpackChunk||[]).push([[1382],{"../node_modules/date-fns/esm/addMonths/index.js":function($,D,i){"use strict";i.d(D,{Z:function(){return f}});var u=i("../node_modules/date-fns/esm/_lib/toInteger/index.js"),c=i("../node_modules/date-fns/esm/toDate/index.js"),m=i("../node_modules/date-fns/esm/_lib/requiredArgs/index.js");function f(j,y){(0,m.Z)(2,arguments);var e=(0,c.Z)(j),s=(0,u.Z)(y);if(isNaN(s))return new Date(NaN);if(!s)return e;var n=e.getDate(),l=new Date(e.getTime());l.setMonth(e.getMonth()+s+1,0);var k=l.getDate();return n>=k?l:(e.setFullYear(l.getFullYear(),l.getMonth(),n),e)}},"./js/vue-globals/mixins/local/inputValidation.js":function($,D,i){"use strict";i.r(D),i.d(D,{$inputValidation:function(){return m}});var u=i("./js/vue-globals/helpers.js"),c=i("./js/stores/index.ts");const m={inject:{groupID:{default:null},inputID:{default:null},validators:{default:()=>({})}},props:{id:{type:String,required:!1,default(){return this.inputID}},group:{type:String,required:!1,default(){return this.groupID}},novalidate:{type:Boolean,required:!1,default(){return!Object.keys(this.validators).length}}},computed:{validationStore(){return(0,c.oR)(PiniaStores.VALIDATION)},valid(){return this.validationStore.isValid(this.group,this.id)},errorState(){return!this.novalidate&&this.isUpdated&&!this.valid},isUpdated(){var f;const j=(f=this.validationStore.groups[this.group])==null?void 0:f[this.id];return typeof j=="undefined"?!1:j.updated}},methods:{$validate(f){this.id&&!this.novalidate&&this.validationStore.validate(this.groupID,this.id,f,this.validators)}},created(){if(!this.novalidate){const{validate:f}=this.$options;f&&this.$watch(f,(0,u.Ds)(this.$validate,{trailing:!0,leading:!1,delay:200}),{immediate:!0})}},destroyed(){this.novalidate||this.validationStore.deleteInput(this.group,this.id)}}},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/input-cidr.vue?vue&type=style&index=0&id=529d42d4&prod&lang=scss&":function(){},"./js/components/local/utils/cidr.ts":function($,D,i){"use strict";i.d(D,{T:function(){return u},x:function(){return c}});const u=m=>{if(!m)return"";const f=[];let j=Number(m);for(let y=0;y<4;y++){const e=Math.min(j,8);f.push(256-2**(8-e)),j-=e}return f.join(".")},c=m=>{if(!m)return"";const f=(e,s)=>e.split(s).length-1,j=e=>(e>>>0).toString(2);return f((e=>e.split(".").map(Number))(m).map(e=>j(e)).join(""),"1")}},"./js/components/local/utils/mask-definition.ts":function($,D,i){"use strict";i.d(D,{Xm:function(){return y}});const u={addressDefinition:(e,{buffer:s},n)=>{const l=/^([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])$/;return n-1>-1&&s[n-1]!=="."&&(s[n-2]&&s[n-2]!=="."?e=s[n-2]+s[n-1]+e:e=s[n-1]+e),l.test(e)},netmaskDefinition:(e,{buffer:s},n)=>{const l=/^3[0-2]$|^[0-2][0-9]$|^[0-9]$/;return s[n-1]!=="/"&&(e=s[n-1]+e),l.test(e)},netmaskDelimiterDefinition:e=>e==="/"},c={addressDefinition:(e,{buffer:s},n)=>{const l=/[A-Fa-f0-9]/;return n===1&&s[0]===":"?!1:l.test(e)},addressDelimiterDefinition:(e,{buffer:s},n)=>e===":"?s[n-1]===":"?!s.join("").includes("::"):!0:/[A-Fa-f0-9]/.test(e)?{insert:[{pos:n,c:":"},{pos:n+1,c:e}],caret:n+2}:!1,netmaskDefinition:(e,{buffer:s},n)=>{const l=s;l.length===n?l.push(e):l[n]=e;const k=Number(l.join("").split("/").at(-1));return k>=0&&k<=128},netmaskDelimiterDefinition:(e,{buffer:s},n)=>{if(!n)return!1;if(s[n-1]===":"&&e==="/")return n>=3&&s[n-2]===":";const[l]=s.join("").split("/"),k=l.split(":").map(r=>r.replace(/_/g,"")).join(":");return e==="/"&&k.includes(":")}},m={ipv4Definition:(e,{buffer:s},n)=>{const l=/25[0-5]|2[0-4][0-9]|[01][0-9][0-9]/;return s[n-1]!=="-"?(e=s[n-1]+e,s[n-2]!=="-"?e=s[n-2]+e:e=`0${e}`):e=`00${e}`,l.test(e)},ipv6Definition:e=>/[A-Fa-f0-9]/.test(e),delimiterDefinition:e=>e==="-"},f={ipv4:{i:{validator:u.addressDefinition,cardinality:1},n:{validator:u.netmaskDefinition,cardinality:1},"=":{validator:u.netmaskDelimiterDefinition,cardinality:1,placeholder:"/"}},ipv6:{I:{validator:c.addressDefinition,cardinality:1,casing:"lower"},N:{validator:c.netmaskDefinition},":":{validator:c.addressDelimiterDefinition,cardinality:1,placeholder:":"},"-":{validator:c.netmaskDelimiterDefinition,cardinality:1,placeholder:"/"}}},j={"!":{validator:m.delimiterDefinition,cardinality:1,placeholder:""},r:{validator:m.ipv4Definition,cardinality:1,placeholder:""},R:{validator:m.ipv6Definition,cardinality:1,placeholder:""}},y=(e,s=!1)=>{let n={};return e.forEach(l=>{n={...n,...f[l]}}),s&&(n={...n,...j}),n}},"./js/composables/useDataStore.ts":function($,D,i){"use strict";i.d(D,{a:function(){return f}});var u=i("./js/api/openapi/decorators/data-store-decorator.ts"),c=i("../node_modules/vue/dist/vue.common.prod.js"),m=i.n(c);const f=j=>{const y=(0,c.ref)(null);return{data:y,request:(0,u.i)(y,j)}}},"./js/pages/user/login-keys/requests.ts":function($,D,i){"use strict";i.d(D,{AD:function(){return v},B2:function(){return O},CN:function(){return l},IM:function(){return E},J$:function(){return x},Ju:function(){return t},L2:function(){return P},Tl:function(){return o},XS:function(){return g},Xs:function(){return s},a9:function(){return _},tq:function(){return h},uJ:function(){return M}});var u=i("../node_modules/ramda/es/index.js"),c=i("./js/openapi/loginKeys.ts"),m=i("./js/composables/useDataStore.ts"),f=i("./js/composables/gettext.ts"),j=i("./js/composables/notify.ts"),y=i("../node_modules/vue/dist/vue.common.prod.js"),e=i.n(y);const{data:s,request:n}=(0,m.a)(c.Vv),{data:l,request:k}=(0,m.a)(c.IZ),{$gettext:r,$gettextInterpolate:S}=(0,f.Z)(),a=(0,j.d$)(),g=async()=>{const d=await n();return d.status==="error"&&a.error({title:r("Error"),content:S(r("Failed to load %{subject}!"),{subject:r("login keys")})}),d},A=d=>{var p;return s.value&&(p=R.find(I=>I.id===d,s.value))!==null&&p!==void 0?p:null},t=async()=>{const d=await k();return d.status==="error"&&a.error({title:r("Error"),content:S(r("Failed to load %{subject}!"),{subject:r("available commands")})}),d},o=async d=>{const p=await(0,c.Et)(d);return p.status==="error"?a.error({title:r("Error"),content:S(r("Failed to create %{subject}!"),{subject:r("login key")})}):s.value=(s.value||[]).concat([p.data]),p.status==="success"},v=(0,y.ref)(null),h=async d=>{const p=await(0,c.gQ)(d);return p.error?(a.error({title:r("Login Keys"),content:S(r("Failed to load %{key} login key"),{key:d})}),null):(v.value=p.data,p.data)},_=async(d,p)=>(await(0,c.IU)(d,p)).status==="error"?(a.error({title:r("Error"),content:S(r("Failed to update %{subject}!"),{subject:r("login key")})}),!1):!0,P=async d=>{const{status:p}=await(0,c.Q)(d);if(p==="error"){a.error({title:r("Login Keys"),content:r("Failed to delete login key")});return}a.success({title:r("Login Keys"),content:r("Login key was successfully deleted")}),s.value=(s.value||[]).filter(I=>I.id!==d)},E=(0,y.ref)([]),x=async()=>{const d=await(0,c.LH)();return d.status==="error"?a.error({title:r("Login Keys"),content:r("Failed to load login keys")}):E.value=d.data,d},O=async d=>{if((await(0,c.Pt)(d)).status==="error"){a.error({title:r("Login Keys"),content:r("Failed to delete login URL")});return}a.success({title:r("Login Keys"),content:r("Login URL was successfully deleted")}),E.value=E.value.filter(I=>I.id!==d)},M=async d=>{const p=await(0,c.qd)(d);return p.status==="error"?(a.error({title:r("Error"),content:S(r("Failed to create %{subject}!"),{subject:r("login key")})}),""):(a.success({title:r("Login Keys"),content:r("Login URL was successfully created")}),E.value.push(p.data),p.data.url)}},"./js/components/local/input-cidr.vue":function($,D,i){"use strict";i.d(D,{Z:function(){return S}});var u=function(){var g=this,A=g._self._c;return A("ui-input-group",{staticClass:"width:100%",scopedSlots:g._u([{key:"additions:left",fn:function(){return[g.showVersionsSelect?A("input-select",{staticClass:"input-ip-version-select",attrs:{novalidate:"",options:{v4:"IPv4",v6:"IPv6"}},on:{change:function(t){return g.$emit("update:version",t)}},model:{value:g.dataVersion,callback:function(t){g.dataVersion=t},expression:"dataVersion"}}):g._e()]},proxy:!0},{key:"input",fn:function(){return[A("input",{ref:"input",staticClass:"input-ip-mask",attrs:{type:"text"},domProps:{value:g.innerValue},on:{input:g.emit,focus:g.moveCursor,focusout:g.setNetmask}})]},proxy:!0},{key:"additions:right",fn:function(){return[g._t("additions:right",null,null,{})]},proxy:!0}],null,!0)})},c=[],m=i("./js/vue-globals/mixins/local/inputValidation.js"),f=i("../node_modules/inputmask/dist/inputmask.js"),j=i.n(f),y=i("./js/components/local/utils/cidr.ts"),e=i("./js/components/local/utils/mask-definition.ts"),s={mixins:[m.$inputValidation],validate:"value",props:{value:{type:String,required:!0},netmask:{type:String,required:!1,default:""},version:{type:String,required:!1,default:"v4"},disableVersionSelect:{type:Boolean,required:!1,default:!1},convertCidrToNetmask:{type:Boolean,required:!1,default:!0}},data:()=>({focused:!1,dataVersion:"v4"}),computed:{showVersionsSelect(){return!this.disableVersionSelect&&this.$_flags.server.ipv6},cidr(){return this.netmask?this.dataVersion==="v4"?(0,y.x)(this.netmask):this.netmask:this.netmask},innerValue(){return this.value&&!this.convertCidrToNetmask&&this.netmask?`${this.value}/${this.netmask}`:this.value},mask(){let a={v4:Array(4).fill("i[i[i]]").join("."),v6:`[I[I[I[I]]]]${Array(7).fill("[:[I[I[I[I]]]]]").join("")}`}[this.dataVersion];const g={v4:"[=[n[n]]]",v6:"[-[N[N[N]]]]"}[this.dataVersion];return typeof this.netmask!="undefined"&&(a=`${a}${g}`),a}},watch:{version(a){this.dataVersion!==a&&(this.dataVersion=a)},dataVersion(a){a!==this.version&&(this.$emit("input",""),this.$emit("update:netmask","")),this.applyMask()}},mounted(){this.dataVersion=this.version,this.applyMask()},methods:{setNetmask(){this.focused=!1,this.value&&!this.convertCidrToNetmask&&this.netmask===""&&this.$emit("update:netmask",this.version==="v4"?"32":"128")},emit({target:{value:a}}){const[g,A]=a.split("/");this.$emit("input",g),this.emitNetmask(A)},emitNetmask(a){return this.$emit("update:netmask",this.dataVersion==="v4"&&this.convertCidrToNetmask?(0,y.T)(a):a)},moveCursor(){this.focused=!0,this.value||this.$refs.input.setSelectionRange(0,0)},applyMask(){new(j())({mask:this.mask,keepStatic:!0,definitions:(0,e.Xm)(["ipv4","ipv6"]),onUnMask:g=>g,skipOptionalPartCharacter:"",placeholder:"_"}).mask(this.$refs.input)}}},n=s,l=i("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/input-cidr.vue?vue&type=style&index=0&id=529d42d4&prod&lang=scss&"),k=i("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),r=(0,k.Z)(n,u,c,!1,null,null,null),S=r.exports},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/input-cidr.vue?vue&type=style&index=0&id=529d42d4&prod&lang=scss&":function($,D,i){var u=i("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/components/local/input-cidr.vue?vue&type=style&index=0&id=529d42d4&prod&lang=scss&");u.__esModule&&(u=u.default),typeof u=="string"&&(u=[[$.id,u,""]]),u.locals&&($.exports=u.locals);var c=i("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,m=c("c33399c8",u,!0,{})},"../node_modules/vue-router/composables.mjs":function($,D,i){"use strict";i.d(D,{tv:function(){return m},yj:function(){return f}});var u=i("../node_modules/vue/dist/vue.common.prod.js");/*!
  * vue-router v3.6.5
  * (c) 2022 Evan You
  * @license MIT
  */function c(t){if(!getCurrentInstance())throw new Error("[vue-router]: Missing current instance. "+t+"() must be called inside <script setup> or setup().")}function m(){return(0,u.getCurrentInstance)().proxy.$root.$router}function f(){var t=(0,u.getCurrentInstance)().proxy.$root;if(!t._$route){var o=(0,u.effectScope)(!0).run(function(){return(0,u.shallowReactive)(Object.assign({},t.$router.currentRoute))});t._$route=o,t.$router.afterEach(function(v){Object.assign(o,v)})}return t._$route}function j(t){return l(t,y)}function y(t,o,v){var h=t.matched,_=o.matched;return h.length>=v&&h.slice(0,v+1).every(function(P,E){return P===_[E]})}function e(t,o,v){var h=t.matched,_=o.matched;return h.length<v||h[v]!==_[v]}function s(t){return l(t,e)}var n=function(){};function l(t,o){for(var v=getCurrentInstance(),h=m(),_=v.proxy;_&&_.$vnode&&_.$vnode.data&&_.$vnode.data.routerViewDepth==null;)_=_.$parent;var P=_&&_.$vnode&&_.$vnode.data?_.$vnode.data.routerViewDepth:null;if(P!=null){var E=h.beforeEach(function(x,O,M){return o(x,O,P)?t(x,O,M):M()});return onUnmounted(E),E}return n}function k(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){var o=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(o))return}return t.preventDefault&&t.preventDefault(),!0}}function r(t,o){var v=function(P){var E=o[P],x=t[P];if(typeof E=="string"){if(E!==x)return{v:!1}}else if(!Array.isArray(x)||x.length!==E.length||E.some(function(O,M){return O!==x[M]}))return{v:!1}};for(var h in o){var _=v(h);if(_)return _.v}return!0}function S(t,o){return Array.isArray(t)?a(t,o):Array.isArray(o)?a(o,t):t===o}function a(t,o){return Array.isArray(o)?t.length===o.length&&t.every(function(v,h){return v===o[h]}):t.length===1&&t[0]===o}function g(t,o){if(Object.keys(t).length!==Object.keys(o).length)return!1;for(var v in t)if(!S(t[v],o[v]))return!1;return!0}function A(t){var o=m(),v=f(),h=computed(function(){return o.resolve(unref(t.to),v)}),_=computed(function(){var O=h.value.route,M=O.matched,d=M.length,p=M[d-1],I=v.matched;if(!p||!I.length)return-1;var L=I.indexOf(p);if(L>-1)return L;var C=I[I.length-2];return d>1&&C&&C===p.parent}),P=computed(function(){return _.value>-1&&r(v.params,h.value.route.params)}),E=computed(function(){return _.value>-1&&_.value===v.matched.length-1&&g(v.params,h.value.route.params)}),x=function(O){var M=h.value.route;return k(O)?t.replace?o.replace(M):o.push(M):Promise.resolve()};return{href:computed(function(){return h.value.href}),route:computed(function(){return h.value.route}),isExactActive:E,isActive:P,navigate:x}}}}]);
