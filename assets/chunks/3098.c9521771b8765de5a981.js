(self.webpackChunk=self.webpackChunk||[]).push([[3098,8952],{"../node_modules/date-fns/esm/formatDistance/index.js":function(C,d,r){"use strict";r.d(d,{Z:function(){return N}});var i=r("../node_modules/date-fns/esm/_lib/defaultOptions/index.js"),l=r("../node_modules/date-fns/esm/toDate/index.js"),a=r("../node_modules/date-fns/esm/_lib/requiredArgs/index.js");function u(v,_){(0,a.Z)(2,arguments);var f=(0,l.Z)(v),$=(0,l.Z)(_),M=f.getTime()-$.getTime();return M<0?-1:M>0?1:M}function c(v,_){(0,a.Z)(2,arguments);var f=(0,l.Z)(v),$=(0,l.Z)(_),M=f.getFullYear()-$.getFullYear(),A=f.getMonth()-$.getMonth();return M*12+A}function y(v){(0,a.Z)(1,arguments);var _=(0,l.Z)(v);return _.setHours(23,59,59,999),_}function g(v){(0,a.Z)(1,arguments);var _=(0,l.Z)(v),f=_.getMonth();return _.setFullYear(_.getFullYear(),f+1,0),_.setHours(23,59,59,999),_}function x(v){(0,a.Z)(1,arguments);var _=(0,l.Z)(v);return y(_).getTime()===g(_).getTime()}function R(v,_){(0,a.Z)(2,arguments);var f=(0,l.Z)(v),$=(0,l.Z)(_),M=u(f,$),A=Math.abs(c(f,$)),b;if(A<1)b=0;else{f.getMonth()===1&&f.getDate()>27&&f.setDate(30),f.setMonth(f.getMonth()-M*A);var Z=u(f,$)===-M;x((0,l.Z)(v))&&A===1&&u(v,$)===1&&(Z=!1),b=M*(A-Number(Z))}return b===0?0:b}function D(v,_){return(0,a.Z)(2,arguments),(0,l.Z)(v).getTime()-(0,l.Z)(_).getTime()}var T={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(_){return _<0?Math.ceil(_):Math.floor(_)}},L="trunc";function w(v){return v?T[v]:T[L]}function p(v,_,f){(0,a.Z)(2,arguments);var $=D(v,_)/1e3;return w(f==null?void 0:f.roundingMethod)($)}var j=r("../node_modules/date-fns/esm/_lib/defaultLocale/index.js");function I(v,_){if(v==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var f in _)Object.prototype.hasOwnProperty.call(_,f)&&(v[f]=_[f]);return v}function U(v){return I({},v)}var s=r("../node_modules/date-fns/esm/_lib/getTimezoneOffsetInMilliseconds/index.js"),o=1440,h=2520,S=43200,O=86400;function N(v,_,f){var $,M;(0,a.Z)(2,arguments);var A=(0,i.j)(),b=($=(M=f==null?void 0:f.locale)!==null&&M!==void 0?M:A.locale)!==null&&$!==void 0?$:j.Z;if(!b.formatDistance)throw new RangeError("locale must contain formatDistance property");var Z=u(v,_);if(isNaN(Z))throw new RangeError("Invalid time value");var E=I(U(f),{addSuffix:Boolean(f==null?void 0:f.addSuffix),comparison:Z}),W,F;Z>0?(W=(0,l.Z)(_),F=(0,l.Z)(v)):(W=(0,l.Z)(v),F=(0,l.Z)(_));var z=p(F,W),H=((0,s.Z)(F)-(0,s.Z)(W))/1e3,k=Math.round((z-H)/60),B;if(k<2)return f!=null&&f.includeSeconds?z<5?b.formatDistance("lessThanXSeconds",5,E):z<10?b.formatDistance("lessThanXSeconds",10,E):z<20?b.formatDistance("lessThanXSeconds",20,E):z<40?b.formatDistance("halfAMinute",0,E):z<60?b.formatDistance("lessThanXMinutes",1,E):b.formatDistance("xMinutes",1,E):k===0?b.formatDistance("lessThanXMinutes",1,E):b.formatDistance("xMinutes",k,E);if(k<45)return b.formatDistance("xMinutes",k,E);if(k<90)return b.formatDistance("aboutXHours",1,E);if(k<o){var Q=Math.round(k/60);return b.formatDistance("aboutXHours",Q,E)}else{if(k<h)return b.formatDistance("xDays",1,E);if(k<S){var X=Math.round(k/o);return b.formatDistance("xDays",X,E)}else if(k<O)return B=Math.round(k/S),b.formatDistance("aboutXMonths",B,E)}if(B=R(F,W),B<12){var Y=Math.round(k/S);return b.formatDistance("xMonths",Y,E)}else{var V=B%12,K=Math.floor(B/12);return V<3?b.formatDistance("aboutXYears",K,E):V<9?b.formatDistance("overXYears",K,E):b.formatDistance("almostXYears",K+1,E)}}},"./js/api/commands/user/ssl/index.js":function(C,d,r){"use strict";r.d(d,{$c:function(){return p},FW:function(){return u},Lm:function(){return w},Ng:function(){return R},Of:function(){return y},SA:function(){return T},T7:function(){return D},UJ:function(){return j},VB:function(){return U},_d:function(){return L},dV:function(){return g},lM:function(){return x},mb:function(){return I}});var i=r("./js/api/command/index.js"),l=r("../node_modules/punycode/punycode.es6.js"),a=r("./js/api/commands/user/ssl/pro.js");const u=i.Z.get({id:"SSL_OPTIONS",url:"/CMD_SSL",domain:!0,params:{dnsproviders:!0},after:s=>s.flow(s.project({"hashTypes.current":"hash_select","hashTypes.all":"hash_types",keySizes:"keysize_select",enabled:"SSL_ON",acmeProvider:"ACME_PROVIDER","tab.server":"SERVERCHECKED","tab.paste":"PASTECHECKED","letsEncrypt.domains":"LETSENCRYPT_OPTIONS","letsEncrypt.selected":"LETSENCRYPT_OPTIONS","letsEncrypt.wc.enabled":"WILDCARD","letsEncrypt.wc.domains":"LETSENCRYPT_WC_OPTIONS","letsEncrypt.wc.selected":"LETSENCRYPT_WC_OPTIONS","letsEncrypt.enabled":"LETSENCRYPT","letsEncrypt.showOptions":"LETSENCRYPT","letsEncrypt.maxRequests":"LETSENCRYPT_MAX_REQUESTS","letsEncrypt.renewalDays":"LETSENCRYPT_RENEWAL_DAYS","letsEncrypt.dnsProviders":"dnsproviders","letsEncrypt.backgroundDefault":"BACKGROUND_DEFAULT",cert:"CERTIFICATE",certHosts:"CERTIFICATE_HOSTS",certExpiry:"NOT_AFTER",key:"KEY","values.province":"PROVINCE","values.city":"CITY","values.company":"COMPANY","values.division":"DIVISION","values.email":"EMAIL","values.name":"NAME","values.country":"COUNTRY","options.forceRedirect":"FORCE_SSL_CHECKED","pro.certificates":"certificates","pro.retries":"next_retries","pro.snidomains":"snidomains"}),s.mapProps({acmeProvider:o=>o||"letsencrypt",key:s.convert.toAppText,cert:s.convert.toAppText,hashTypes:s.mapProp("all",s.transformObject((o,h)=>({[o]:h}))),tab:o=>Object.keys(o).find(h=>o[h]),keySizes:s.flow(s.toSelect,s.project({all:"options",current:"value"})),enabled:s.convert.toAppBoolean,options:s.mapProp("forceRedirect",o=>!!o),letsEncrypt:s.mapProps({enabled:o=>o!=="0",showOptions:s.isEqual("1"),maxRequests:o=>s.convert.toAppNumber(o||0),domains:s.flow(o=>typeof o=="string"?{}:o,s.setDefault({}),Object.keys,s.mapArray(l.ZP.toUnicode)),selected:s.flow(o=>typeof o=="string"?{}:o,s.setDefault({}),s.filter(s.notEmpty),Object.keys),backgroundDefault:o=>o||"auto",wc:s.mapProps({enabled:s.isEqual("1"),selected:s.flow(s.setDefault({}),s.filter(s.notEmpty),Object.keys),domains:s.flow(s.setDefault({}),Object.keys,s.mapArray(l.ZP.toUnicode))}),dnsProviders:o=>{if(!o||o.data.error)return{data:{},selected:{value:"",configuration:{}}};const h=S=>(delete S.dnsprovider,S);return{data:o.data,selected:{value:o.dnsprovider?o.dnsprovider.dnsprovider:"",configuration:o.dnsprovider?h(o.dnsprovider):{}}}}}),pro:a.xn}))}),c=i.Z.post({url:"/CMD_SSL",params:{action:"save"},domain:!0,schema:{type:i.Z.REQUIRED_STRING,request:{required:!0}}}),y=c.extend({id:"SSL_REQUEST",params:{type:"create"},schema:{country:i.Z.REQUIRED_STRING,province:i.Z.REQUIRED_STRING,city:i.Z.REQUIRED_STRING,company:i.Z.REQUIRED_STRING,division:i.Z.REQUIRED_STRING,name:i.Z.REQUIRED_STRING,email:i.Z.REQUIRED_STRING,keysize:i.Z.REQUIRED_STRING,encryption:i.Z.REQUIRED_STRING},after:s=>s.mapProp("request",s.flow(o=>o||"",s.convert.toAppString,s.convert.toAppText))}),g=c.extend({params:{type:"server",request:!1}}),x=c.extend({params:{type:"create",request:"letsencrypt"},schema:{name:i.Z.REQUIRED_STRING,keysize:i.Z.REQUIRED_STRING,encryption:i.Z.REQUIRED_STRING,wildcard:i.Z.OPTIONAL_BOOL,le_select:{type:Array,required:!1},le_wc_select:{type:Array,required:!1},background:i.Z.REQUIRED_STRING}}),R=i.Z.post({url:"/CMD_SSL",params:{disable_letsencrypt_autorenew:!0,json:!0},domain:!0}),D=i.Z.post({url:"/CMD_SSL",params:{action:"save",type:"paste"},domain:!0,body:{certificate:i.Z.REQUIRED_STRING},before:({certificate:s})=>({certificate:s.replace(/\r\n/g,`
`)})}),T=i.Z.get({id:"CA",url:"/CMD_SSL",params:{view:"cacert"},domain:!0,after:s=>s.flow(s.moveProp("CHECKED","active"),s.moveProp("CACERT","cacert"),s.mapProps({active:s.convert.toAppBoolean,cacert:o=>o.replace(/(\\n)/gm,`
`)}))}),L=i.Z.post({url:"/CMD_SSL",params:{action:"save",type:"cacert"},domain:!0,schema:{active:i.Z.REQUIRED_BOOL,cacert:i.Z.REQUIRED_STRING},before:({cacert:s})=>({cacert:s.replace(/\r\n/g,`
`)})}),w=i.Z.post({url:"/CMD_DOMAIN",params:{action:"private_html"},domain:!0,schema:{force_ssl:i.Z.REQUIRED_BOOL}}),p=i.Z.post({url:"/CMD_DOMAIN",params:{action:"modify",only_affect:"ssl",ssl:"ON"},domain:!0}),j=p.extend({params:{ssl:null}}),I=i.Z.post({url:"/CMD_SSL",params:{action:"save",type:"dnsprovider"},domain:!0}),U=i.Z.post({url:"/CMD_SSL",domain:!0,params:{action:"save",type:"dnsprovider",dnsprovider_reset:!0}})},"./js/api/commands/user/ssl/pro.js":function(C,d,r){"use strict";r.d(d,{AW:function(){return R},HB:function(){return T},XZ:function(){return w},_u:function(){return L},vn:function(){return D},xn:function(){return x}});var i=r("./js/api/command/index.js"),l=r("./js/api/converters.js"),a=r("./js/context/index.ts"),u=r("../node_modules/ramda/es/index.js");const c=p=>({...p,valid:p.valid==="yes"}),y=p=>({host:p.domain,next_retry:(0,l.toAppDate)(p.next_retry),hosts:u.VO0(u.D95((j,I)=>I.includes(p.wildcard==="yes"?"le_wc_select":"le_select"),p))}),g=([p,j])=>({host:p,...j}),x=p=>typeof p.certificates=="undefined"?!1:u.rO9({certificates:u.zGw(u.VO0,u.UID(c)),retries:u.zGw(u.VO0,u.UID(y)),snidomains:u.zGw(u.Zpf,u.UID(g))},p),R=i.Z.select({url:"/CMD_SSL",domain:!0,params:{action:"certificate",retry:!0}}),D=i.Z.select({url:"/CMD_SSL",domain:!0,params:{action:"certificate",delete:!0}}),T=i.Z.select({url:"/CMD_SSL",domain:!0,params:{action:"retries",retry_now:!0}}),L=i.Z.select({url:"/CMD_SSL",domain:!0,params:{action:"retries",cancel:!0}}),w=i.Z.post({url:"/CMD_SSL",before:p=>({domain:a.T.session.domain,select0:a.T.session.domain,action:"retries",retry_now:!0,wildcard:p.wildcard?!0:null,subdomains:p.subdomains?!0:null,pointers:p.pointers?!0:null}),schema:{wildcard:i.Z.OPTIONAL_BOOL,subdomains:i.Z.OPTIONAL_BOOL,pointers:i.Z.OPTIONAL_BOOL}})},"./js/vue-globals/mixins.js":function(C,d,r){"use strict";r.r(d),r.d(d,{$bindTab:function(){return U},$clickOutside:function(){return w},$resizeListener:function(){return I},$scrollListener:function(){return p}});var i=r("../node_modules/vue/dist/vue.common.prod.js"),l=r.n(i),a=r("../node_modules/ramda/es/index.js"),u=r("./js/modules/file.js"),c=r("./js/modules/utils/index.js"),y=r("./js/modules/constants.js"),g=r("./js/modules/utils/css.js"),x=r("../node_modules/punycode/punycode.es6.js"),R=r("./js/vue-globals/helpers.js"),D=r("./js/stores/index.ts");const T=r("./js/vue-globals/mixins sync recursive \\.js$");(0,u.s)(T,s=>l().mixin(s.module)),l().mixin({data:()=>({isMounted:!1}),mounted(){this.isMounted=!0}}),l().mixin({methods:{$dialog(s){return{open:()=>R.uY.emit("dialog:open",s),close:()=>R.uY.emit("dialog:close",s)}}}}),l().mixin({computed:{$domain(){return this.$_ctx.session.domain},$domainUnicode(){return x.ZP.toUnicode(this.$domain)}}}),l().mixin({beforeCreate(){const s=(0,D.oR)(PiniaStores.VALIDATION);this.$valid=s.isValid.bind(s)}}),l().mixin({created(){this.regexps=y.gk}}),l().mixin({computed:{$p6e(){const s=o=>h=>{try{return o(h)}catch(S){return h}};return{toA:s(x.ZP.toASCII),toU:s(x.ZP.toUnicode),email2ascii:o=>{if(!o||!o.includes("@"))return o;const[h,S]=o.split("@");return[h,x.ZP.toASCII(S)].join("@")},email2unicode:o=>{if(!o||!o.includes("@"))return o;const[h,S]=o.split("@");return[h,x.ZP.toUnicode(S)].join("@")}}}}}),l().mixin({computed:{$_layout:(0,R.YM)("skin/layout")}}),l().mixin({methods:{$_useStore(s){return(0,D.oR)(s)}}});const L=[];document.body.addEventListener("click",s=>{L.forEach(o=>o(s.target))}),window.addEventListener("touchmove",s=>{L.forEach(o=>o(s.target))});const w={methods:{$clickOutsideListener(s,o){const h=O=>a.zGw(a.Bxt(o),a.qhW(Array.isArray,N=>[N]),a.hXT(a.CyQ(a.kKJ)),a.YPD(N=>N===O||N.contains(O)))(),S=O=>{h(O)&&this.$emit(`clickOutside:${s}`)};L.push(S)}}},p={methods:{__getScroller(){return this.$_layout==="sidebar"?window.document.querySelector("main"):window},__emitScroll(){this.$emit("window:scroll",window.pageYOffset)}},mounted(){const s=this.__getScroller();s&&s.addEventListener("scroll",this.__emitScroll)},destroyed(){const s=this.__getScroller();s&&s.removeEventListener("scroll",this.__emitScroll)}},j=[];window.addEventListener("resize",()=>{j.forEach(s=>s())});const I={created(){this.$resizeListener=()=>{this.$emit("window:resize",window.innerWidth)},j.push(this.$resizeListener)},destroyed(){j.splice(j.indexOf(this.$resizeListener),1)}},U=({param:s="tab",defaultTab:o}={param:"tab"})=>({computed:{[s]:{get(){return this.$route.params[s]||o},set(h){this.$route.params[s]!==h&&this.$router.replace(c._.merge({},this.$route,{params:{[s]:h}}))}}}})},"./js/vue-globals/mixins/bindApi.js":function(C,d,r){"use strict";r.r(d);var i=r("../node_modules/ramda/es/index.js");const l=(a,u)=>i.ETc(a.split("."),u);d.default={beforeCreate(){this.$options.commands&&(this.$commands=this.$options.commands)},computed:{$api(){if(!this.$options.api)return[];const a=this.$options.api;return typeof a=="function"?a.data.response:i.u4g((c,{command:y,bind:g})=>{if(typeof g=="string")return{...c,[g]:y.data.response};const x=i.u4g((R,[D,T])=>{const L=D.includes(".")?l(D,y.data):y.data[D]||y.data.response[D];return{...R,[T]:L}},{},i.Zpf(g));return{...c,...x}},{},a)}}}},"./js/vue-globals/mixins/local/clickOutside.js":function(C,d,r){"use strict";r.r(d),r.d(d,{$clickOutside:function(){return u}});var i=r("../node_modules/ramda/es/index.js");const l=[];document.body.addEventListener("click",c=>{l.forEach(i.gH4(c))}),window.addEventListener("touchstart",c=>{l.forEach(i.gH4(c))});const a=(c,y)=>i.zGw(i.qhW(Array.isArray,g=>[g]),i.hXT(i.CyQ(i.kKJ)),i.YPD(g=>g===c||g.contains(c)))(y),u={methods:{$clickOutsideListener(c,y){const g=x=>{a(x.target,y)&&this.$emit(`clickOutside:${c}`)};l.push(g)}}}},"./js/vue-globals/mixins/local/inputValidation.js":function(C,d,r){"use strict";r.r(d),r.d(d,{$inputValidation:function(){return a}});var i=r("./js/vue-globals/helpers.js"),l=r("./js/stores/index.ts");const a={inject:{groupID:{default:null},inputID:{default:null},validators:{default:()=>({})}},props:{id:{type:String,required:!1,default(){return this.inputID}},group:{type:String,required:!1,default(){return this.groupID}},novalidate:{type:Boolean,required:!1,default(){return!Object.keys(this.validators).length}}},computed:{validationStore(){return(0,l.oR)(PiniaStores.VALIDATION)},valid(){return this.validationStore.isValid(this.group,this.id)},errorState(){return!this.novalidate&&this.isUpdated&&!this.valid},isUpdated(){var u;const c=(u=this.validationStore.groups[this.group])==null?void 0:u[this.id];return typeof c=="undefined"?!1:c.updated}},methods:{$validate(u){this.id&&!this.novalidate&&this.validationStore.validate(this.groupID,this.id,u,this.validators)}},created(){if(!this.novalidate){const{validate:u}=this.$options;u&&this.$watch(u,(0,i.Ds)(this.$validate,{trailing:!0,leading:!1,delay:200}),{immediate:!0})}},destroyed(){this.novalidate||this.validationStore.deleteInput(this.group,this.id)}}},"./js/vue-globals/mixins/notification.js":function(C,d,r){"use strict";r.r(d);var i=r("./js/composables/index.ts");d.default={created(){const l=new i.d$;this.$notifications=l}}},"./js/vue-globals/mixins/reloadApiTable.js":function(C,d,r){"use strict";r.r(d);var i=r("./js/modules/constants.js");const l=u=>u.$options&&u.$options.name==="UiApiTable",a=u=>{const c=[u];let y=u;for(;y=c.shift();){if(l(y))return y;y.$children.length&&c.push(...y.$children)}return!1};d.default={methods:{$reloadApiTable({reset:u=!0}={}){const c=a(this);if(!c){i.Vi.DEV&&console.warn("$reloadApiTable called without any ui-api-table child");return}c.reloadTable(),u&&Object.assign(this.$data,this.$options.data.apply(this))}}}},"./js/vue-globals/mixins/session.js":function(C,d,r){"use strict";r.r(d);var i=r("./js/context/index.ts");d.default={computed:{$_ctx(){return i.T},$_flags(){return i.T.session.features},$_session(){return i.T.session.allValues}},methods:{$_cmd(l){return i.T.session.allowedCommands.includes(l)}}}},"./js/vue-globals/mixins/staticData.js":function(C,d,r){"use strict";r.r(d),d.default={created(){this.$options.staticData&&Object.entries(this.$options.staticData).forEach(([i,l])=>{this[i]=typeof l=="function"?l.bind(this)():l})}}},"../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/ssl/index.vue?vue&type=style&index=0&id=c8426982&prod&lang=scss&":function(){},"./js/composables/dateFilter.ts":function(C,d,r){"use strict";r.d(d,{W:function(){return c},f:function(){return a.f}});var i=r("../node_modules/ramda/es/index.js"),l=r("../node_modules/date-fns/esm/format/index.js"),a=r("./js/modules/date-formats.ts"),u=r("./js/modules/customizations/date-formats/default.ts");const c=i.WAo((y,g)=>{if(g)try{return(0,l.Z)(g,a.f.value[y])}catch(x){return console.warn(`Given ${y} format is incorrect:
${x.message}`),(0,l.Z)(g,u.d[y])}return""})},"./js/composables/filters.ts":function(C,d,r){"use strict";r.d(d,{Q0:function(){return p},aS:function(){return I},d5:function(){return j},eB:function(){return T},hT:function(){return R},kC:function(){return x},n9:function(){return w},zM:function(){return D}});var i=r("../node_modules/date-fns/esm/formatDistance/index.js"),l=r("../node_modules/punycode/punycode.es6.js"),a=r("./js/composables/dateFilter.ts"),u=r("./js/composables/gettext.ts");const{$gettext:c,$ngettext:y,$gettextInterpolate:g}=(0,u.Z)(),x=s=>{var o;return s?((o=s.at(0))===null||o===void 0?void 0:o.toUpperCase())+s.slice(1):""},R=(s,o="datetime")=>(0,a.W)(o,s),D=s=>(0,i.Z)(s,new Date),T=(s,o=1024)=>{const h=Number(s);if(!h)return"0 B";const S=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],O=Math.floor(Math.log(h)/Math.log(o));return`${parseFloat((h/o**O).toFixed(2))} ${S[O]}`},L=s=>{try{return(0,l.xX)(s)}catch(o){return s}},w=s=>(0,l.xX)(s),p=s=>{if(!s||!s.includes("@"))return s;const[o,h]=s.split("@");return[o,L(h)].join("@")},j=s=>{if(s<60)return c("less than a minute");const o=Math.floor(s/60)%60,h=Math.floor(s/3600)%24,S=Math.floor(s/(3600*24)),O=[S?y("%{days} day","%{days} days",S):null,h?y("%{hours} hour","%{hours} hours",h):null,o?y("%{minutes} minute","%{minutes} minutes",o):null].filter(Boolean).join(", ");return g(O,{days:S,hours:h,minutes:o})},I=(s,o)=>s.length<=o?s:`${s.substring(0,o)}...`,U=()=>({capitalize:x,date:R,distanceFromNow:D,humanReadableSize:T,p6eUnicode:w,p6eUnicodeEmail:p,formatUptime:j,truncateString:I})},"./js/pages/user/ssl/index.vue":function(C,d,r){"use strict";r.r(d),r.d(d,{default:function(){return De}});var i=function(){var e=this,t=e._self._c;return t("app-page",{staticClass:"pageSsl",attrs:{actions:[{label:e.$gettext("Enable SSL"),handler:e.enableSSL,icon:"#console",visible:!e.SSLOptions.enabled,theme:"safe"},{label:e.$gettext("Disable SSL"),handler:e.disableSSL,icon:"#console",visible:e.SSLOptions.enabled,theme:"danger"},{handler:()=>e.$router.push("/user/ssl/conf/ca-certificate"),label:e.$gettext("SSL CA Certificate"),icon:"#settings",visible:e.tab==="paste"}]},scopedSlots:e._u([{key:"default",fn:function(){return[e.SSLOptions.enabled?t("div",[t("app-page-section",[t("ui-tabs",{attrs:{radio:"",tabs:e.tabs,selected:e.tab},on:{"update:selected":function(n){e.tab=n}},scopedSlots:e._u([{key:"tab:server:label",fn:function(){return[t("ui-tooltip",{scopedSlots:e._u([{key:"trigger",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Use the best match certificate"))}})]},proxy:!0}],null,!1,2048387839)},[e._v(" "),t("span",{domProps:{textContent:e._s(e.$gettext("Use the server\\'s shared signed certificate. With this setting, DirectAdmin will automatically manage your certificates."))}})])]},proxy:!0},{key:"tab:server",fn:function(){return[t("server-certificate")]},proxy:!0},{key:"tab:selfsigned",fn:function(){return[t("certificate-request",{key:"selfsigned",attrs:{"self-signed":"",name:e.name,email:e.email,keysize:e.keysize,encryption:e.encryption,company:e.company,division:e.division,city:e.city,province:e.province,country:e.country},on:{submit:e.loadSSLOptions,"update:name":function(n){e.name=n},"update:email":function(n){e.email=n},"update:keysize":function(n){e.keysize=n},"update:encryption":function(n){e.encryption=n},"update:company":function(n){e.company=n},"update:division":function(n){e.division=n},"update:city":function(n){e.city=n},"update:province":function(n){e.province=n},"update:country":function(n){e.country=n}}})]},proxy:!0},{key:"tab:csr",fn:function(){return[t("certificate-request",{key:"csr",attrs:{name:e.name,email:e.email,keysize:e.keysize,encryption:e.encryption,company:e.company,division:e.division,city:e.city,province:e.province,country:e.country},on:{request:function(n){e.$dialog("CERTIFICATE_REQUEST_DIALOG").open()},"update:name":function(n){e.name=n},"update:email":function(n){e.email=n},"update:keysize":function(n){e.keysize=n},"update:encryption":function(n){e.encryption=n},"update:company":function(n){e.company=n},"update:division":function(n){e.division=n},"update:city":function(n){e.city=n},"update:province":function(n){e.province=n},"update:country":function(n){e.country=n}}})]},proxy:!0},{key:"tab:letsencrypt",fn:function(){return[t("lets-encrypt-tab",{attrs:{name:e.name,email:e.email,keysize:e.keysize,encryption:e.encryption},on:{submit:e.loadSSLOptions,"update:name":function(n){e.name=n},"update:email":function(n){e.email=n},"update:keysize":function(n){e.keysize=n},"update:encryption":function(n){e.encryption=n}}})]},proxy:!0},{key:"tab:paste",fn:function(){return[t("paste-cert")]},proxy:!0}],null,!1,1339739720)})],1),e._v(" "),t("force-ssl-option",{attrs:{"force-redirect":e.forceRedirect},on:{"update:force":e.updateForceRedirect}}),e._v(" "),t("pro-pack")],1):t("div",[t("app-page-section",[t("h5",{staticClass:"c:txt:danger"},[t("span",{domProps:{textContent:e._s(e.$gettext("SSL is currently disabled for this domain"))}})])])],1),e._v(" "),t("certificate-request-dialog")]},proxy:!0}])})},l=[],a=r("./js/api/commands/user/ssl/index.js"),u=r("./js/vue-globals/mixins.js"),c=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tab"},[t("ui-form-element",{scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("ACME Provider"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-select",{attrs:{options:{letsencrypt:"Let's Encrypt",zerossl:"ZeroSSL"}},model:{value:e.acmeProvider,callback:function(n){e.acmeProvider=n},expression:"acmeProvider"}})]},proxy:!0}])}),e._v(" "),t("common-data-editor",e._g(e._b({attrs:{"show-wildcard":e.$api.letsencrypt.wc.enabled,wildcard:e.wildcard,"disable-email":""},on:{"update:wildcard":function(n){e.wildcard=n}}},"common-data-editor",{name:e.name,keysize:e.keysize,encryption:e.encryption},!1),e.$listeners)),e._v(" "),e.haveProviders&&e.wildcard?t("ui-form-element",{scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("DNS Provider"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-select",{attrs:{options:e.dnsProviderOptions},on:{change:e.openCustomization},scopedSlots:e._u([{key:"additions:right",fn:function(){return[e.dnsCustomize?t("ui-button",{attrs:{theme:"light",size:"normal"},on:{click:e.openCustomization}},[t("span",{domProps:{textContent:e._s(e.$gettext("Customize"))}})]):e._e()]},proxy:!0}],null,!1,1785670035),model:{value:e.dnsProvider,callback:function(n){e.dnsProvider=n},expression:"dnsProvider"}})]},proxy:!0}],null,!1,2167106850)}):e._e(),e._v(" "),e.$api.letsencrypt.showOptions?t("ui-form-element",{attrs:{vertical:e.clientStore.isPhone},scopedSlots:e._u([{key:"title",fn:function(){return[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column"},expression:"{ dir: 'column' }"}],staticClass:"txt:bold"},[t("span",{class:{"c:txt:danger":e.selected.length>e.$api.requests},domProps:{textContent:e._s(e.$gettextInterpolate(e.$gettext("Selected entries count: %{n}"),{n:e.selected.length}))}}),e._v(" "),t("span",{domProps:{textContent:e._s(e.$gettextInterpolate(e.$gettext("Maximum requests per week: %{n}"),{n:e.$api.requests}))}})])]},proxy:!0},{key:"content",fn:function(){return[t("div",{staticClass:"pageSsl-leTable overfl:auto"},[t("div",{staticClass:"table pos:rel"},[t("table",{staticClass:"table-elem pos:rel z:0"},[t("thead",[t("tr",[t("th",{staticClass:"lineh:1",attrs:{width:"1%"}},[t("input-checkbox",{attrs:{title:e.selected.length?e.$gettext("Clear Selection"):e.$gettext("Select All Domains"),model:e.selected.length===e.domains.length},on:{change:function(n){e.selected=e.selected.length===e.domains.length?[]:e.domains}}})],1),e._v(" "),t("th",[t("div",{staticClass:"wrap:nowrap fx:dir:row fx:main:between fx:cross:center"},[t("span",{domProps:{textContent:e._s(e.$gettext("Certificate Entries"))}})])])])]),e._v(" "),t("tbody",e._l(e.domains,function(n){return t("tr",{key:n},[t("td",{staticClass:"lineh:1"},[t("input-checkbox",{attrs:{value:n},model:{value:e.selected,callback:function(P){e.selected=P},expression:"selected"}})],1),e._v(" "),t("td",[e._v(e._s(n))])])}),0)])])])]},proxy:!0}],null,!1,4224116180)}):e._e(),e._v(" "),t("save-button",{attrs:{valid:e.$valid("commonRequestData")&&!!e.selected.length},on:{click:e.submit}}),e._v(" "),t("ui-dialog",{attrs:{id:"DNSPROVIDER_CONFIGURATION_DIALOG",title:e.$gettext("DNS Provider Configuration")},on:{"dialog:open":function(n){e.showAdditionalConfiguration=!1}},scopedSlots:e._u([{key:"content",fn:function(){return[e._l(e.currentDnsProviderData.credentials,function(n,P){return t("ui-form-element",{key:P,attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(n)}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{value:e.configuration[P]},on:{input:function(q){return e.$set(e.configuration,P,q)}}})]},proxy:!0}],null,!0)})}),e._v(" "),!e.showAdditionalConfiguration&&e.currentDnsProviderData.additional_configuration&&Object.keys(e.currentDnsProviderData.additional_configuration).length?t("ui-link",{attrs:{bullet:""},on:{click:function(n){e.showAdditionalConfiguration=!0}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Show additional configuration"))}})]):e._e(),e._v(" "),e.showAdditionalConfiguration&&e.currentDnsProviderData.additional_configuration&&Object.keys(e.currentDnsProviderData.additional_configuration).length?e._l(e.currentDnsProviderData.additional_configuration,function(n,P){return t("ui-form-element",{key:P,attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(n)}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{value:e.configuration[P]},on:{input:function(q){return e.$set(e.configuration,P,q)}}})]},proxy:!0}],null,!0)})}):e._e()]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"safe"},on:{click:e.saveDnsProvider}},[t("span",{domProps:{textContent:e._s(e.$gettext("Save"))}})])]},proxy:!0}])})],1)},y=[],g=r("./js/stores/index.ts"),x=r("../node_modules/ramda/es/index.js"),R=function(){var e=this,t=e._self._c;return t("div",[t("ui-form-element",{attrs:{group:"commonRequestData",validators:{required:!0},vertical:e.clientStore.isPhone},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Common Name"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{value:e.name},on:{input:function(n){return e.$emit("update:name",n)}},scopedSlots:e._u([{key:"additions:right",fn:function(){return[e.showWildcard?t("ui-button",{on:{click:function(n){return e.$emit("update:wildcard",!e.wildcard)}}},[t("input-checkbox",{attrs:{model:e.wildcard}},[t("span",{domProps:{textContent:e._s(e.$gettext("Wildcard"))}})])],1):e._e()]},proxy:!0}])})]},proxy:!0}])}),e._v(" "),e.disableEmail?e._e():t("ui-form-element",{attrs:{group:"commonRequestData",validators:{required:!0,regex:e.regexps.email},vertical:e.clientStore.isPhone},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("E-mail"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{value:e.email},on:{input:function(n){return e.$emit("update:email",n)}}})]},proxy:!0},{key:"error:regex",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Should be valid email address"))}})]},proxy:!0}],null,!1,137372745)}),e._v(" "),t("ui-form-element",{attrs:{vertical:e.clientStore.isPhone},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Key Size (bits)"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-select",{attrs:{options:e.$api.keySizes,selected:e.keysize},on:{change:function(n){return e.$emit("update:keysize",n)}}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:e.clientStore.isPhone},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Certificate Type"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-select",{attrs:{options:e.$api.hashTypes,selected:e.encryption},on:{change:function(n){return e.$emit("update:encryption",n)}}})]},proxy:!0}])})],1)},D=[],T=r("./js/modules/constants.js"),L={api:[{command:a.FW,bind:{"response.keySizes.all":"keySizes","response.hashTypes.all":"hashTypes"}}],props:{name:{type:String,required:!0},email:{type:String,required:!1,default:""},keysize:{type:String,required:!0},encryption:{type:String,required:!0},wildcard:{type:Boolean,required:!1},showWildcard:{type:Boolean,required:!1},disableEmail:{type:Boolean,required:!1,default:!1}},computed:{...(0,g.Kc)(["client"])},created(){this.regexps=T.gk}},w=L,p=r("../node_modules/vue-loader/lib/runtime/componentNormalizer.js"),j=(0,p.Z)(w,R,D,!1,null,null,null),I=j.exports,U=function(){var e=this,t=e._self._c;return t("div",{directives:[{name:"flex",rawName:"v-flex",value:{main:"end"},expression:"{ main: 'end' }"},{name:"margin",rawName:"v-margin",value:[1,0],expression:"[1, 0]"}]},[t("ui-button",{attrs:{theme:"safe",disabled:!e.valid},on:{click:function(n){return e.$emit("click")}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Save"))}})])],1)},s=[],o={props:{valid:{type:Boolean,required:!1,default:!0}}},h=o,S=(0,p.Z)(h,U,s,!1,null,null,null),O=S.exports,N={components:{CommonDataEditor:I,SaveButton:O},props:{name:{type:String,required:!0},keysize:{type:String,required:!0},encryption:{type:String,required:!0}},data:()=>({acmeProvider:"letsencrypt",selected:[],wildcard:!1,dnsProvider:"",showAdditionalConfiguration:!1,configuration:{}}),api:[{command:a.FW,bind:{"response.acmeProvider":"acmeProvider","response.letsEncrypt.maxRequests":"requests","response.letsEncrypt.renewalDays":"renewalData","response.letsEncrypt":"letsencrypt","response.letsEncrypt.dnsProviders":"dnsProviders","response.letsEncrypt.backgroundDefault":"backgroundDefault"}}],computed:{domains(){return this.wildcard?this.$api.letsencrypt.wc.domains:this.$api.letsencrypt.domains},currentDomain(){return m=>[this.$domain,`*.${this.$domain}`].includes(m)},currentDomains(){return this.domains.filter(this.currentDomain)},selectedDomains(){return this.selected.map(this.$p6e.toA)},haveProviders(){return Object.keys(this.$api.dnsProviders.data).length!==0},currentDnsProviderData(){return this.$api.dnsProviders.data[this.dnsProvider]||{credentials:{},additional_configuration:{}}},dnsProviderOptions(){const m=x.zGw(x.CEd(["version"]),x.UID(x.vgT("name")));return{"":this.$gettext("Local"),...m(this.$api.dnsProviders.data)}},dnsProviderRequestData(){return!this.wildcard||!this.dnsProvider?{}:{dnsprovider:this.dnsProvider||null,...this.configuration}},dnsCustomize(){return this.dnsProvider&&Boolean(Object.keys(this.currentDnsProviderData.credentials).length)},...(0,g.Kc)(["client"])},watch:{wildcard:"setInitialSelect",$domain:{async handler(){await(0,a.FW)(),this.setInitialSelect()},immediate:!0},selected(m){if(m.includes(this.$domain))this.$emit("update:name",this.$domain);else{const[e=""]=m;this.$emit("update:name",e)}},dnsProvider(m,e){this.$api.dnsProviders.selected.value&&e&&!m&&(0,a.VB)()}},methods:{async submit(){await(0,a.lM)({acme_provider:this.acmeProvider,name:this.$p6e.toA(this.name),email:this.email,encryption:this.encryption,keysize:this.keysize,[this.wildcard?"le_wc_select":"le_select"]:this.selectedDomains,wildcard:this.wildcard,...this.dnsProviderRequestData,background:this.$api.backgroundDefault}),this.$emit("submit")},setInitialSelect(){this.selected=[],this.selected=this.wildcard?this.$api.letsencrypt.wc.selected:this.$api.letsencrypt.selected,this.selected=(0,x.jj$)([...this.currentDomains,...this.selected].map(this.$p6e.toU)),this.selected.length===0&&(this.selected=[this.$p6e.toU(this.$domain)]),this.acmeProvider=this.$api.acmeProvider},saveDnsProvider(){(0,a.mb)(this.dnsProviderRequestData)},openCustomization(){this.$nextTick(()=>{this.dnsCustomize&&this.$dialog("DNSPROVIDER_CONFIGURATION_DIALOG").open()})}}},v=N,_=(0,p.Z)(v,c,y,!1,null,null,null),f=_.exports,$=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tab"},[t("ui-form-element",{attrs:{group:"certificateRequest",validators:{required:!0,maxLength:2},vertical:e.clientStore.isPhone},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Country"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{value:e.country},on:{input:function(n){return e.$emit("update:country",n)}}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{group:"certificateRequest",validators:{required:!0},vertical:e.clientStore.isPhone},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("State/Province"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{value:e.province},on:{input:function(n){return e.$emit("update:province",n)}}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{group:"certificateRequest",validators:{required:!0},vertical:e.clientStore.isPhone},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("City"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{value:e.city},on:{input:function(n){return e.$emit("update:city",n)}}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{group:"certificateRequest",validators:{required:!0},vertical:e.clientStore.isPhone},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Company"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{value:e.company},on:{input:function(n){return e.$emit("update:company",n)}}})]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{group:"certificateRequest",vertical:e.clientStore.isPhone},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Company Division"))}})]},proxy:!0},{key:"content",fn:function(){return[t("input-text",{attrs:{value:e.division},on:{input:function(n){return e.$emit("update:division",n)}}})]},proxy:!0}])}),e._v(" "),t("common-data-editor",e._g(e._b({},"common-data-editor",{name:e.name,email:e.email,keysize:e.keysize,encryption:e.encryption},!1),e.$listeners)),e._v(" "),t("save-button",{attrs:{valid:e.$valid("certificateRequest")&&e.$valid("commonRequestData")},on:{click:e.submit}})],1)},M=[],A={components:{CommonDataEditor:I,SaveButton:O},props:{name:{type:String,required:!0},email:{type:String,required:!0},keysize:{type:String,required:!0},encryption:{type:String,required:!0},selfSigned:{type:Boolean,default:!1},country:{type:String,required:!0},province:{type:String,required:!0},city:{type:String,required:!0},company:{type:String,required:!0},division:{type:String,required:!0}},computed:{request(){return!this.selfSigned},...(0,g.Kc)(["client"])},methods:{async submit(){await(0,a.Of)({request:this.request,country:this.country,province:this.province,city:this.city,company:this.company,division:this.division,email:this.email,keysize:this.keysize,encryption:this.encryption,name:this.$p6e.toA(this.name)}),this.$emit(this.request?"request":"submit")}}},b=A,Z=(0,p.Z)(b,$,M,!1,null,null,null),E=Z.exports,W=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tab"},[t("save-button",{on:{click:e.submit}})],1)},F=[],z={components:{SaveButton:O},methods:{async submit(){await(0,a.dV)(),this.$emit("submit")}}},H=z,k=(0,p.Z)(H,W,F,!1,null,null,null),B=k.exports,Q=function(){var e=this,t=e._self._c;return t("ui-dialog",{attrs:{id:"CERTIFICATE_REQUEST_DIALOG",size:"normal","no-close-btn":"","no-auto-close":"",title:e.$gettext("Certificate Request")},scopedSlots:e._u([{key:"content",fn:function(){return[t("p",[t("span",{staticClass:"disp:block",domProps:{textContent:e._s(e.$gettext("Here is your SSL Certificate Request."))}}),e._v(" "),t("span",{staticClass:"disp:block",domProps:{textContent:e._s(e.$gettext("You will send this text to a Certificate Authority and they will give you a Signed Certificate."))}}),e._v(" "),t("span",{staticClass:"disp:block",domProps:{textContent:e._s(e.$gettext('To use it, paste the Signed Certificate on "Paste a pre-generated certificate and key" tab and click "Save".'))}})]),e._v(" "),t("ui-form-element",{attrs:{underline:!1},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-textarea",{attrs:{value:e.$api.request,disabled:"",rows:"40"}})]},proxy:!0}])}),e._v(" "),t("p",{domProps:{textContent:e._s(e.$gettext(`Be sure to copy and backup the "RSA PRIVATE KEY" along with the request. You will need it when installing the certificate. Because you're an admin, you will be saving to the "shared server certificate" and the key is not saved anywhere until you paste it with the certificate.`))}})]},proxy:!0},{key:"buttons",fn:function(){return[t("ui-button",{attrs:{theme:"light"},on:{click:e.copyRequest}},[t("span",{domProps:{textContent:e._s(e.$gettext("Copy to Clipboard"))}})])]},proxy:!0}])})},X=[],Y=r("./js/modules/utils/other.js"),V={api:[{command:a.Of,bind:{"response.request":"request"}}],methods:{copyRequest(){(0,Y.ml)(this.$api.request)&&this.$notifications.success({title:this.$gettext("Certificate Request copied to clipboard")})}}},K=V,ee=(0,p.Z)(K,Q,X,!1,null,null,null),te=ee.exports,ne=function(){var e=this,t=e._self._c;return t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("ui-grid",{attrs:{cross:"center"}},[t("input-checkbox",{model:{value:e.force,callback:function(n){e.force=n},expression:"force"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Force SSL with https redirect"))}})]),e._v(" "),t("ui-button",{attrs:{theme:"light",size:"small"},on:{click:e.submit}},[t("span",{domProps:{textContent:e._s(e.$gettext("Save"))}})])],1)]},proxy:!0}])})},se=[],ie={props:{forceRedirect:Boolean},computed:{force:{get(){return this.forceRedirect},set(m){this.$emit("update:force",m)}}},methods:{submit(){(0,a.Lm)({force_ssl:this.force})}}},re=ie,oe=(0,p.Z)(re,ne,se,!1,null,null,null),ae=oe.exports,le=function(){var e=this,t=e._self._c;return t("div",{staticClass:"tab"},[t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("h3",{domProps:{textContent:e._s(e.$gettext("Key"))}})]},proxy:!0},{key:"content",fn:function(){return[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column",cross:"start"},expression:`{
                    dir: 'column',
                    cross: 'start',
                }`},{name:"gutter",rawName:"v-gutter",value:[1,null],expression:"[1, null]"}]},[t("input-textarea",{ref:"key",staticClass:"width:100%",attrs:{rows:"10"},model:{value:e.key,callback:function(n){e.key=n},expression:"key"}}),e._v(" "),t("ui-button",{attrs:{theme:"primary"},on:{click:function(n){return e.copyToClipboard("key")}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Copy to clipboard"))}})])],1)]},proxy:!0}])}),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"title",fn:function(){return[t("h3",{domProps:{textContent:e._s(e.$gettext("Certificate"))}})]},proxy:!0},{key:"content",fn:function(){return[t("div",[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{dir:"column",cross:"start"},expression:"{ dir: 'column', cross: 'start' }"},{name:"gutter",rawName:"v-gutter",value:[1,null],expression:"[1, null]"}]},[e.apiData.certHosts||e.apiData.certExpiry?t("table",[e.leRenewDays?t("tr",[t("td",{attrs:{colspan:"2"}},[t("div",{directives:[{name:"flex",rawName:"v-flex",value:{cross:"center",main:"between"},expression:`{
                                        cross: 'center',
                                        main: 'between',
                                    }`}]},[t("span",{staticClass:"txt:bold",domProps:{textContent:e._s(e.$gettextInterpolate(e.$gettext("ACME in use. Auto Renewal in %{n} Days."),{n:e.leRenewDays}))}}),e._v(" "),t("ui-button",{attrs:{size:"normal",theme:"safe"},on:{click:e.disableLEAutoRenew}},[t("span",{domProps:{textContent:e._s(e.$gettext("Disable Auto-Renew"))}})])],1)])]):e._e(),e._v(" "),e.apiData.certHosts?t("tr",[t("td",[t("span",{staticClass:"txt:bold",domProps:{textContent:e._s(e.$gettext("Certificate Hosts"))}})]),e._v(" "),t("td",[e._v(e._s(e.apiData.certHosts))])]):e._e(),e._v(" "),e.apiData.certExpiry?t("tr",[t("td",[t("span",{staticClass:"txt:bold",domProps:{textContent:e._s(e.$gettext("Certificate Expiry"))}})]),e._v(" "),t("td",[e._v(e._s(e.apiData.certExpiry))])]):e._e()]):e._e(),e._v(" "),t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.cert,expression:"cert"}],ref:"cert",staticClass:"pageSsl-keyArea width:100%",attrs:{rows:"10"},domProps:{value:e.cert},on:{input:function(n){n.target.composing||(e.cert=n.target.value)}}}),e._v(" "),t("ui-button",{attrs:{theme:"primary"},on:{click:function(n){return e.copyToClipboard("cert")}}},[t("span",{domProps:{textContent:e._s(e.$gettext("Copy to clipboard"))}})])],1)])]},proxy:!0}])}),e._v(" "),t("save-button",{on:{click:e.submit}})],1)},ue=[],ce={components:{SaveButton:O},data:()=>({key:"",cert:""}),api:[{command:a.FW,bind:"ssl"}],computed:{certificate(){return`${this.key}
${this.cert}`},apiData(){return this.$api.ssl},leRenewDays(){return this.apiData.letsEncrypt.renewalDays}},created(){this.$watch("apiData",this.initData,{immediate:!0,deep:!0})},methods:{copyToClipboard(m){(0,Y.ml)(this[m])},initData(){this.cert=this.apiData.cert,this.key=this.apiData.key},submit(){(0,a.T7)({certificate:this.certificate})},async disableLEAutoRenew(){await(0,a.Ng)(),(0,a.FW)()}}},de=ce,pe=(0,p.Z)(de,le,ue,!1,null,null,null),me=pe.exports,fe=function(){var e=this,t=e._self._c;return e.showProPack?t("app-page-section",{scopedSlots:e._u([{key:"section:title",fn:function(){return[t("span",{domProps:{textContent:e._s(e.$gettext("Automated SSL Certificates Information"))}})]},proxy:!0},{key:"default",fn:function(){return[t("ui-tabs",{attrs:{tabs:e.tabs},scopedSlots:e._u([{key:"tab:snidomains:label",fn:function(){return[t("span",{staticClass:"wrap:nowrap",domProps:{textContent:e._s(e.$gettext("SNI Hosts"))}})]},proxy:!0},{key:"tab:certificates",fn:function(){return[t("ui-r-table",{key:"certs-table",attrs:{columns:[{id:"cert_file_host",label:e.$gettext("Certificate")},{id:"hosts",label:e.$gettext("Hosts")}],rows:e.certificates,"checked-rows":e.selectedCertificates,"hide-before-controls":""},on:{"update:checkedRows":function(n){e.selectedCertificates=n}},scopedSlots:e._u([{key:"table:actions",fn:function(){return[t("ui-table-action",{key:"retry-action",on:{click:e.retryCertificates}},[t("span",{domProps:{textContent:e._s(e.$gettext("Retry"))}})]),e._v(" "),t("ui-table-action",{key:"remove-action",on:{click:e.deleteCertificates}},[t("span",{domProps:{textContent:e._s(e.$gettext("Delete"))}})])]},proxy:!0},{key:"col:cert_file_host",fn:function({cert_file_host:n,certificate_info:P}){return[e._v(`
                        `+e._s(e.$p6e.toU(n))+`
                        `),t("ui-tooltip",[t("table",{staticClass:"table-elem"},e._l(P,function(q,J){return t("tr",{key:`${q}${J}`,staticStyle:{"background-color":"transparent"}},[t("td",{staticClass:"wrap:nowrap txt:bold",domProps:{textContent:e._s(J)}}),e._v(" "),t("td",{domProps:{textContent:e._s(q)}})])}),0)])]}},{key:"col:hosts",fn:function({item:n}){return e._l(n.certificate_domains,function(P){return t("div",{key:P},[e._v(`
                            `+e._s(P)+`
                        `)])})}}],null,!1,3154422991)})]},proxy:!0},{key:"tab:retries",fn:function(){return[t("ui-r-table",{key:"retries-table",attrs:{rows:e.retries,columns:[{id:"host",label:e.$gettext("Retries")},{id:"hosts",label:e.$gettext("Hosts")},{id:"next_retry",label:e.$gettext("Next Retry")}],"hide-before-controls":"","checked-rows":e.selectedRetries},on:{"update:checkedRows":function(n){e.selectedRetries=n}},scopedSlots:e._u([{key:"col:host",fn:function({host:n}){return[e._v(`
                        `+e._s(e.$p6e.toU(n))+`
                    `)]}},{key:"col:hosts",fn:function({hosts:n}){return e._l(n,function(P){return t("div",{key:P},[e._v(`
                            `+e._s(P)+`
                        `)])})}},{key:"col:next_retry",fn:function({next_retry:n}){return[e._v(`
                        `+e._s(e.date(n,"datetime"))+`
                    `)]}},{key:"table:actions",fn:function(){return[t("ui-table-action",{on:{click:e.forceRetry}},[t("span",{domProps:{textContent:e._s(e.$gettext("Retry Now"))}})]),e._v(" "),t("ui-table-action",{on:{click:e.cancelRetry}},[t("span",{domProps:{textContent:e._s(e.$gettext("Cancel"))}})])]},proxy:!0}],null,!1,4065377150)})]},proxy:!0},{key:"tab:snidomains",fn:function(){return[t("ui-r-table",{key:"snidomains-table",attrs:{rows:e.snidomains,"is-checkable":!1,columns:[{id:"host",label:e.$gettext("SNI Host")},{id:"cert",label:e.$gettext("Certificate")}],"hide-before-controls":""}})]},proxy:!0},{key:"tab:manual",fn:function(){return[t("app-page-section",{scopedSlots:e._u([{key:"footer:buttons",fn:function(){return[t("ui-button",{attrs:{theme:"safe"},on:{click:e.manualRetry}},[t("span",{domProps:{textContent:e._s(e.$gettext("Trigger Retry for this Domain"))}})])]},proxy:!0}],null,!1,1796429639)},[e._v(`
                    `+e._s(e.$gettext("Used to trigger the auto-creation of certificate on a pre-existent host."))+`
                    `),t("ul",[t("li",{domProps:{textContent:e._s(e.$gettext("The subdomains will be ignored if a wildcard is used."))}}),e._v(" "),t("li",{domProps:{textContent:e._s(e.$gettext("Only use wildcards for locally controlled dns zones."))}}),e._v(" "),t("li",{domProps:{textContent:e._s(e.$gettext("Wildcard failure will automatically attempt an http based fallback request for all sub-hosts."))}})]),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.manual.wildcard,callback:function(n){e.$set(e.manual,"wildcard",n)},expression:"manual.wildcard"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Wildcard:"))}}),e._v(`
                                *.`+e._s(e.$domain)+", "+e._s(e.$domain)+`
                            `)])]},proxy:!0}],null,!1,977630013)}),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.manual.subdomains,callback:function(n){e.$set(e.manual,"subdomains",n)},expression:"manual.subdomains"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Sub-Domains"))}})])]},proxy:!0}],null,!1,2238878758)}),e._v(" "),t("ui-form-element",{attrs:{vertical:""},scopedSlots:e._u([{key:"content",fn:function(){return[t("input-checkbox",{model:{value:e.manual.pointers,callback:function(n){e.$set(e.manual,"pointers",n)},expression:"manual.pointers"}},[t("span",{domProps:{textContent:e._s(e.$gettext("Domain Pointers"))}})])]},proxy:!0}],null,!1,224946763)})],1)]},proxy:!0}],null,!1,396502504)})]},proxy:!0}],null,!1,365150104)}):e._e()},_e=[],G=r("./js/api/commands/user/ssl/pro.js"),ve=r("./js/composables/filters.ts"),ye={api:a.FW,data:()=>({selectedCertificates:[],selectedRetries:[],manual:{wildcard:!0,pointers:!1,subdomains:!1}}),computed:{showProPack(){return this.$api&&this.$api.pro!==!1},tabs(){return[{id:"certificates",label:this.$gettext("Certificates")},{id:"retries",label:this.$gettext("Next Retries")},{id:"snidomains",label:this.$gettext("SNI Hosts")},{id:"manual",label:this.$gettext("Manual Trigger")}]},certificates(){return this.$api.pro.certificates},retries(){return this.$api.pro.retries},snidomains(){return this.$api.pro.snidomains}},methods:{date:ve.hT,async retryCertificates(){const m=this.selectedCertificates.map(e=>e.cert_file_host);await(0,G.AW)({select:m}),(0,a.FW)(),this.selectedCertificates=[]},async deleteCertificates(){const m=this.selectedCertificates.map(e=>e.cert_file_host);await(0,G.vn)({select:m}),(0,a.FW)(),this.selectedCertificates=[]},async forceRetry(){const m=this.selectedRetries.map(e=>e.host);await(0,G.HB)({select:m}),(0,a.FW)(),this.selectedRetries=[]},async cancelRetry(){const m=this.selectedRetries.map(e=>e.host);await(0,G._u)({select:m}),(0,a.FW)(),this.selectedRetries=[]},manualRetry(){(0,G.XZ)(this.manual)}}},he=ye,ge=(0,p.Z)(he,fe,_e,!1,null,null,null),xe=ge.exports,be=r("./js/modules/errors.js"),Se={components:{LetsEncryptTab:f,CertificateRequest:E,CertificateRequestDialog:te,ServerCertificate:B,PasteCert:me,ForceSslOption:ae,ProPack:xe},mixins:[(0,u.$bindTab)({defaultTab:"server",param:"tab"})],async beforeRouteEnter(m,e,t){await(0,a.FW)(),t()},api:[{command:a.FW,bind:"ssl"}],data:()=>({name:"",email:"",keysize:"",encryption:"",country:"",province:"",city:"",company:"",division:"",forceRedirect:!1}),computed:{SSLOptions(){return this.$api.ssl},tabs(){return[this.SSLOptions.letsEncrypt.enabled?{id:"letsencrypt",label:this.$gettext("Get automatic certificate from ACME Provider")}:void 0,{id:"paste",label:this.$gettext("Paste a pre-generated certificate and key")},{id:"csr",label:this.$gettext("Create A Certificate Request")},{id:"server",label:this.$gettext("Use the best match certificate")},{id:"selfsigned",label:this.$gettext("Create your own self signed certificate")}].filter(e=>!!e)},proPack(){return this.$api.ssl.pro}},watch:{$domain:"loadSSLOptions"},created(){this.getSSLOptions()},mounted(){this.$nextTick(()=>{this.tab=this.SSLOptions.tab})},methods:{getSSLOptions(){var m,e,t,n;this.encryption=(e=(m=this.SSLOptions.hashTypes)==null?void 0:m.current)!=null?e:"",this.keysize=(n=(t=this.SSLOptions.keySizes)==null?void 0:t.current)!=null?n:"",this.certificate=this.SSLOptions.cert,this.key=this.SSLOptions.key,Object.assign(this,this.SSLOptions.values),this.name=this.$p6e.toU(this.name||this.$domain),this.forceRedirect=this.SSLOptions.options.forceRedirect},async loadSSLOptions(){await(0,a.FW)()instanceof be.cF&&(this.$api.ssl.enabled=!1),this.SSLOptions.enabled&&(this.getSSLOptions(),this.$nextTick(()=>{this.tab=this.SSLOptions.tab}))},enableSSL(){(0,a.$c)().then(this.loadSSLOptions)},disableSSL(){(0,a.UJ)().then(this.loadSSLOptions)},updateForceRedirect(m){this.forceRedirect=m}}},Ee=Se,$e=r("../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/ssl/index.vue?vue&type=style&index=0&id=c8426982&prod&lang=scss&"),Ce=(0,p.Z)(Ee,i,l,!1,null,null,null),De=Ce.exports},"../node_modules/vue-style-loader/index.js!../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/ssl/index.vue?vue&type=style&index=0&id=c8426982&prod&lang=scss&":function(C,d,r){var i=r("../node_modules/mini-css-extract-plugin/dist/loader.js??clonedRuleSet-13.use[1]!../node_modules/css-loader/dist/cjs.js??clonedRuleSet-13.use[2]!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-13.use[3]!../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-13.use[4]!../node_modules/vue-loader/lib/index.js??vue-loader-options!../node_modules/unplugin/dist/webpack/loaders/transform.js?unpluginName=unplugin-vue-define-options!./js/pages/user/ssl/index.vue?vue&type=style&index=0&id=c8426982&prod&lang=scss&");i.__esModule&&(i=i.default),typeof i=="string"&&(i=[[C.id,i,""]]),i.locals&&(C.exports=i.locals);var l=r("../node_modules/vue-style-loader/lib/addStylesClient.js").Z,a=l("f8e681fc",i,!0,{})},"./js/vue-globals/mixins sync recursive \\.js$":function(C,d,r){var i={"./bindApi.js":"./js/vue-globals/mixins/bindApi.js","./local/clickOutside.js":"./js/vue-globals/mixins/local/clickOutside.js","./local/inputValidation.js":"./js/vue-globals/mixins/local/inputValidation.js","./notification.js":"./js/vue-globals/mixins/notification.js","./reloadApiTable.js":"./js/vue-globals/mixins/reloadApiTable.js","./session.js":"./js/vue-globals/mixins/session.js","./staticData.js":"./js/vue-globals/mixins/staticData.js","vue-globals/mixins/bindApi.js":"./js/vue-globals/mixins/bindApi.js","vue-globals/mixins/local/clickOutside.js":"./js/vue-globals/mixins/local/clickOutside.js","vue-globals/mixins/local/inputValidation.js":"./js/vue-globals/mixins/local/inputValidation.js","vue-globals/mixins/notification.js":"./js/vue-globals/mixins/notification.js","vue-globals/mixins/reloadApiTable.js":"./js/vue-globals/mixins/reloadApiTable.js","vue-globals/mixins/session.js":"./js/vue-globals/mixins/session.js","vue-globals/mixins/staticData.js":"./js/vue-globals/mixins/staticData.js"};function l(u){var c=a(u);return r(c)}function a(u){if(!r.o(i,u)){var c=new Error("Cannot find module '"+u+"'");throw c.code="MODULE_NOT_FOUND",c}return i[u]}l.keys=function(){return Object.keys(i)},l.resolve=a,C.exports=l,l.id="./js/vue-globals/mixins sync recursive \\.js$"}}]);
